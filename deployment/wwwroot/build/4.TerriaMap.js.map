{"version":3,"sources":["webpack:///./node_modules/terriajs-html2canvas/dist/npm/renderer/CanvasRenderer.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/Logger.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/parsing/padding.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/parsing/overflowWrap.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/parsing/position.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/parsing/textTransform.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/Input.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/TextBounds.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/renderer/ForeignObjectRenderer.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/Unicode.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/Font.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/Proxy.js","webpack:///./node_modules/terriajs/lib/Models/Leaflet.ts","webpack:///./node_modules/terriajs-cesium/Source/Core/cancelAnimationFrame.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/index.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/Window.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/NodeParser.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/StackingContext.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/drawing/Size.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/drawing/BezierCurve.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/parsing/borderRadius.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/parsing/display.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/parsing/float.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/parsing/font.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/parsing/letterSpacing.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/parsing/lineBreak.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/parsing/margin.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/parsing/overflow.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/parsing/textShadow.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/parsing/transform.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/parsing/visibility.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/parsing/word-break.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/parsing/zIndex.js","webpack:///./node_modules/css-line-break/dist/index.js","webpack:///./node_modules/css-line-break/dist/LineBreak.js","webpack:///./node_modules/css-line-break/dist/Trie.js","webpack:///./node_modules/css-line-break/dist/linebreak-trie.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/drawing/Circle.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/Renderer.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/Gradient.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/Angle.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/Clone.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/ResourceLoader.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/PseudoNodeContent.js","webpack:///./node_modules/terriajs/lib/Map/CesiumTileLayer.ts","webpack:///./node_modules/terriajs/lib/Map/LeafletDataSourceDisplay.ts","webpack:///./node_modules/terriajs/lib/Map/LeafletScene.ts","webpack:///./node_modules/terriajs/lib/Map/LeafletSelectionIndicator.ts","webpack:///./node_modules/terriajs/lib/Map/LeafletVisualizer.ts","webpack:///./node_modules/terriajs/lib/Map/MapboxVectorCanvasTileLayer.ts","webpack:///./node_modules/terriajs/lib/Map/rectangleToLatLngBounds.ts","webpack:///./node_modules/terriajs-html2canvas/dist/npm/Color.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/Length.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/Bounds.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/NodeContainer.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/Util.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/parsing/background.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/drawing/Path.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/drawing/Vector.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/parsing/listStyle.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/TextContainer.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/Feature.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/parsing/textDecoration.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/parsing/border.js","webpack:///./node_modules/css-line-break/dist/Util.js","webpack:///./node_modules/terriajs-html2canvas/dist/npm/ListItem.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_Path","_textDecoration","addColorStops","gradient","canvasGradient","maxStop","Math","max","apply","colorStops","map","colorStop","stop","f","forEach","addColorStop","color","toString","CanvasRenderer","canvas","instance","TypeError","_classCallCheck","this","document","createElement","options","ctx","getContext","width","floor","scale","height","style","translate","x","y","textBaseline","logger","log","clipPaths","callback","_this","save","path","clip","restore","image","source","destination","drawImage","left","top","fillStyle","fill","setTransform","Promise","resolve","_path","_this2","beginPath","Array","isArray","point","index","start","type","PATH","VECTOR","moveTo","lineTo","BEZIER_CURVE","bezierCurveTo","startControl","endControl","end","arc","radius","PI","closePath","fillRect","bounds","linearGradient","createLinearGradient","direction","x1","y1","x0","y0","_this3","center","radialGradient","createRadialGradient","midX","midY","invF","transform","imageSize","offsetX","offsetY","createPattern","resizeImage","textBounds","font","textDecoration","textShadows","_this4","fontStyle","fontVariant","fontWeight","fontSize","fontFamily","join","text","trim","slice","reverse","textShadow","shadowColor","shadowOffsetX","shadowOffsetY","shadowBlur","blur","fillText","textDecorationColor","textDecorationLine","TEXT_DECORATION_LINE","UNDERLINE","baseline","fontMetrics","getMetrics","rectangle","round","OVERLINE","LINE_THROUGH","middle","ceil","size","ownerDocument","opacity","globalAlpha","matrix","default","Logger","enabled","id","window","Date","now","console","_len","arguments","args","_key","Function","bind","call","concat","error","_len2","_key2","parsePadding","PADDING_SIDES","undefined","obj","_Length","_Length2","__esModule","TOP","RIGHT","BOTTOM","LEFT","SIDES","side","getPropertyValue","OVERFLOW_WRAP","NORMAL","BREAK_WORD","parseOverflowWrap","overflow","POSITION","STATIC","RELATIVE","ABSOLUTE","FIXED","STICKY","parsePosition","position","TEXT_TRANSFORM","NONE","LOWERCASE","UPPERCASE","CAPITALIZE","parseTextTransform","textTransform","reformatInputBounds","inlineSelectElement","inlineTextAreaElement","inlineInputElement","getInputBorderRadius","INPUT_BACKGROUND","INPUT_BORDERS","INPUT_COLOR","_TextContainer2","_interopRequireDefault","_background","_border","_Circle2","_Vector2","_Color2","_Util","INPUT_BORDER_COLOR","INPUT_BACKGROUND_COLOR","INPUT_BORDER","borderWidth","borderColor","borderStyle","BORDER_STYLE","SOLID","RADIO_BORDER_RADIUS","backgroundColor","backgroundImage","backgroundClip","BACKGROUND_CLIP","PADDING_BOX","backgroundOrigin","BACKGROUND_ORIGIN","RADIO_BORDER_RADIUS_TUPLE","INPUT_RADIO_BORDER_RADIUS","CHECKBOX_BORDER_RADIUS","CHECKBOX_BORDER_RADIUS_TUPLE","INPUT_CHECKBOX_BORDER_RADIUS","inlineFormElement","node","container","checked","min","childNodes","push","getInputValue","option","selectedIndex","allowLinebreak","body","wrapper","copyCSSStyles","defaultView","getComputedStyle","whiteSpace","createTextNode","appendChild","fromTextNode","removeChild","placeholder","parseTextBounds","TextBounds","_Bounds","_Feature","_Feature2","_Unicode","getWrapperBounds","parent","textList","letterSpacing","toCodePoints","fromCodePoint","breakWords","parentNode","scrollX","pageXOffset","scrollY","pageYOffset","offset","TEXT_DECORATION","SUPPORT_RANGE_BOUNDS","getRangeBounds","replacementNode","splitText","cloneNode","replaceChild","parseBounds","firstChild","Bounds","range","createRange","setStart","setEnd","fromClientRect","getBoundingClientRect","ForeignObjectRenderer","element","svg","createForeignObjectSVG","windowWidth","windowHeight","loadSerializedSVG","then","img","xmlns","createElementNS","foreignObject","setAttributeNS","reject","Image","onload","onerror","src","encodeURIComponent","XMLSerializer","serializeToString","_cssLineBreak","get","_NodeContainer","_overflowWrap","str","breaker","LineBreaker","lineBreak","wordBreak","overflowWrap","words","bk","next","done","FontMetrics","_data","_document","span","Error","visibility","margin","padding","SMALL_IMAGE","verticalAlign","offsetTop","lineHeight","_parseMetrics","Proxy","proxy","responseType","SUPPORT_CORS_XHR","SUPPORT_RESPONSE_TYPE","xhr","XMLHttpRequest","XDomainRequest","status","response","reader","FileReader","addEventListener","result","e","readAsDataURL","responseText","open","imageTimeout","timeout","ontimeout","send","require","Leaflet","terriaViewer","DataSourceCollection","computedFn","ip","clippingRectangle","layerOptions","MapboxVectorTileImageryProvider","MapboxVectorCanvasTileLayer","CesiumTileLayer","terria","L","zoomControl","attributionControl","zoomSnap","preferCanvas","worldCopyJump","setView","on","updateMapObservables","scene","LeafletScene","_attributionControl","control","attribution","addControl","_leafletVisualizer","LeafletVisualizer","_selectionIndicator","LeafletSelectionIndicator","dataSourceDisplay","LeafletDataSourceDisplay","dataSourceCollection","dataSources","visualizersCallback","_eventHelper","EventHelper","add","timelineClock","onTick","clock","update","currentTime","ticker","_stopRequestAnimationFrame","tick","_cesiumReqAnimFrameId","_disposeWorkbenchMapItemsSubscription","observeModelLayer","_disposeSplitterReaction","_reactToSplitterChanges","_disposeDisableInteractionSubscription","autorun","interactions","touchZoom","doubleClickZoom","scrollWheelZoom","boxZoom","keyboard","dragging","tap","pickLocation","pickFeature","entity","event","_featurePicked","mouseEvent","mouseCoords","updateCoordinatesFromLeaflet","originalEvent","disableInteraction","handler","disable","off","featureClicked","removeEventListener","_disposeSelectedFeatureSubscription","enable","feature","selectedFeature","_selectFeature","_initProgressEvent","getSize","nw","containerPointToLayerPoint","se","parts","item","TileErrorHandlerMixin","isMixedInto","imageryProvider","errorEvent","onTileLoadError","_createImageryLayer","onTileLoadChange","tilesLoadingCount","eachLayer","layerOrGridlayer","layer","_tiles","keys","filter","loaded","_updateTilesLoadingCount","evt","latlng","lng","wrap","_pickFeatures","getContainer","_pauseMapInteractionCount","setTimeout","removeAll","destroy","remove","catalogItems","items","baseMap","allImagery","isDefined","mapItems","ImageryParts","is","RasterLayerTraits","_leafletUpdateInterval","leafletUpdateInterval","_makeImageryLayerFromParts","mapLayer","isImageryLayer","findIndex","im","removeLayer","zIndex","show","setOpacity","alpha","setZIndex","hasLayer","addLayer","allDataSources","isDataSource","d","indexOf","contains","raiseToTop","flightDurationSeconds","entities","getLatLngBounds","extent","Rectangle","CameraView","MappableMixin","cesiumRectangle","doZoomTo","east","west","clone","CesiumMath","TWO_PI","flyToBounds","animate","duration","getBounds","fromDegrees","getWest","getSouth","getEast","getNorth","latLngHeight","providerCoords","existingFeatures","latLng","lat","latitude","longitude","alt","pickMode","MapInteractionMode","message","i18next","t","onCancel","mapInteractionModeStack","pop","pickedFeatures","allFeaturesAvailablePromise","runInAction","features","entityCollection","owner","DataSource","name","GlobeOrMap","_featureHighlightName","Feature","fromEntityCollectionOrEntity","_pickedFeatures","pickPosition","_value","tileCoordinates","ignoreSplitter","PickedFeatures","cleanup","newPickLocation","Ellipsoid","WGS84","cartographicToCartesian","pickedLocation","imageryLayers","allowFeatureInfoRequests","sort","a","b","Cartographic","promises","imageryLayer","imageryLayerUrl","url","longRadians","toRadians","latRadians","getFeaturePickingCoords","coords","pickFeatures","level","all","results","promiseResult","isLoading","filteredResults","reduce","coordsSoFar","allFeatures","showSplitter","screenPosition","_computePositionOnScreen","pickedSide","_getSplitterSideForScreenPosition","layerDirection","splitDirection","ImagerySplitDirection","_createFeatureFromImageryLayerFeature","mainViewer","splitPosition","SplitterTraits","layers","getImageryLayersForItem","action","notifyRepaintRequired","m","cartographicScratch","cartographic","cartesianToCartographic","latLngToContainerPoint","toDegrees","Cartesian2","_highlightFeature","getValue","setLatLng","animateSelectionIndicatorAppear","animateSelectionIndicatorDepart","clipLeft","clipRight","clipPositionWithinMap","clipX","right","className","promise","clips","getClipsForSplitter","replace","useCORS","ignoreElements","isSplitterDragThumb","leftCanvas","rightCanvas","combined","context","split","devicePixelRatio","toDataURL","always","addTo","maxZoom","bringToFront","observable","someLayer","object","implementation","cancelAnimationFrame","vendors","len","clearTimeout","requestID","_extends","assign","hasOwnProperty","_CanvasRenderer2","_Logger2","_Window","html2canvas","conf","config","logging","defaultOptions","async","allowTaint","removeContainer","foreignObjectRendering","innerWidth","innerHeight","renderElement","module","_slicedToArray","arr","Symbol","iterator","_arr","_n","_d","_e","_s","_i","err","sliceIterator","_NodeParser","_Renderer2","_ForeignObjectRenderer2","_Clone","_Font","_Color","windowBounds","documentBackgroundColor","documentElement","TRANSPARENT","bodyBackgroundColor","isTransparent","SUPPORT_FOREIGNOBJECT_DRAWING","supportForeignObject","cloner","DocumentCloner","inlineFonts","resourceLoader","ready","renderer","_ref","tagName","parseDocumentSize","render","cloneWindow","_ref2","_ref3","clonedElement","stack","NodeParser","clonedDocument","background","imageStore","_ref4","renderOptions","_StackingContext2","_NodeContainer2","_Input","_ListItem","_listStyle","parseNodeTree","IGNORED_NODE_NAMES","nextNode","childNode","nextSibling","Text","data","HTMLElement","nodeName","isVisible","listStyle","listStyleType","LIST_STYLE_TYPE","inlineListItemElement","SHOULD_TRAVERSE_CHILDREN","treatAsRealStackingContext","createsRealStackingContext","createsStackingContext","parentStack","isPositioned","getRealParentStackingContext","childStack","contexts","children","SVGSVGElement","_container","_treatAsRealStackingContext","_parentStack","_childStack","isRootElement","isPositionedWithZIndex","isTransformed","isBodyWithTransparentRoot","isFloating","StackingContext","getOpacity","Size","_Vector","lerp","BezierCurve","firstHalf","ab","bc","cd","abbc","bccd","dest","parseBorderRadius","_value$split$map","create","_value$split$map2","horizontal","vertical","DISPLAY","BLOCK","INLINE","RUN_IN","FLOW","FLOW_ROOT","TABLE","FLEX","GRID","RUBY","SUBGRID","LIST_ITEM","TABLE_ROW_GROUP","TABLE_HEADER_GROUP","TABLE_FOOTER_GROUP","TABLE_ROW","TABLE_CELL","TABLE_COLUMN_GROUP","TABLE_COLUMN","TABLE_CAPTION","RUBY_BASE","RUBY_TEXT","RUBY_BASE_CONTAINER","RUBY_TEXT_CONTAINER","CONTENTS","INLINE_BLOCK","INLINE_LIST_ITEM","INLINE_TABLE","INLINE_FLEX","INLINE_GRID","setDisplayBit","bit","display","parseDisplayValue","parseDisplay","FLOAT","INLINE_START","INLINE_END","parseCSSFloat","float","parseFont","weight","parseInt","isNaN","parseFontWeight","parseLetterSpacing","parseFloat","LINE_BREAK","STRICT","parseLineBreak","parseMargin","OVERFLOW","VISIBLE","HIDDEN","SCROLL","AUTO","parseOverflow","parseTextShadow","NUMBER","currentValue","isLength","values","shadows","numParens","appendValue","appendShadow","splice","c","test","parseTransform","toFloat","s","MATRIX","parseTransformOrigin","parseTransformMatrix","webkitTransform","mozTransform","msTransform","oTransform","transformOrigin","webkitTransformOrigin","mozTransformOrigin","msTransformOrigin","oTransformOrigin","origin","v","match","matrix3d","VISIBILITY","COLLAPSE","parseVisibility","WORD_BREAK","BREAK_ALL","KEEP_ALL","parseWordBreak","parseZIndex","auto","order","_LineBreak","inlineBreakOpportunities","lineBreakAtIndex","codePointsToCharacterClasses","UnicodeTrie","BREAK_ALLOWED","BREAK_NOT_ALLOWED","BREAK_MANDATORY","classes","LETTER_NUMBER_MODIFIER","_Trie","_linebreakTrie","_linebreakTrie2","SP","BA","HY","CL","CP","EX","IN","NS","OP","IS","NU","PO","PR","SY","AL","EB","EM","H2","H3","ID","JL","JV","JT","SA","BK","CR","LF","CM","NL","SG","WJ","ZW","GL","ZWJ","B2","BB","CB","QU","AI","CJ","HL","RI","XX","createTrieFromBase64","ALPHABETICS","HARD_LINE_BREAKS","SPACE","PREFIX_POSTFIX","LINE_BREAKS","KOREAN_SYLLABLE_BLOCK","HYPHEN","codePoints","types","indicies","categories","codePoint","classType","prev","isAdjacentWithSpaceIgnored","currentIndex","classTypes","current","n","_next","previousNonSpaceClassType","_lineBreakAtIndex","forbiddenBreaks","beforeIndex","afterIndex","before","prevIndex","_prevIndex","_type","count","cssFormattedClasses","_codePointsToCharacte","_codePointsToCharacte2","_codePointsToCharacte3","_codePointsToCharacte4","isLetterNumber","Break","output","_cssFormattedClasses","_cssFormattedClasses2","forbiddenBreakpoints","_codePoints","required","arr2","from","_toConsumableArray","_cssFormattedClasses3","_cssFormattedClasses4","lastEnd","nextIndex","Trie","UTRIE2_INDEX_2_MASK","UTRIE2_INDEX_2_BLOCK_LENGTH","UTRIE2_OMITTED_BMP_INDEX_1_LENGTH","UTRIE2_INDEX_1_OFFSET","UTRIE2_UTF8_2B_INDEX_2_LENGTH","UTRIE2_UTF8_2B_INDEX_2_OFFSET","UTRIE2_INDEX_2_BMP_LENGTH","UTRIE2_LSCP_INDEX_2_LENGTH","UTRIE2_DATA_MASK","UTRIE2_DATA_BLOCK_LENGTH","UTRIE2_LSCP_INDEX_2_OFFSET","UTRIE2_SHIFT_1_2","UTRIE2_INDEX_SHIFT","UTRIE2_SHIFT_1","UTRIE2_SHIFT_2","base64","buffer","decode","view32","polyUint32Array","Uint32Array","view16","polyUint16Array","Uint16Array","headerLength","initialValue","errorValue","highStart","highValueIndex","ix","Circle","CIRCLE","_Gradient","_TextContainer","Renderer","renderNodeBackgroundAndBorders","renderNodeContent","child","renderTextNode","drawShape","_image","contentBox","calculateContentBox","border","_width","_height","calculatePaddingBoxPath","curvedBounds","paths","getClipPaths","HAS_BACKGROUND","hasRenderableBorders","some","backgroundPaintingArea","calculateBackgroungPaintingArea","renderBackgroundImage","renderBorder","method","renderBackgroundRepeat","renderBackgroundGradient","backgroundPositioningArea","calculateBackgroungPositioningArea","backgroundImageSize","calculateBackgroundSize","calculateBackgroundPosition","calculateBackgroundRepeatPath","_offsetX","_offsetY","renderRepeat","calculateGradientBackgroundSize","gradientBounds","parseGradient","GRADIENT_TYPE","LINEAR_GRADIENT","renderLinearGradient","RADIAL_GRADIENT","renderRadialGradient","curvePoints","parsePathForBorder","_opacity","_transform","renderStackContent","_splitStackingContext","splitStackingContexts","_splitStackingContext2","negativeZIndex","zeroOrAutoZIndexOrTransformedOrOpacity","positiveZIndex","nonPositionedFloats","nonPositionedInlineLevel","_splitDescendants","splitDescendants","_splitDescendants2","inlineLevel","nonInlineLevel","sortByZIndex","renderStack","renderNode","getTarget","isInlineLevel","transformWebkitRadialGradientArgs","RadialGradient","LinearGradient","RADIAL_GRADIENT_SHAPE","_Angle","SIDE_OR_CORNER","PERCENTAGE_ANGLES","ENDS_WITH_LENGTH","FROM_TO_COLORSTOP","RADIAL_SHAPE_DEFINITION","ELLIPSE","LENGTH_FOR_POSITION","bottom","shape","parseColorStops","prefix","parseLinearGradient","transformObsoleteColorStops","parseRadialGradient","firstColorStopIndex","lineLength","HAS_LENGTH","lastSpaceIndex","lastIndexOf","_color","substring","_stop","absoluteValuedColorStops","getAbsoluteValue","previousColorStop","_stop2","steps","stepSize","hasPrefix","angle","parseAngle","HAS_SIDE_OR_CORNER","HAS_DIRECTION","calculateGradientDirection","parseSideOrCorner","parsePercentageAngle","distance","abs","calculateLengthFromValueWithUnit","toLowerCase","gradientCenter","gradientRadius","calculateRadius","radian","HALF_WIDTH","HALF_HEIGHT","HALF_LINE_LENGTH","sin","cos","parseTopRight","acos","_angle$split$map","_angle$split$map2","ratio","atan","findCorner","closest","stat","corner","optimumDistance","optimumCorner","Infinity","rx","ry","_c","_corner","idx","RADIUS","matchStartPosition","matchShapeExtent","matchStartRadius","matchEndPosition","matchEndRadius","matchPosition","matchRadius","ANGLE","_Proxy","_ResourceLoader2","_PseudoNodeContent","copyInline","referenceElement","scrolledElements","copyStyles","inlineImages","pseudoContentData","counters","quoteDepth","parseBackgroundImage","inlineImage","catch","backgroundImages","HTMLImageElement","clonedChild","styleSheets","sheet","href","fetch","res","createStyleSheetFontsFromText","getSheetFonts","fonts","acc","formats","blob","dataUri","fontFace","setProperty","cssText","fontCss","textContent","HTMLCanvasElement","HTMLIFrameElement","tempIframe","iframeKey","generateIframeKey","setAttribute","_parseBounds","cache","getIframeDocumentElement","iframeCanvas","HTMLStyleElement","cssRules","css","rule","nodeType","Node","TEXT_NODE","nodeValue","createElementClone","styleBefore","styleAfter","clonedReferenceElement","HTMLBodyElement","createPseudoHideStyles","parseCounterReset","contentBefore","resolvePseudoContent","ELEMENT_NODE","hasAttribute","contentAfter","popCounters","inlineAllImages","inlinePseudoElement","PSEUDO_BEFORE","PSEUDO_AFTER","scrollTop","scrollLeft","cloneCanvasContents","CSSRule","FONT_FACE_RULE","format","baseHref","doc","createHTMLDocument","base","head","clonedCanvas","clonedCtx","putImageData","getImageData","contentItems","pseudoElt","content","anonymousReplacedElement","PSEUDO_CONTENT_ITEM_TYPE","IMAGE","TEXT","PSEUDO_HIDE_ELEMENT_CLASS_BEFORE","PSEUDO_HIDE_ELEMENT_CLASS_AFTER","insertBefore","createStyles","styles","innerHTML","initNode","random","DATA_URI_REGEXP","contentWindow","html","atob","decodeURIComponent","createIframeContainer","cloneIframeContainer","documentClone","write","iframeLoad","iframeLoader","close","scrolling","onreadystatechange","interval","setInterval","readyState","clearInterval","serializeDoctype","scrollTo","navigator","userAgent","onclone","doctype","restoreOwnerScroll","adoptNode","internalSubset","publicId","systemId","ResourceStore","ResourceLoader","_window","getOrigin","location","_index","hasResourceInCache","isBlobImage","_loadImage","isSVG","SUPPORT_SVG_DRAWING","isInlineImage","isSameOrigin","addImage","SUPPORT_CORS_IMAGES","xhrImage","String","imageLoadHandler","supportsDataImages","crossOrigin","complete","isInlineBase64Image","SUPPORT_BASE64_DRAWING","link","_link","protocol","hostname","port","_this5","images","resources","_keys","_resources","INLINE_SVG","INLINE_BASE64","INLINE_IMG","substr","parseContent","TOKEN_TYPE","STRING","ATTRIBUTE","URL","COUNTER","COUNTERS","OPENQUOTE","CLOSEQUOTE","counterReset","counterNames","counterResets","lenCounterResets","_counterResets$i$spli","_counterResets$i$spli2","counterName","counter","lenCounters","tokens","counterIncrement","_counterIncrement$spl","_counterIncrement$spl2","incrementValue","token","getAttribute","_counter","formatCounterValue","_counters","glue","getQuote","isString","isEscaped","isFunction","functionName","charAt","_counters2","addOtherToken","identifier","isOpening","quotes","createCounterText","parseListStyleType","swScratch","neScratch","swTileCoordinatesScratch","neTileCoordinatesScratch","CesiumCredit","leaflet","disposeSplitterReaction","updateInterval","CesiumEvent","_reactToSplitterChange","tile","getTileSize","_clipsForSplitter","_done","_tile","doRequest","waitPromise","otherwise","TileLayer","_tileOnError","tileUrl","getTileUrl","DomEvent","_getLevelFromZ","_requestImageError","TileProviderError","handleError","tilePoint","errorTileUrl","z","_zSubtract","initialized","_delayedUpdate","_map","tilingScheme","WebMercatorTilingScheme","getNumberOfXTilesAtLevel","getNumberOfYTilesAtLevel","raiseEvent","maximumLevel","maxNativeZoom","minimumLevel","minNativeZoom","credit","addAttribution","getCreditHtml","_usable","_update","_updateAttribution","getTileCredits","_previousCredits","_shownInLeafletLastUpdate","_shownInLeaflet","zoom","getZoom","negativePiToPi","south","sw","positionToTileXY","north","ne","nextCredits","j","credits","k","removeAttribution","longitudeRadians","latitudeRadians","ll","onRemove","_abortLoading","computed","outerHTML","createGuid","destroyObject","_displayID","_scene","_dataSourceCollection","_visualizersCallback","defaultVisualizersCallback","dataSourceAdded","_onDataSourceAdded","dataSourceRemoved","_onDataSourceRemoved","defaultDataSource","CustomDataSource","_defaultDataSource","_ready","_lastTime","JulianDate","_leafletScene","_entityCluster","_dataSource","time","visualizers","vLength","dataSource","_getVisualizersForDataSource","visualizersByDisplayID","visualizer","latLngBounds","getSouthWest","getNorthEast","extend","allowPartial","BoundingSphereState","PENDING","FAILED","boundingSpheres","tmp","BoundingSphere","state","DONE","visualizersLength","getBoundingSphere","fromBoundingSpheres","TweenCollection","selectionIndicatorUrl","_leaflet","_marker","marker","icon","divIcon","iconSize","zIndexOffset","interactive","_selectionIndicatorDomElement","_icon","_selectionIndicatorTween","_selectionIndicatorIsAppearing","cancelTween","that","_tweens","startObject","rotate","stopObject","easingFunction","EasingFunction","EXPONENTIAL_OUT","cancel","_startTweens","_tweensAreRunning","writeTextToCanvas","defaultColor","Color","WHITE","defaultOutlineColor","BLACK","tmpImage","prevBoundsType","LeafletGeomVisualizer","leafletScene","collectionChanged","_onCollectionChanged","_featureGroup","featureGroup","_entitiesToVisualize","AssociativeArray","_entityHash","_entityCollection","added","removed","changed","entityHash","billboard","label","polyline","polygon","set","cleanEntity","applyLocalisedAntiMeridianFix","currentBoundsType","_isCloseToEasternAntiMeridian","_isCloseToWesternAntiMeridian","entityDetails","_point","_updatePoint","_updateBillboard","_updateLabel","_updatePolyline","_updatePolygon","_updateRectangle","boundsJustChanged","pointGraphics","isAvailable","getValueOrDefault","details","lastPosition","Cartesian3","lastPixelSize","lastColor","lastOutlineColor","lastOutlineWidth","getValueOrUndefined","pixelSize","outlineColor","outlineWidth","pointOptions","fillColor","toCssColorString","fillOpacity","circleMarker","positionToLatLng","featureMousedown","equals","setRadius","applyStyle","setStyle","cleanPoint","markerGraphics","geomLayer","imageUrl","verticalOrigin","horizontalOrigin","pixelOffset","ZERO","iconOptions","origUrl","redrawIcon","prop","getLatLng","markerOptions","iconUrl","drawBillboard","dataurl","w","h","xOff","yOff","iconAnchor","normClr","red","green","blue","recolorBillboard","setIcon","cleanBillboard","labelGraphics","cart","redrawLabel","cleanLabel","rectangleGraphics","rectangleCoordinates","coordinates","rectangleBounds","lastFill","lastFillColor","lastOutline","dashArray","outline","PolylineDashMaterialProperty","getDashArray","material","polygonOptions","setBounds","_entity","group","cleanRectangle","polygonGraphics","lastHierarchy","hierarchy","hierarchyToLatLngs","setLatLngs","cleanPolygon","positions","polylineGraphics","carts","cartesianArrayToCartographicArray","latlngs","p","PolylineGlowMaterialProperty","polylineOptions","curLatLngs","getLatLngs","bPosChange","LatLng","cleanPolyline","entityId","primitiveId","primitive","dashPattern","getLineStyleLeaflet","lon","holes","hole","convertEntityPositionsToLatLons","property","defaultValue","lastLongitude","tileSize","DomUtil","readyPromise","_requestImage","mod","GridLayer","HEX3","HEX6","RGB","RGBA","array","hex3","Number","rgb","rgba","NAMED_COLORS","hex6","r","g","transparent","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","LENGTH_TYPE","PX","PERCENTAGE","Length","parsedValue","parentLength","isPercentage","unit","getRootFontSize","parseBoundCurves","calculateBorderBoxPath","calculatePaddingBox","_BezierCurve2","clientRect","createPathFromCurves","borders","paddingTop","paddingRight","paddingBottom","paddingLeft","scrollWidth","offsetWidth","clientWidth","scrollHeight","offsetHeight","clientHeight","curves","borderSide","topLeftOuter","topLeftInner","topRightOuter","topRightInner","bottomRightOuter","bottomRightInner","bottomLeftOuter","bottomLeftInner","outer1","inner1","outer2","inner2","subdivide","CORNER","borderRadius","tlh","TOP_LEFT","tlv","trh","TOP_RIGHT","trv","brh","BOTTOM_RIGHT","brv","blh","BOTTOM_LEFT","blv","factors","maxFactor","topWidth","rightHeight","bottomWidth","leftHeight","getCurvePoints","r1","r2","kappa","sqrt","ox","oy","xm","ym","_borderRadius","_display","_float","_font","_letterSpacing","_lineBreak","_margin","_overflow","_padding","_position","_textShadow","_textTransform","_visibility","_wordBreak","_zIndex","INPUT_TAGS","NodeContainer","listItems","listStart","IS_INPUT","parseBackground","parseBorder","HTMLInputElement","parseListStyle","wordWrap","parseTextDecoration","listOwner","getListOwner","listIndex","getImage","parentClips","isAbsolutelyPositioned","loadImage","currentSrc","loadCanvas","BACKGROUND_SIZE","BACKGROUND_REPEAT","_Size2","REPEAT","NO_REPEAT","REPEAT_X","REPEAT_Y","CONTAIN","COVER","LENGTH","BORDER_BOX","CONTENT_BOX","BackgroundSize","AUTO_SIZE","targetRatio","currentRatio","parseBackgroundClip","paddingBox","repeat","parseBackgroundImages","parseBackgroundOrigin","parseBackgroundRepeat","backgroundRepeat","sources","backgroundPosition","repeats","sizes","backgroundSize","parseBackgroundSize","parseBackgoundPosition","whitespace","quote","definition","mode","numParen","appendResult","prefix_i","Vector","LIST_STYLE_POSITION","INSIDE","OUTSIDE","DISC","SQUARE","DECIMAL","CJK_DECIMAL","DECIMAL_LEADING_ZERO","LOWER_ROMAN","UPPER_ROMAN","LOWER_GREEK","LOWER_ALPHA","UPPER_ALPHA","ARABIC_INDIC","ARMENIAN","BENGALI","CAMBODIAN","CJK_EARTHLY_BRANCH","CJK_HEAVENLY_STEM","CJK_IDEOGRAPHIC","DEVANAGARI","ETHIOPIC_NUMERIC","GEORGIAN","GUJARATI","GURMUKHI","HEBREW","HIRAGANA","HIRAGANA_IROHA","JAPANESE_FORMAL","JAPANESE_INFORMAL","KANNADA","KATAKANA","KATAKANA_IROHA","KHMER","KOREAN_HANGUL_FORMAL","KOREAN_HANJA_FORMAL","KOREAN_HANJA_INFORMAL","LAO","LOWER_ARMENIAN","MALAYALAM","MONGOLIAN","MYANMAR","ORIYA","PERSIAN","SIMP_CHINESE_FORMAL","SIMP_CHINESE_INFORMAL","TAMIL","TELUGU","THAI","TIBETAN","TRAD_CHINESE_FORMAL","TRAD_CHINESE_INFORMAL","UPPER_ARMENIAN","DISCLOSURE_OPEN","DISCLOSURE_CLOSED","parseListStylePosition","listStyleImage","listStylePosition","_TextBounds","TextContainer","capitalize","toUpperCase","p1","p2","_ForeignObjectRenderer","isGreenPixel","FEATURES","testElement","TEST_HEIGHT","selectNode","rangeBounds","rangeHeight","testRangeBounds","testSVG","testBase64","greenImageSrc","testForeignObject","TEXT_DECORATION_STYLE","DOUBLE","DOTTED","DASHED","WAVY","BLINK","parseLine","line","textDecorationStyle","parseTextDecorationStyle","BORDER_SIDES","parseBorderStyle","charCodeAt","extra","codeUnits","fromCharCode","chars","lookup","Uint8Array","bufferLength","encoded1","encoded2","encoded3","encoded4","ArrayBuffer","bytes","_i2","ancestorTypes","ROMAN_UPPER","textAlign","MARGIN_TOP","styleImage","integers","createAdditiveCounter","symbols","fallback","suffix","string","integer","createCounterStyleWithSymbolResolver","codePointRangeLength","isNumeric","resolver","createCounterStyleFromRange","codePointRangeStart","codePointRangeEnd","createCounterStyleFromSymbols","createCJKCounter","numbers","multipliers","negativeSign","flags","digit","coefficient","appendSuffix","defaultSuffix","cjkSuffix","koreanSuffix","CJK_TEN_COEFFICIENTS","CJK_ZEROS"],"mappings":"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","file":"4.TerriaMap.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Path = require('../drawing/Path');\n\nvar _textDecoration = require('../parsing/textDecoration');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar addColorStops = function addColorStops(gradient, canvasGradient) {\n    var maxStop = Math.max.apply(null, gradient.colorStops.map(function (colorStop) {\n        return colorStop.stop;\n    }));\n    var f = 1 / Math.max(1, maxStop);\n    gradient.colorStops.forEach(function (colorStop) {\n        canvasGradient.addColorStop(f * colorStop.stop, colorStop.color.toString());\n    });\n};\n\nvar CanvasRenderer = function () {\n    function CanvasRenderer(canvas) {\n        _classCallCheck(this, CanvasRenderer);\n\n        this.canvas = canvas ? canvas : document.createElement('canvas');\n    }\n\n    _createClass(CanvasRenderer, [{\n        key: 'render',\n        value: function render(options) {\n            this.ctx = this.canvas.getContext('2d');\n            this.options = options;\n            this.canvas.width = Math.floor(options.width * options.scale);\n            this.canvas.height = Math.floor(options.height * options.scale);\n            this.canvas.style.width = options.width + 'px';\n            this.canvas.style.height = options.height + 'px';\n\n            this.ctx.scale(this.options.scale, this.options.scale);\n            this.ctx.translate(-options.x, -options.y);\n            this.ctx.textBaseline = 'bottom';\n            options.logger.log('Canvas renderer initialized (' + options.width + 'x' + options.height + ' at ' + options.x + ',' + options.y + ') with scale ' + this.options.scale);\n        }\n    }, {\n        key: 'clip',\n        value: function clip(clipPaths, callback) {\n            var _this = this;\n\n            if (clipPaths.length) {\n                this.ctx.save();\n                clipPaths.forEach(function (path) {\n                    _this.path(path);\n                    _this.ctx.clip();\n                });\n            }\n\n            callback();\n\n            if (clipPaths.length) {\n                this.ctx.restore();\n            }\n        }\n    }, {\n        key: 'drawImage',\n        value: function drawImage(image, source, destination) {\n            this.ctx.drawImage(image, source.left, source.top, source.width, source.height, destination.left, destination.top, destination.width, destination.height);\n        }\n    }, {\n        key: 'drawShape',\n        value: function drawShape(path, color) {\n            this.path(path);\n            this.ctx.fillStyle = color.toString();\n            this.ctx.fill();\n        }\n    }, {\n        key: 'fill',\n        value: function fill(color) {\n            this.ctx.fillStyle = color.toString();\n            this.ctx.fill();\n        }\n    }, {\n        key: 'getTarget',\n        value: function getTarget() {\n            this.canvas.getContext('2d').setTransform(1, 0, 0, 1, 0, 0);\n            return Promise.resolve(this.canvas);\n        }\n    }, {\n        key: 'path',\n        value: function path(_path) {\n            var _this2 = this;\n\n            this.ctx.beginPath();\n            if (Array.isArray(_path)) {\n                _path.forEach(function (point, index) {\n                    var start = point.type === _Path.PATH.VECTOR ? point : point.start;\n                    if (index === 0) {\n                        _this2.ctx.moveTo(start.x, start.y);\n                    } else {\n                        _this2.ctx.lineTo(start.x, start.y);\n                    }\n\n                    if (point.type === _Path.PATH.BEZIER_CURVE) {\n                        _this2.ctx.bezierCurveTo(point.startControl.x, point.startControl.y, point.endControl.x, point.endControl.y, point.end.x, point.end.y);\n                    }\n                });\n            } else {\n                this.ctx.arc(_path.x + _path.radius, _path.y + _path.radius, _path.radius, 0, Math.PI * 2, true);\n            }\n\n            this.ctx.closePath();\n        }\n    }, {\n        key: 'rectangle',\n        value: function rectangle(x, y, width, height, color) {\n            this.ctx.fillStyle = color.toString();\n            this.ctx.fillRect(x, y, width, height);\n        }\n    }, {\n        key: 'renderLinearGradient',\n        value: function renderLinearGradient(bounds, gradient) {\n            var linearGradient = this.ctx.createLinearGradient(bounds.left + gradient.direction.x1, bounds.top + gradient.direction.y1, bounds.left + gradient.direction.x0, bounds.top + gradient.direction.y0);\n\n            addColorStops(gradient, linearGradient);\n            this.ctx.fillStyle = linearGradient;\n            this.ctx.fillRect(bounds.left, bounds.top, bounds.width, bounds.height);\n        }\n    }, {\n        key: 'renderRadialGradient',\n        value: function renderRadialGradient(bounds, gradient) {\n            var _this3 = this;\n\n            var x = bounds.left + gradient.center.x;\n            var y = bounds.top + gradient.center.y;\n\n            var radialGradient = this.ctx.createRadialGradient(x, y, 0, x, y, gradient.radius.x);\n            if (!radialGradient) {\n                return;\n            }\n\n            addColorStops(gradient, radialGradient);\n            this.ctx.fillStyle = radialGradient;\n\n            if (gradient.radius.x !== gradient.radius.y) {\n                // transforms for elliptical radial gradient\n                var midX = bounds.left + 0.5 * bounds.width;\n                var midY = bounds.top + 0.5 * bounds.height;\n                var f = gradient.radius.y / gradient.radius.x;\n                var invF = 1 / f;\n\n                this.transform(midX, midY, [1, 0, 0, f, 0, 0], function () {\n                    return _this3.ctx.fillRect(bounds.left, invF * (bounds.top - midY) + midY, bounds.width, bounds.height * invF);\n                });\n            } else {\n                this.ctx.fillRect(bounds.left, bounds.top, bounds.width, bounds.height);\n            }\n        }\n    }, {\n        key: 'renderRepeat',\n        value: function renderRepeat(path, image, imageSize, offsetX, offsetY) {\n            this.path(path);\n            this.ctx.fillStyle = this.ctx.createPattern(this.resizeImage(image, imageSize), 'repeat');\n            this.ctx.translate(offsetX, offsetY);\n            this.ctx.fill();\n            this.ctx.translate(-offsetX, -offsetY);\n        }\n    }, {\n        key: 'renderTextNode',\n        value: function renderTextNode(textBounds, color, font, textDecoration, textShadows) {\n            var _this4 = this;\n\n            this.ctx.font = [font.fontStyle, font.fontVariant, font.fontWeight, font.fontSize, font.fontFamily].join(' ');\n\n            textBounds.forEach(function (text) {\n                _this4.ctx.fillStyle = color.toString();\n                if (textShadows && text.text.trim().length) {\n                    textShadows.slice(0).reverse().forEach(function (textShadow) {\n                        _this4.ctx.shadowColor = textShadow.color.toString();\n                        _this4.ctx.shadowOffsetX = textShadow.offsetX * _this4.options.scale;\n                        _this4.ctx.shadowOffsetY = textShadow.offsetY * _this4.options.scale;\n                        _this4.ctx.shadowBlur = textShadow.blur;\n\n                        _this4.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);\n                    });\n                } else {\n                    _this4.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);\n                }\n\n                if (textDecoration !== null) {\n                    var textDecorationColor = textDecoration.textDecorationColor || color;\n                    textDecoration.textDecorationLine.forEach(function (textDecorationLine) {\n                        switch (textDecorationLine) {\n                            case _textDecoration.TEXT_DECORATION_LINE.UNDERLINE:\n                                // Draws a line at the baseline of the font\n                                // TODO As some browsers display the line as more than 1px if the font-size is big,\n                                // need to take that into account both in position and size\n                                var _options$fontMetrics$ = _this4.options.fontMetrics.getMetrics(font),\n                                    baseline = _options$fontMetrics$.baseline;\n\n                                _this4.rectangle(text.bounds.left, Math.round(text.bounds.top + baseline), text.bounds.width, 1, textDecorationColor);\n                                break;\n                            case _textDecoration.TEXT_DECORATION_LINE.OVERLINE:\n                                _this4.rectangle(text.bounds.left, Math.round(text.bounds.top), text.bounds.width, 1, textDecorationColor);\n                                break;\n                            case _textDecoration.TEXT_DECORATION_LINE.LINE_THROUGH:\n                                // TODO try and find exact position for line-through\n                                var _options$fontMetrics$2 = _this4.options.fontMetrics.getMetrics(font),\n                                    middle = _options$fontMetrics$2.middle;\n\n                                _this4.rectangle(text.bounds.left, Math.ceil(text.bounds.top + middle), text.bounds.width, 1, textDecorationColor);\n                                break;\n                        }\n                    });\n                }\n            });\n        }\n    }, {\n        key: 'resizeImage',\n        value: function resizeImage(image, size) {\n            if (image.width === size.width && image.height === size.height) {\n                return image;\n            }\n\n            var canvas = this.canvas.ownerDocument.createElement('canvas');\n            canvas.width = size.width;\n            canvas.height = size.height;\n            var ctx = canvas.getContext('2d');\n            ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, size.width, size.height);\n            return canvas;\n        }\n    }, {\n        key: 'setOpacity',\n        value: function setOpacity(opacity) {\n            this.ctx.globalAlpha = opacity;\n        }\n    }, {\n        key: 'transform',\n        value: function transform(offsetX, offsetY, matrix, callback) {\n            this.ctx.save();\n            this.ctx.translate(offsetX, offsetY);\n            this.ctx.transform(matrix[0], matrix[1], matrix[2], matrix[3], matrix[4], matrix[5]);\n            this.ctx.translate(-offsetX, -offsetY);\n\n            callback();\n\n            this.ctx.restore();\n        }\n    }]);\n\n    return CanvasRenderer;\n}();\n\nexports.default = CanvasRenderer;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Logger = function () {\n    function Logger(enabled, id, start) {\n        _classCallCheck(this, Logger);\n\n        this.enabled = typeof window !== 'undefined' && enabled;\n        this.start = start ? start : Date.now();\n        this.id = id;\n    }\n\n    _createClass(Logger, [{\n        key: 'child',\n        value: function child(id) {\n            return new Logger(this.enabled, id, this.start);\n        }\n\n        // eslint-disable-next-line flowtype/no-weak-types\n\n    }, {\n        key: 'log',\n        value: function log() {\n            if (this.enabled && window.console && window.console.log) {\n                for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                    args[_key] = arguments[_key];\n                }\n\n                Function.prototype.bind.call(window.console.log, window.console).apply(window.console, [Date.now() - this.start + 'ms', this.id ? 'html2canvas (' + this.id + '):' : 'html2canvas:'].concat([].slice.call(args, 0)));\n            }\n        }\n\n        // eslint-disable-next-line flowtype/no-weak-types\n\n    }, {\n        key: 'error',\n        value: function error() {\n            if (this.enabled && window.console && window.console.error) {\n                for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                    args[_key2] = arguments[_key2];\n                }\n\n                Function.prototype.bind.call(window.console.error, window.console).apply(window.console, [Date.now() - this.start + 'ms', this.id ? 'html2canvas (' + this.id + '):' : 'html2canvas:'].concat([].slice.call(args, 0)));\n            }\n        }\n    }]);\n\n    return Logger;\n}();\n\nexports.default = Logger;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parsePadding = exports.PADDING_SIDES = undefined;\n\nvar _Length = require('../Length');\n\nvar _Length2 = _interopRequireDefault(_Length);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PADDING_SIDES = exports.PADDING_SIDES = {\n    TOP: 0,\n    RIGHT: 1,\n    BOTTOM: 2,\n    LEFT: 3\n};\n\nvar SIDES = ['top', 'right', 'bottom', 'left'];\n\nvar parsePadding = exports.parsePadding = function parsePadding(style) {\n    return SIDES.map(function (side) {\n        return new _Length2.default(style.getPropertyValue('padding-' + side));\n    });\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar OVERFLOW_WRAP = exports.OVERFLOW_WRAP = {\n    NORMAL: 0,\n    BREAK_WORD: 1\n};\n\nvar parseOverflowWrap = exports.parseOverflowWrap = function parseOverflowWrap(overflow) {\n    switch (overflow) {\n        case 'break-word':\n            return OVERFLOW_WRAP.BREAK_WORD;\n        case 'normal':\n        default:\n            return OVERFLOW_WRAP.NORMAL;\n    }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar POSITION = exports.POSITION = {\n    STATIC: 0,\n    RELATIVE: 1,\n    ABSOLUTE: 2,\n    FIXED: 3,\n    STICKY: 4\n};\n\nvar parsePosition = exports.parsePosition = function parsePosition(position) {\n    switch (position) {\n        case 'relative':\n            return POSITION.RELATIVE;\n        case 'absolute':\n            return POSITION.ABSOLUTE;\n        case 'fixed':\n            return POSITION.FIXED;\n        case 'sticky':\n            return POSITION.STICKY;\n    }\n\n    return POSITION.STATIC;\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar TEXT_TRANSFORM = exports.TEXT_TRANSFORM = {\n    NONE: 0,\n    LOWERCASE: 1,\n    UPPERCASE: 2,\n    CAPITALIZE: 3\n};\n\nvar parseTextTransform = exports.parseTextTransform = function parseTextTransform(textTransform) {\n    switch (textTransform) {\n        case 'uppercase':\n            return TEXT_TRANSFORM.UPPERCASE;\n        case 'lowercase':\n            return TEXT_TRANSFORM.LOWERCASE;\n        case 'capitalize':\n            return TEXT_TRANSFORM.CAPITALIZE;\n    }\n\n    return TEXT_TRANSFORM.NONE;\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.reformatInputBounds = exports.inlineSelectElement = exports.inlineTextAreaElement = exports.inlineInputElement = exports.getInputBorderRadius = exports.INPUT_BACKGROUND = exports.INPUT_BORDERS = exports.INPUT_COLOR = undefined;\n\nvar _TextContainer = require('./TextContainer');\n\nvar _TextContainer2 = _interopRequireDefault(_TextContainer);\n\nvar _background = require('./parsing/background');\n\nvar _border = require('./parsing/border');\n\nvar _Circle = require('./drawing/Circle');\n\nvar _Circle2 = _interopRequireDefault(_Circle);\n\nvar _Vector = require('./drawing/Vector');\n\nvar _Vector2 = _interopRequireDefault(_Vector);\n\nvar _Color = require('./Color');\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nvar _Length = require('./Length');\n\nvar _Length2 = _interopRequireDefault(_Length);\n\nvar _Bounds = require('./Bounds');\n\nvar _TextBounds = require('./TextBounds');\n\nvar _Util = require('./Util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar INPUT_COLOR = exports.INPUT_COLOR = new _Color2.default([42, 42, 42]);\nvar INPUT_BORDER_COLOR = new _Color2.default([165, 165, 165]);\nvar INPUT_BACKGROUND_COLOR = new _Color2.default([222, 222, 222]);\nvar INPUT_BORDER = {\n    borderWidth: 1,\n    borderColor: INPUT_BORDER_COLOR,\n    borderStyle: _border.BORDER_STYLE.SOLID\n};\nvar INPUT_BORDERS = exports.INPUT_BORDERS = [INPUT_BORDER, INPUT_BORDER, INPUT_BORDER, INPUT_BORDER];\nvar INPUT_BACKGROUND = exports.INPUT_BACKGROUND = {\n    backgroundColor: INPUT_BACKGROUND_COLOR,\n    backgroundImage: [],\n    backgroundClip: _background.BACKGROUND_CLIP.PADDING_BOX,\n    backgroundOrigin: _background.BACKGROUND_ORIGIN.PADDING_BOX\n};\n\nvar RADIO_BORDER_RADIUS = new _Length2.default('50%');\nvar RADIO_BORDER_RADIUS_TUPLE = [RADIO_BORDER_RADIUS, RADIO_BORDER_RADIUS];\nvar INPUT_RADIO_BORDER_RADIUS = [RADIO_BORDER_RADIUS_TUPLE, RADIO_BORDER_RADIUS_TUPLE, RADIO_BORDER_RADIUS_TUPLE, RADIO_BORDER_RADIUS_TUPLE];\n\nvar CHECKBOX_BORDER_RADIUS = new _Length2.default('3px');\nvar CHECKBOX_BORDER_RADIUS_TUPLE = [CHECKBOX_BORDER_RADIUS, CHECKBOX_BORDER_RADIUS];\nvar INPUT_CHECKBOX_BORDER_RADIUS = [CHECKBOX_BORDER_RADIUS_TUPLE, CHECKBOX_BORDER_RADIUS_TUPLE, CHECKBOX_BORDER_RADIUS_TUPLE, CHECKBOX_BORDER_RADIUS_TUPLE];\n\nvar getInputBorderRadius = exports.getInputBorderRadius = function getInputBorderRadius(node) {\n    return node.type === 'radio' ? INPUT_RADIO_BORDER_RADIUS : INPUT_CHECKBOX_BORDER_RADIUS;\n};\n\nvar inlineInputElement = exports.inlineInputElement = function inlineInputElement(node, container) {\n    if (node.type === 'radio' || node.type === 'checkbox') {\n        if (node.checked) {\n            var size = Math.min(container.bounds.width, container.bounds.height);\n            container.childNodes.push(node.type === 'checkbox' ? [new _Vector2.default(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79), new _Vector2.default(container.bounds.left + size * 0.16, container.bounds.top + size * 0.5549), new _Vector2.default(container.bounds.left + size * 0.27347, container.bounds.top + size * 0.44071), new _Vector2.default(container.bounds.left + size * 0.39694, container.bounds.top + size * 0.5649), new _Vector2.default(container.bounds.left + size * 0.72983, container.bounds.top + size * 0.23), new _Vector2.default(container.bounds.left + size * 0.84, container.bounds.top + size * 0.34085), new _Vector2.default(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79)] : new _Circle2.default(container.bounds.left + size / 4, container.bounds.top + size / 4, size / 4));\n        }\n    } else {\n        inlineFormElement(getInputValue(node), node, container, false);\n    }\n};\n\nvar inlineTextAreaElement = exports.inlineTextAreaElement = function inlineTextAreaElement(node, container) {\n    inlineFormElement(node.value, node, container, true);\n};\n\nvar inlineSelectElement = exports.inlineSelectElement = function inlineSelectElement(node, container) {\n    var option = node.options[node.selectedIndex || 0];\n    inlineFormElement(option ? option.text || '' : '', node, container, false);\n};\n\nvar reformatInputBounds = exports.reformatInputBounds = function reformatInputBounds(bounds) {\n    if (bounds.width > bounds.height) {\n        bounds.left += (bounds.width - bounds.height) / 2;\n        bounds.width = bounds.height;\n    } else if (bounds.width < bounds.height) {\n        bounds.top += (bounds.height - bounds.width) / 2;\n        bounds.height = bounds.width;\n    }\n    return bounds;\n};\n\nvar inlineFormElement = function inlineFormElement(value, node, container, allowLinebreak) {\n    var body = node.ownerDocument.body;\n    if (value.length > 0 && body) {\n        var wrapper = node.ownerDocument.createElement('html2canvaswrapper');\n        (0, _Util.copyCSSStyles)(node.ownerDocument.defaultView.getComputedStyle(node, null), wrapper);\n        wrapper.style.position = 'absolute';\n        wrapper.style.left = container.bounds.left + 'px';\n        wrapper.style.top = container.bounds.top + 'px';\n        if (!allowLinebreak) {\n            wrapper.style.whiteSpace = 'nowrap';\n        }\n        var text = node.ownerDocument.createTextNode(value);\n        wrapper.appendChild(text);\n        body.appendChild(wrapper);\n        container.childNodes.push(_TextContainer2.default.fromTextNode(text, container));\n        body.removeChild(wrapper);\n    }\n};\n\nvar getInputValue = function getInputValue(node) {\n    var value = node.type === 'password' ? new Array(node.value.length + 1).join('\\u2022') : node.value;\n\n    return value.length === 0 ? node.placeholder || '' : value;\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parseTextBounds = exports.TextBounds = undefined;\n\nvar _Bounds = require('./Bounds');\n\nvar _textDecoration = require('./parsing/textDecoration');\n\nvar _Feature = require('./Feature');\n\nvar _Feature2 = _interopRequireDefault(_Feature);\n\nvar _Unicode = require('./Unicode');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TextBounds = exports.TextBounds = function TextBounds(text, bounds) {\n    _classCallCheck(this, TextBounds);\n\n    this.text = text;\n    this.bounds = bounds;\n};\n\nvar parseTextBounds = exports.parseTextBounds = function parseTextBounds(value, parent, node) {\n    var letterRendering = parent.style.letterSpacing !== 0;\n    var textList = letterRendering ? (0, _Unicode.toCodePoints)(value).map(function (i) {\n        return (0, _Unicode.fromCodePoint)(i);\n    }) : (0, _Unicode.breakWords)(value, parent);\n    var length = textList.length;\n    var defaultView = node.parentNode ? node.parentNode.ownerDocument.defaultView : null;\n    var scrollX = defaultView ? defaultView.pageXOffset : 0;\n    var scrollY = defaultView ? defaultView.pageYOffset : 0;\n    var textBounds = [];\n    var offset = 0;\n    for (var i = 0; i < length; i++) {\n        var text = textList[i];\n        if (parent.style.textDecoration !== _textDecoration.TEXT_DECORATION.NONE || text.trim().length > 0) {\n            if (_Feature2.default.SUPPORT_RANGE_BOUNDS) {\n                textBounds.push(new TextBounds(text, getRangeBounds(node, offset, text.length, scrollX, scrollY)));\n            } else {\n                var replacementNode = node.splitText(text.length);\n                textBounds.push(new TextBounds(text, getWrapperBounds(node, scrollX, scrollY)));\n                node = replacementNode;\n            }\n        } else if (!_Feature2.default.SUPPORT_RANGE_BOUNDS) {\n            node = node.splitText(text.length);\n        }\n        offset += text.length;\n    }\n    return textBounds;\n};\n\nvar getWrapperBounds = function getWrapperBounds(node, scrollX, scrollY) {\n    var wrapper = node.ownerDocument.createElement('html2canvaswrapper');\n    wrapper.appendChild(node.cloneNode(true));\n    var parentNode = node.parentNode;\n    if (parentNode) {\n        parentNode.replaceChild(wrapper, node);\n        var bounds = (0, _Bounds.parseBounds)(wrapper, scrollX, scrollY);\n        if (wrapper.firstChild) {\n            parentNode.replaceChild(wrapper.firstChild, wrapper);\n        }\n        return bounds;\n    }\n    return new _Bounds.Bounds(0, 0, 0, 0);\n};\n\nvar getRangeBounds = function getRangeBounds(node, offset, length, scrollX, scrollY) {\n    var range = node.ownerDocument.createRange();\n    range.setStart(node, offset);\n    range.setEnd(node, offset + length);\n    return _Bounds.Bounds.fromClientRect(range.getBoundingClientRect(), scrollX, scrollY);\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ForeignObjectRenderer = function () {\n    function ForeignObjectRenderer(element) {\n        _classCallCheck(this, ForeignObjectRenderer);\n\n        this.element = element;\n    }\n\n    _createClass(ForeignObjectRenderer, [{\n        key: 'render',\n        value: function render(options) {\n            var _this = this;\n\n            this.options = options;\n            this.canvas = document.createElement('canvas');\n            this.ctx = this.canvas.getContext('2d');\n            this.canvas.width = Math.floor(options.width) * options.scale;\n            this.canvas.height = Math.floor(options.height) * options.scale;\n            this.canvas.style.width = options.width + 'px';\n            this.canvas.style.height = options.height + 'px';\n\n            options.logger.log('ForeignObject renderer initialized (' + options.width + 'x' + options.height + ' at ' + options.x + ',' + options.y + ') with scale ' + options.scale);\n            var svg = createForeignObjectSVG(Math.max(options.windowWidth, options.width) * options.scale, Math.max(options.windowHeight, options.height) * options.scale, options.scrollX * options.scale, options.scrollY * options.scale, this.element);\n\n            return loadSerializedSVG(svg).then(function (img) {\n                if (options.backgroundColor) {\n                    _this.ctx.fillStyle = options.backgroundColor.toString();\n                    _this.ctx.fillRect(0, 0, options.width * options.scale, options.height * options.scale);\n                }\n\n                _this.ctx.drawImage(img, -options.x * options.scale, -options.y * options.scale);\n                return _this.canvas;\n            });\n        }\n    }]);\n\n    return ForeignObjectRenderer;\n}();\n\nexports.default = ForeignObjectRenderer;\nvar createForeignObjectSVG = exports.createForeignObjectSVG = function createForeignObjectSVG(width, height, x, y, node) {\n    var xmlns = 'http://www.w3.org/2000/svg';\n    var svg = document.createElementNS(xmlns, 'svg');\n    var foreignObject = document.createElementNS(xmlns, 'foreignObject');\n    svg.setAttributeNS(null, 'width', width);\n    svg.setAttributeNS(null, 'height', height);\n\n    foreignObject.setAttributeNS(null, 'width', '100%');\n    foreignObject.setAttributeNS(null, 'height', '100%');\n    foreignObject.setAttributeNS(null, 'x', x);\n    foreignObject.setAttributeNS(null, 'y', y);\n    foreignObject.setAttributeNS(null, 'externalResourcesRequired', 'true');\n    svg.appendChild(foreignObject);\n\n    foreignObject.appendChild(node);\n\n    return svg;\n};\n\nvar loadSerializedSVG = exports.loadSerializedSVG = function loadSerializedSVG(svg) {\n    return new Promise(function (resolve, reject) {\n        var img = new Image();\n        img.onload = function () {\n            return resolve(img);\n        };\n        img.onerror = reject;\n\n        img.src = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(new XMLSerializer().serializeToString(svg));\n    });\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.breakWords = exports.fromCodePoint = exports.toCodePoints = undefined;\n\nvar _cssLineBreak = require('css-line-break');\n\nObject.defineProperty(exports, 'toCodePoints', {\n    enumerable: true,\n    get: function get() {\n        return _cssLineBreak.toCodePoints;\n    }\n});\nObject.defineProperty(exports, 'fromCodePoint', {\n    enumerable: true,\n    get: function get() {\n        return _cssLineBreak.fromCodePoint;\n    }\n});\n\nvar _NodeContainer = require('./NodeContainer');\n\nvar _NodeContainer2 = _interopRequireDefault(_NodeContainer);\n\nvar _overflowWrap = require('./parsing/overflowWrap');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar breakWords = exports.breakWords = function breakWords(str, parent) {\n    var breaker = (0, _cssLineBreak.LineBreaker)(str, {\n        lineBreak: parent.style.lineBreak,\n        wordBreak: parent.style.overflowWrap === _overflowWrap.OVERFLOW_WRAP.BREAK_WORD ? 'break-word' : parent.style.wordBreak\n    });\n\n    var words = [];\n    var bk = void 0;\n\n    while (!(bk = breaker.next()).done) {\n        words.push(bk.value.slice());\n    }\n\n    return words;\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n        value: true\n});\nexports.FontMetrics = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Util = require('./Util');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SAMPLE_TEXT = 'Hidden Text';\n\nvar FontMetrics = exports.FontMetrics = function () {\n        function FontMetrics(document) {\n                _classCallCheck(this, FontMetrics);\n\n                this._data = {};\n                this._document = document;\n        }\n\n        _createClass(FontMetrics, [{\n                key: '_parseMetrics',\n                value: function _parseMetrics(font) {\n                        var container = this._document.createElement('div');\n                        var img = this._document.createElement('img');\n                        var span = this._document.createElement('span');\n\n                        var body = this._document.body;\n                        if (!body) {\n                                throw new Error(process.env.NODE_ENV !== 'production' ? 'No document found for font metrics' : '');\n                        }\n\n                        container.style.visibility = 'hidden';\n                        container.style.fontFamily = font.fontFamily;\n                        container.style.fontSize = font.fontSize;\n                        container.style.margin = '0';\n                        container.style.padding = '0';\n\n                        body.appendChild(container);\n\n                        img.src = _Util.SMALL_IMAGE;\n                        img.width = 1;\n                        img.height = 1;\n\n                        img.style.margin = '0';\n                        img.style.padding = '0';\n                        img.style.verticalAlign = 'baseline';\n\n                        span.style.fontFamily = font.fontFamily;\n                        span.style.fontSize = font.fontSize;\n                        span.style.margin = '0';\n                        span.style.padding = '0';\n\n                        span.appendChild(this._document.createTextNode(SAMPLE_TEXT));\n                        container.appendChild(span);\n                        container.appendChild(img);\n                        var baseline = img.offsetTop - span.offsetTop + 2;\n\n                        container.removeChild(span);\n                        container.appendChild(this._document.createTextNode(SAMPLE_TEXT));\n\n                        container.style.lineHeight = 'normal';\n                        img.style.verticalAlign = 'super';\n\n                        var middle = img.offsetTop - container.offsetTop + 2;\n\n                        body.removeChild(container);\n\n                        return { baseline: baseline, middle: middle };\n                }\n        }, {\n                key: 'getMetrics',\n                value: function getMetrics(font) {\n                        var key = font.fontFamily + ' ' + font.fontSize;\n                        if (this._data[key] === undefined) {\n                                this._data[key] = this._parseMetrics(font);\n                        }\n\n                        return this._data[key];\n                }\n        }]);\n\n        return FontMetrics;\n}();","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Proxy = undefined;\n\nvar _Feature = require('./Feature');\n\nvar _Feature2 = _interopRequireDefault(_Feature);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Proxy = exports.Proxy = function Proxy(src, options) {\n    if (!options.proxy) {\n        return Promise.reject(process.env.NODE_ENV !== 'production' ? 'No proxy defined' : null);\n    }\n    var proxy = options.proxy;\n\n    return new Promise(function (resolve, reject) {\n        var responseType = _Feature2.default.SUPPORT_CORS_XHR && _Feature2.default.SUPPORT_RESPONSE_TYPE ? 'blob' : 'text';\n        var xhr = _Feature2.default.SUPPORT_CORS_XHR ? new XMLHttpRequest() : new XDomainRequest();\n        xhr.onload = function () {\n            if (xhr instanceof XMLHttpRequest) {\n                if (xhr.status === 200) {\n                    if (responseType === 'text') {\n                        resolve(xhr.response);\n                    } else {\n                        var reader = new FileReader();\n                        // $FlowFixMe\n                        reader.addEventListener('load', function () {\n                            return resolve(reader.result);\n                        }, false);\n                        // $FlowFixMe\n                        reader.addEventListener('error', function (e) {\n                            return reject(e);\n                        }, false);\n                        reader.readAsDataURL(xhr.response);\n                    }\n                } else {\n                    reject(process.env.NODE_ENV !== 'production' ? 'Failed to proxy resource ' + src.substring(0, 256) + ' with status code ' + xhr.status : '');\n                }\n            } else {\n                resolve(xhr.responseText);\n            }\n        };\n\n        xhr.onerror = reject;\n        xhr.open('GET', proxy + '?url=' + encodeURIComponent(src) + '&responseType=' + responseType);\n\n        if (responseType !== 'text' && xhr instanceof XMLHttpRequest) {\n            xhr.responseType = responseType;\n        }\n\n        if (options.imageTimeout) {\n            var timeout = options.imageTimeout;\n            xhr.timeout = timeout;\n            xhr.ontimeout = function () {\n                return reject(process.env.NODE_ENV !== 'production' ? 'Timed out (' + timeout + 'ms) proxying ' + src.substring(0, 256) : '');\n            };\n        }\n\n        xhr.send();\n    });\n};","import i18next from \"i18next\";\nimport L, { GridLayer } from \"leaflet\";\nimport { action, autorun, observable, runInAction } from \"mobx\";\nimport { computedFn } from \"mobx-utils\";\nimport cesiumCancelAnimationFrame from \"terriajs-cesium/Source/Core/cancelAnimationFrame\";\nimport Cartesian2 from \"terriajs-cesium/Source/Core/Cartesian2\";\nimport Cartesian3 from \"terriajs-cesium/Source/Core/Cartesian3\";\nimport Cartographic from \"terriajs-cesium/Source/Core/Cartographic\";\nimport Clock from \"terriajs-cesium/Source/Core/Clock\";\nimport defaultValue from \"terriajs-cesium/Source/Core/defaultValue\";\nimport Ellipsoid from \"terriajs-cesium/Source/Core/Ellipsoid\";\nimport EventHelper from \"terriajs-cesium/Source/Core/EventHelper\";\nimport CesiumMath from \"terriajs-cesium/Source/Core/Math\";\nimport Rectangle from \"terriajs-cesium/Source/Core/Rectangle\";\nimport cesiumRequestAnimationFrame from \"terriajs-cesium/Source/Core/requestAnimationFrame\";\nimport DataSource from \"terriajs-cesium/Source/DataSources/DataSource\";\nimport DataSourceCollection from \"terriajs-cesium/Source/DataSources/DataSourceCollection\";\nimport Entity from \"terriajs-cesium/Source/DataSources/Entity\";\nimport ImageryLayerFeatureInfo from \"terriajs-cesium/Source/Scene/ImageryLayerFeatureInfo\";\nimport ImageryProvider from \"terriajs-cesium/Source/Scene/ImageryProvider\";\nimport ImagerySplitDirection from \"terriajs-cesium/Source/Scene/ImagerySplitDirection\";\nimport when from \"terriajs-cesium/Source/ThirdParty/when\";\nimport html2canvas from \"terriajs-html2canvas\";\nimport filterOutUndefined from \"../Core/filterOutUndefined\";\nimport isDefined from \"../Core/isDefined\";\nimport LatLonHeight from \"../Core/LatLonHeight\";\nimport runLater from \"../Core/runLater\";\nimport CesiumTileLayer from \"../Map/CesiumTileLayer\";\nimport LeafletDataSourceDisplay from \"../Map/LeafletDataSourceDisplay\";\nimport LeafletScene from \"../Map/LeafletScene\";\nimport LeafletSelectionIndicator from \"../Map/LeafletSelectionIndicator\";\nimport LeafletVisualizer from \"../Map/LeafletVisualizer\";\nimport MapboxVectorCanvasTileLayer from \"../Map/MapboxVectorCanvasTileLayer\";\nimport MapboxVectorTileImageryProvider from \"../Map/MapboxVectorTileImageryProvider\";\nimport PickedFeatures, {\n  ProviderCoords,\n  ProviderCoordsMap\n} from \"../Map/PickedFeatures\";\nimport rectangleToLatLngBounds from \"../Map/rectangleToLatLngBounds\";\nimport MappableMixin, {\n  ImageryParts,\n  MapItem\n} from \"../ModelMixins/MappableMixin\";\nimport TileErrorHandlerMixin from \"../ModelMixins/TileErrorHandlerMixin\";\nimport RasterLayerTraits from \"../Traits/TraitsClasses/RasterLayerTraits\";\nimport SplitterTraits from \"../Traits/TraitsClasses/SplitterTraits\";\nimport TerriaViewer from \"../ViewModels/TerriaViewer\";\nimport CameraView from \"./CameraView\";\nimport hasTraits from \"./Definition/hasTraits\";\nimport Feature from \"./Feature\";\nimport GlobeOrMap from \"./GlobeOrMap\";\nimport MapInteractionMode from \"./MapInteractionMode\";\nimport Terria from \"./Terria\";\n\n// We want TS to look at the type declared in lib/ThirdParty/terriajs-cesium-extra/index.d.ts\n// and import doesn't allows us to do that, so instead we use require + type casting to ensure\n// we still maintain the type checking, without TS screaming with errors\nconst FeatureDetection: FeatureDetection = require(\"terriajs-cesium/Source/Core/FeatureDetection\")\n  .default;\n\n// This class is an observer. It probably won't contain any observables itself\n\nexport default class Leaflet extends GlobeOrMap {\n  readonly type = \"Leaflet\";\n  readonly terria: Terria;\n  readonly terriaViewer: TerriaViewer;\n  readonly map: L.Map;\n  readonly scene: LeafletScene;\n  readonly dataSources: DataSourceCollection = new DataSourceCollection();\n  readonly dataSourceDisplay: LeafletDataSourceDisplay;\n  readonly canShowSplitter = true;\n  private readonly _attributionControl: L.Control.Attribution;\n  private readonly _leafletVisualizer: LeafletVisualizer;\n  private readonly _eventHelper: EventHelper;\n  private readonly _selectionIndicator: LeafletSelectionIndicator;\n  private _stopRequestAnimationFrame: boolean = false;\n  private _cesiumReqAnimFrameId: number | undefined;\n  private _pickedFeatures: PickedFeatures | undefined = undefined;\n  private _pauseMapInteractionCount = 0;\n\n  /* Disposers */\n  private readonly _disposeWorkbenchMapItemsSubscription: () => void;\n  private readonly _disposeDisableInteractionSubscription: () => void;\n  private _disposeSelectedFeatureSubscription?: () => void;\n  private _disposeSplitterReaction: () => void;\n\n  // These are used to split CesiumTileLayer and MapboxCanvasVectorTileLayer\n  @observable size: L.Point | undefined;\n  @observable nw: L.Point | undefined;\n  @observable se: L.Point | undefined;\n\n  @action\n  private updateMapObservables() {\n    this.size = this.map.getSize();\n    this.nw = this.map.containerPointToLayerPoint([0, 0]);\n    this.se = this.map.containerPointToLayerPoint(this.size);\n  }\n\n  private _createImageryLayer: (\n    ip: ImageryProvider,\n    clippingRectangle: Rectangle | undefined\n  ) => GridLayer = computedFn((ip, clippingRectangle) => {\n    const layerOptions = {\n      bounds: clippingRectangle && rectangleToLatLngBounds(clippingRectangle)\n    };\n    if (ip instanceof MapboxVectorTileImageryProvider) {\n      return new MapboxVectorCanvasTileLayer(this, ip, layerOptions);\n    } else {\n      return new CesiumTileLayer(this, ip, layerOptions);\n    }\n  });\n\n  private _makeImageryLayerFromParts(\n    parts: ImageryParts,\n    item: MappableMixin.Instance\n  ) {\n    if (TileErrorHandlerMixin.isMixedInto(item)) {\n      // because this code path can run multiple times, make sure we remove the\n      // handler if it is already registered\n      parts.imageryProvider.errorEvent.removeEventListener(\n        item.onTileLoadError,\n        item\n      );\n      parts.imageryProvider.errorEvent.addEventListener(\n        item.onTileLoadError,\n        item\n      );\n    }\n    return this._createImageryLayer(\n      parts.imageryProvider,\n      parts.clippingRectangle\n    );\n  }\n\n  constructor(terriaViewer: TerriaViewer, container: string | HTMLElement) {\n    super();\n    this.terria = terriaViewer.terria;\n    this.terriaViewer = terriaViewer;\n    this.map = L.map(container, {\n      zoomControl: false,\n      attributionControl: false,\n      zoomSnap: 1, // Change to  0.2 for incremental zoom when Chrome fixes canvas scaling gaps\n      preferCanvas: true,\n      worldCopyJump: false\n    }).setView([-28.5, 135], 5);\n\n    this.map.on(\"move\", () => this.updateMapObservables());\n    this.map.on(\"zoom\", () => this.updateMapObservables());\n\n    this.scene = new LeafletScene(this.map);\n\n    this._attributionControl = L.control.attribution({\n      position: \"bottomleft\"\n    });\n    this.map.addControl(this._attributionControl);\n\n    // this.map.screenSpaceEventHandler = {\n    //     setInputAction : function() {},\n    //     remoteInputAction : function() {}\n    // };\n\n    this._leafletVisualizer = new LeafletVisualizer();\n    this._selectionIndicator = new LeafletSelectionIndicator(this);\n\n    // const terriaLogo = this.terriaViewer.defaultTerriaCredit ? this.terriaViewer.defaultTerriaCredit.html : '';\n\n    // const creditParts = [\n    //     this._getDisclaimer(),\n    //     this._developerAttribution && createCredit(this._developerAttribution.text, this._developerAttribution.link),\n    //     new Credit('<a target=\"_blank\" href=\"http://leafletjs.com/\">Leaflet</a>')\n    // ];\n\n    // this.attributionControl.setPrefix(terriaLogo + creditParts.filter(part => defined(part)).map(credit => credit.html).join(' | '));\n\n    // map.on(\"boxzoomend\", function(e) {\n    //     console.log(e.boxZoomBounds);\n    // });\n\n    this.dataSourceDisplay = new LeafletDataSourceDisplay({\n      scene: this.scene,\n      dataSourceCollection: this.dataSources,\n      visualizersCallback: <any>this._leafletVisualizer.visualizersCallback // TODO: fix type error\n    });\n\n    this._eventHelper = new EventHelper();\n\n    this._eventHelper.add(this.terria.timelineClock.onTick, <any>((\n      clock: Clock\n    ) => {\n      this.dataSourceDisplay.update(clock.currentTime);\n    }));\n\n    const ticker = () => {\n      if (!this._stopRequestAnimationFrame) {\n        this.terria.timelineClock.tick();\n        this._cesiumReqAnimFrameId = cesiumRequestAnimationFrame(ticker);\n      }\n    };\n\n    // Start ticker asynchronously to avoid calling an action in the consctructor\n    runLater(ticker);\n\n    this._disposeWorkbenchMapItemsSubscription = this.observeModelLayer();\n    this._disposeSplitterReaction = this._reactToSplitterChanges();\n\n    this._disposeDisableInteractionSubscription = autorun(() => {\n      const map = this.map;\n      const interactions = filterOutUndefined([\n        map.touchZoom,\n        map.doubleClickZoom,\n        map.scrollWheelZoom,\n        map.boxZoom,\n        map.keyboard,\n        map.dragging,\n        map.tap\n      ]);\n      const pickLocation = this.pickLocation.bind(this);\n      const pickFeature = (entity: Entity, event: L.LeafletMouseEvent) => {\n        this._featurePicked(entity, event);\n      };\n\n      // Update mouse coords on mouse move\n      this.map.on(\"mousemove\", (e: L.LeafletEvent) => {\n        const mouseEvent = <L.LeafletMouseEvent>e;\n        this.mouseCoords.updateCoordinatesFromLeaflet(\n          this.terria,\n          mouseEvent.originalEvent\n        );\n      });\n\n      if (this.terriaViewer.disableInteraction) {\n        interactions.forEach(handler => handler.disable());\n        this.map.off(\"click\", pickLocation);\n        this.scene.featureClicked.removeEventListener(pickFeature);\n        this._disposeSelectedFeatureSubscription &&\n          this._disposeSelectedFeatureSubscription();\n      } else {\n        interactions.forEach(handler => handler.enable());\n        this.map.on(\"click\", pickLocation);\n        this.scene.featureClicked.addEventListener(pickFeature);\n        this._disposeSelectedFeatureSubscription = autorun(() => {\n          const feature = this.terria.selectedFeature;\n          this._selectFeature(feature);\n        });\n      }\n    });\n\n    this._initProgressEvent();\n  }\n\n  /**\n   * sets up loading listeners\n   */\n  private _initProgressEvent() {\n    const onTileLoadChange = () => {\n      var tilesLoadingCount = 0;\n\n      this.map.eachLayer(function(layerOrGridlayer) {\n        // _tiles is protected but our knockout-loading-logic accesses it here anyway\n        const layer = layerOrGridlayer as any;\n        if (layer?._tiles) {\n          // Count all tiles not marked as loaded\n          tilesLoadingCount += Object.keys(layer._tiles).filter(\n            key => !layer._tiles[key].loaded\n          ).length;\n        }\n      });\n\n      this._updateTilesLoadingCount(tilesLoadingCount);\n    };\n\n    this.map.on(\n      \"layeradd\",\n      function(evt: any) {\n        // This check makes sure we only watch tile layers, and also protects us if this private variable gets changed.\n        if (typeof evt.layer._tiles !== \"undefined\") {\n          evt.layer.on(\"tileloadstart tileload load\", onTileLoadChange);\n        }\n      }.bind(this)\n    );\n\n    this.map.on(\n      \"layerremove\",\n      function(evt: any) {\n        evt.layer.off(\"tileloadstart tileload load\", onTileLoadChange);\n      }.bind(this)\n    );\n  }\n\n  /**\n   * Pick feature from mouse click event.\n   */\n  private pickLocation(e: L.LeafletEvent) {\n    const mouseEvent = <L.LeafletMouseEvent>e;\n\n    // Handle click events that cross the anti-meridian\n    if (mouseEvent.latlng.lng > 180 || mouseEvent.latlng.lng < -180) {\n      mouseEvent.latlng = mouseEvent.latlng.wrap();\n    }\n\n    // if (!this._dragboxcompleted && that.map.dragging.enabled()) {\n    this._pickFeatures(mouseEvent.latlng);\n    // }\n    // this._dragboxcompleted = false;\n  }\n\n  getContainer() {\n    return this.map.getContainer();\n  }\n\n  pauseMapInteraction() {\n    ++this._pauseMapInteractionCount;\n    if (this._pauseMapInteractionCount === 1) {\n      this.map.dragging.disable();\n    }\n  }\n\n  resumeMapInteraction() {\n    --this._pauseMapInteractionCount;\n    if (this._pauseMapInteractionCount === 0) {\n      setTimeout(() => {\n        if (this._pauseMapInteractionCount === 0) {\n          this.map.dragging.enable();\n        }\n      }, 0);\n    }\n  }\n\n  destroy() {\n    this._disposeSelectedFeatureSubscription &&\n      this._disposeSelectedFeatureSubscription();\n    this._disposeSplitterReaction();\n    this._disposeWorkbenchMapItemsSubscription();\n    this._eventHelper.removeAll();\n    this._disposeDisableInteractionSubscription();\n    // This variable prevents a race condition if destroy() is called\n    // synchronously as a result of timelineClock ticking due to ticker()\n    this._stopRequestAnimationFrame = true;\n    if (isDefined(this._cesiumReqAnimFrameId)) {\n      cesiumCancelAnimationFrame(this._cesiumReqAnimFrameId);\n    }\n    this.dataSourceDisplay.destroy();\n    this.map.off(\"move\");\n    this.map.off(\"zoom\");\n    this.map.remove();\n  }\n\n  private observeModelLayer() {\n    return autorun(() => {\n      const catalogItems = [\n        ...this.terriaViewer.items.get(),\n        this.terriaViewer.baseMap\n      ];\n      // Flatmap\n      const allImageryMapItems = ([] as {\n        item: MappableMixin.Instance;\n        parts: ImageryParts;\n      }[]).concat(\n        ...catalogItems\n          .filter(isDefined)\n          .map(item =>\n            item.mapItems\n              .filter(ImageryParts.is)\n              .map((parts: ImageryParts) => ({ item, parts }))\n          )\n      );\n\n      const allImagery = allImageryMapItems.map(({ item, parts }) => {\n        if (hasTraits(item, RasterLayerTraits, \"leafletUpdateInterval\")) {\n          (parts.imageryProvider as any)._leafletUpdateInterval =\n            item.leafletUpdateInterval;\n        }\n        return {\n          parts: parts,\n          layer: this._makeImageryLayerFromParts(parts, item)\n        };\n      });\n\n      // Delete imagery layers no longer in the model\n      this.map.eachLayer(mapLayer => {\n        if (\n          isImageryLayer(mapLayer) ||\n          mapLayer instanceof MapboxVectorCanvasTileLayer\n        ) {\n          const index = allImagery.findIndex(im => im.layer === mapLayer);\n          if (index === -1) {\n            this.map.removeLayer(mapLayer);\n          }\n        }\n      });\n\n      // Add layer and update its zIndex\n      let zIndex = 100; // Start at an arbitrary value\n      allImagery.reverse().forEach(({ parts, layer }) => {\n        if (parts.show) {\n          layer.setOpacity(parts.alpha);\n          layer.setZIndex(zIndex);\n          zIndex++;\n\n          if (!this.map.hasLayer(layer)) {\n            this.map.addLayer(layer);\n          }\n        } else {\n          this.map.removeLayer(layer);\n        }\n      });\n\n      /* Handle datasources */\n      const allMapItems = ([] as MapItem[]).concat(\n        ...catalogItems.filter(isDefined).map(item => item.mapItems)\n      );\n      const allDataSources = allMapItems.filter(isDataSource);\n\n      // Remove deleted data sources\n      let dataSources = this.dataSources;\n      for (let i = 0; i < dataSources.length; i++) {\n        const d = dataSources.get(i);\n        if (allDataSources.indexOf(d) === -1) {\n          dataSources.remove(d);\n          --i;\n        }\n      }\n\n      // Add new data sources, remove hidden ones\n      allDataSources.forEach(d => {\n        if (d.show) {\n          if (!dataSources.contains(d)) {\n            dataSources.add(d);\n          }\n        } else {\n          dataSources.remove(d);\n        }\n      });\n\n      // Ensure stacking order matches order in allDataSources - first item appears on top.\n      allDataSources.forEach(d => dataSources.raiseToTop(d));\n    });\n  }\n\n  doZoomTo(\n    target: CameraView | Rectangle | DataSource | MappableMixin.Instance | any,\n    flightDurationSeconds: number = 3.0\n  ): Promise<void> {\n    if (!isDefined(target)) {\n      return Promise.resolve();\n      //throw new DeveloperError(\"target is required.\");\n    }\n    let bounds;\n\n    // Target is a KML data source\n    if (isDefined(target.entities)) {\n      if (isDefined(this.dataSourceDisplay)) {\n        bounds = this.dataSourceDisplay.getLatLngBounds(target);\n      }\n    } else {\n      let extent;\n\n      if (target instanceof Rectangle) {\n        extent = target;\n      } else if (target instanceof CameraView) {\n        extent = target.rectangle;\n      } else if (MappableMixin.isMixedInto(target)) {\n        if (isDefined(target.cesiumRectangle)) {\n          extent = target.cesiumRectangle;\n        }\n        if (!isDefined(extent)) {\n          // Zoom to the first item!\n          return this.doZoomTo(target.mapItems[0], flightDurationSeconds);\n        }\n      } else {\n        extent = target.rectangle;\n      }\n\n      // Account for a bounding box crossing the date line.\n      if (extent.east < extent.west) {\n        extent = Rectangle.clone(extent);\n        extent.east += CesiumMath.TWO_PI;\n      }\n      bounds = rectangleToLatLngBounds(extent);\n    }\n\n    if (isDefined(bounds)) {\n      this.map.flyToBounds(bounds, {\n        animate: flightDurationSeconds > 0.0,\n        duration: flightDurationSeconds\n      });\n    }\n\n    return Promise.resolve();\n  }\n\n  getCurrentCameraView(): CameraView {\n    const bounds = this.map.getBounds();\n    return new CameraView(\n      Rectangle.fromDegrees(\n        bounds.getWest(),\n        bounds.getSouth(),\n        bounds.getEast(),\n        bounds.getNorth()\n      )\n    );\n  }\n\n  notifyRepaintRequired() {\n    // No action necessary.\n  }\n\n  pickFromLocation(\n    latLngHeight: LatLonHeight,\n    providerCoords: ProviderCoordsMap,\n    existingFeatures: Feature[]\n  ) {\n    this._pickFeatures(\n      L.latLng({\n        lat: latLngHeight.latitude,\n        lng: latLngHeight.longitude,\n        alt: latLngHeight.height\n      }),\n      providerCoords,\n      existingFeatures\n    );\n  }\n\n  /**\n   * Return features at a latitude, longitude and (optionally) height for the given imageryLayer.\n   * @param latLngHeight The position on the earth to pick\n   * @param providerCoords A map of imagery provider urls to the tile coords used to get features for those imagery\n   * @returns A flat array of all the features for the given tiles that are currently on the map\n   */\n  @action\n  async getFeaturesAtLocation(\n    latLngHeight: LatLonHeight,\n    providerCoords: ProviderCoordsMap\n  ) {\n    const pickMode = new MapInteractionMode({\n      message: i18next.t(\"models.imageryLayer.resolvingAvailability\"),\n      onCancel: () => {\n        this.terria.mapInteractionModeStack.pop();\n      }\n    });\n    this.terria.mapInteractionModeStack.push(pickMode);\n    this._pickFeatures(\n      L.latLng({\n        lat: latLngHeight.latitude,\n        lng: latLngHeight.longitude,\n        alt: latLngHeight.height\n      }),\n      providerCoords,\n      [],\n      true\n    );\n\n    if (pickMode.pickedFeatures) {\n      const pickedFeatures = pickMode.pickedFeatures;\n      await pickedFeatures.allFeaturesAvailablePromise;\n    }\n\n    return runInAction(() => {\n      this.terria.mapInteractionModeStack.pop();\n      return pickMode.pickedFeatures?.features;\n    });\n  }\n\n  /*\n   * There are two \"listeners\" for clicks which are set up in our constructor.\n   * - One fires for any click: `map.on('click', ...`.  It calls `pickFeatures`.\n   * - One fires only for vector features: `this.scene.featureClicked.addEventListener`.\n   *    It calls `featurePicked`, which calls `pickFeatures` and then adds the feature it found, if any.\n   * These events can fire in either order.\n   * Billboards do not fire the first event.\n   *\n   * Note that `pickFeatures` does nothing if `leaflet._pickedFeatures` is already set.\n   * Otherwise, it sets it, runs `runLater` to clear it, and starts the asynchronous raster feature picking.\n   *\n   * So:\n   * If only the first event is received, it triggers the raster-feature picking as desired.\n   * If both are received in the order above, the second adds the vector features to the list of raster features as desired.\n   * If both are received in the reverse order, the vector-feature click kicks off the same behavior as the other click would have;\n   * and when the next click is received, it is ignored - again, as desired.\n   */\n\n  @action\n  private _featurePicked(entity: Entity, event: L.LeafletMouseEvent) {\n    this._pickFeatures(event.latlng);\n\n    // Ignore clicks on the feature highlight.\n    if (entity.entityCollection && entity.entityCollection.owner) {\n      const owner = entity.entityCollection.owner;\n      if (\n        owner instanceof DataSource &&\n        owner.name == GlobeOrMap._featureHighlightName\n      ) {\n        return;\n      }\n    }\n\n    const feature = Feature.fromEntityCollectionOrEntity(entity);\n    if (isDefined(this._pickedFeatures)) {\n      this._pickedFeatures.features.push(feature);\n\n      if (isDefined(entity) && entity.position) {\n        this._pickedFeatures.pickPosition = (<any>entity.position)._value;\n      }\n    }\n  }\n\n  private _pickFeatures(\n    latlng: L.LatLng,\n    tileCoordinates?: any,\n    existingFeatures?: Entity[],\n    ignoreSplitter: boolean = false\n  ) {\n    if (isDefined(this._pickedFeatures)) {\n      // Picking is already in progress.\n      return;\n    }\n\n    this._pickedFeatures = new PickedFeatures();\n\n    if (isDefined(existingFeatures)) {\n      this._pickedFeatures.features = existingFeatures;\n    }\n\n    // We run this later because vector click events and the map click event can come through in any order, but we can\n    // be reasonably sure that all of them will be processed by the time our runLater func is invoked.\n    const cleanup = runLater(() => {\n      // Set this again just in case a vector pick came through and reset it to the vector's position.\n      const newPickLocation = Ellipsoid.WGS84.cartographicToCartesian(\n        pickedLocation\n      );\n      runInAction(() => {\n        const mapInteractionModeStack = this.terria.mapInteractionModeStack;\n        if (\n          isDefined(mapInteractionModeStack) &&\n          mapInteractionModeStack.length > 0\n        ) {\n          const pickedFeatures =\n            mapInteractionModeStack[mapInteractionModeStack.length - 1]\n              .pickedFeatures;\n          if (isDefined(pickedFeatures)) {\n            pickedFeatures.pickPosition = newPickLocation;\n          }\n        } else if (isDefined(this.terria.pickedFeatures)) {\n          this.terria.pickedFeatures.pickPosition = newPickLocation;\n        }\n      });\n\n      // Unset this so that the next click will start building features from scratch.\n      this._pickedFeatures = undefined;\n    });\n\n    const imageryLayers: CesiumTileLayer[] = [];\n    if (this.terria.allowFeatureInfoRequests) {\n      this.map.eachLayer(layer => {\n        if (isImageryLayer(layer)) {\n          imageryLayers.push(layer);\n        }\n      });\n    }\n\n    // we need items sorted in reverse order by their zIndex to get correct ordering of feature info\n    imageryLayers.sort((a: CesiumTileLayer, b: CesiumTileLayer) => {\n      if (!isDefined(a.options.zIndex) || !isDefined(b.options.zIndex)) {\n        return 0;\n      }\n      if (a.options.zIndex < b.options.zIndex) {\n        return 1;\n      }\n      if (a.options.zIndex > b.options.zIndex) {\n        return -1;\n      }\n      return 0;\n    });\n\n    tileCoordinates = defaultValue(tileCoordinates, {});\n\n    const pickedLocation = Cartographic.fromDegrees(latlng.lng, latlng.lat);\n    this._pickedFeatures.pickPosition = Ellipsoid.WGS84.cartographicToCartesian(\n      pickedLocation\n    );\n\n    // We want the all available promise to return after the cleanup one to\n    // make sure all vector click events have resolved.\n    const promises = [cleanup].concat(\n      imageryLayers.map(async imageryLayer => {\n        const imageryLayerUrl = (<any>imageryLayer.imageryProvider).url;\n        const longRadians = CesiumMath.toRadians(latlng.lng);\n        const latRadians = CesiumMath.toRadians(latlng.lat);\n\n        if (tileCoordinates[imageryLayerUrl])\n          return tileCoordinates[imageryLayerUrl];\n\n        const coords = await imageryLayer.getFeaturePickingCoords(\n          this.map,\n          longRadians,\n          latRadians\n        );\n\n        const features = await imageryLayer.pickFeatures(\n          coords.x,\n          coords.y,\n          coords.level,\n          longRadians,\n          latRadians\n        );\n\n        return {\n          features: features,\n          imageryLayer: imageryLayer,\n          coords: coords\n        };\n      })\n    );\n\n    const pickedFeatures = this._pickedFeatures;\n\n    pickedFeatures.allFeaturesAvailablePromise = Promise.all(promises)\n      .then((results: any) => {\n        // Get rid of the cleanup promise\n        const promiseResult: {\n          features: ImageryLayerFeatureInfo[];\n          imageryLayer: CesiumTileLayer;\n          coords: ProviderCoords;\n        }[] = results.slice(1);\n\n        runInAction(() => {\n          pickedFeatures.isLoading = false;\n        });\n\n        pickedFeatures.providerCoords = {};\n        const filteredResults = promiseResult.filter(function(result) {\n          return isDefined(result.features) && result.features.length > 0;\n        });\n\n        pickedFeatures.providerCoords = filteredResults.reduce(function(\n          coordsSoFar: ProviderCoordsMap,\n          result\n        ) {\n          const imageryProvider = result.imageryLayer.imageryProvider;\n          coordsSoFar[(<any>imageryProvider).url] = result.coords;\n          return coordsSoFar;\n        },\n        {});\n\n        const features = filteredResults.reduce((allFeatures, result) => {\n          if (\n            this.terria.showSplitter &&\n            ignoreSplitter === false &&\n            isDefined(pickedFeatures.pickPosition)\n          ) {\n            // Skip this feature, unless the imagery layer is on the picked side or\n            // belongs to both sides of the splitter\n            const screenPosition = this._computePositionOnScreen(\n              pickedFeatures.pickPosition\n            );\n            const pickedSide = this._getSplitterSideForScreenPosition(\n              screenPosition\n            );\n            const layerDirection = result.imageryLayer.splitDirection;\n\n            if (\n              !(\n                layerDirection === pickedSide ||\n                layerDirection === ImagerySplitDirection.NONE\n              )\n            ) {\n              return allFeatures;\n            }\n          }\n\n          return allFeatures.concat(\n            result.features.map(feature => {\n              (<any>feature).imageryLayer = result.imageryLayer;\n\n              // For features without a position, use the picked location.\n              if (!isDefined(feature.position)) {\n                feature.position = pickedLocation;\n              }\n\n              return this._createFeatureFromImageryLayerFeature(feature);\n            })\n          );\n        }, pickedFeatures.features);\n        runInAction(() => {\n          pickedFeatures.features = features;\n        });\n      })\n      .catch(e => {\n        runInAction(() => {\n          pickedFeatures.isLoading = false;\n          pickedFeatures.error =\n            \"An unknown error occurred while picking features.\";\n        });\n        throw e;\n      });\n\n    runInAction(() => {\n      const mapInteractionModeStack = this.terria.mapInteractionModeStack;\n      if (\n        isDefined(mapInteractionModeStack) &&\n        mapInteractionModeStack.length > 0\n      ) {\n        mapInteractionModeStack[\n          mapInteractionModeStack.length - 1\n        ].pickedFeatures = this._pickedFeatures;\n      } else {\n        this.terria.pickedFeatures = this._pickedFeatures;\n      }\n    });\n  }\n\n  _reactToSplitterChanges() {\n    return autorun(() => {\n      const items = this.terria.mainViewer.items.get();\n      const showSplitter = this.terria.showSplitter;\n      const splitPosition = this.terria.splitPosition;\n      items.forEach(item => {\n        if (\n          MappableMixin.isMixedInto(item) &&\n          hasTraits(item, SplitterTraits, \"splitDirection\")\n        ) {\n          const layers = this.getImageryLayersForItem(item);\n          const splitDirection = item.splitDirection;\n\n          layers.forEach(\n            action(layer => {\n              if (showSplitter) {\n                layer.splitDirection = splitDirection;\n                layer.splitPosition = splitPosition;\n              } else {\n                layer.splitDirection = ImagerySplitDirection.NONE;\n                layer.splitPosition = splitPosition;\n              }\n            })\n          );\n        }\n      });\n      this.notifyRepaintRequired();\n    });\n  }\n\n  getImageryLayersForItem(\n    item: MappableMixin.Instance\n  ): (CesiumTileLayer | MapboxVectorCanvasTileLayer)[] {\n    return filterOutUndefined(\n      item.mapItems.map(m => {\n        if (ImageryParts.is(m)) {\n          const layer = this._makeImageryLayerFromParts(m, item);\n          return layer instanceof CesiumTileLayer ||\n            layer instanceof MapboxVectorCanvasTileLayer\n            ? layer\n            : undefined;\n        }\n      })\n    );\n  }\n\n  /**\n   * Computes the screen position of a given world position.\n   * @param position The world position in Earth-centered Fixed coordinates.\n   * @param [result] The instance to which to copy the result.\n   * @return The screen position, or undefined if the position is not on the screen.\n   */\n  private _computePositionOnScreen(\n    position: Cartesian3,\n    result?: Cartesian2\n  ): Cartesian2 {\n    const cartographicScratch = new Cartographic();\n    const cartographic = Ellipsoid.WGS84.cartesianToCartographic(\n      position,\n      cartographicScratch\n    );\n    const point = this.map.latLngToContainerPoint(\n      L.latLng(\n        CesiumMath.toDegrees(cartographic.latitude),\n        CesiumMath.toDegrees(cartographic.longitude)\n      )\n    );\n\n    if (isDefined(result)) {\n      result.x = point.x;\n      result.y = point.y;\n    } else {\n      result = new Cartesian2(point.x, point.y);\n    }\n    return result;\n  }\n\n  private _selectFeature(feature: Feature | undefined) {\n    this._highlightFeature(feature);\n\n    if (isDefined(feature) && isDefined(feature.position)) {\n      const cartographicScratch = new Cartographic();\n      const cartographic = Ellipsoid.WGS84.cartesianToCartographic(\n        feature.position.getValue(this.terria.timelineClock.currentTime),\n        cartographicScratch\n      );\n      this._selectionIndicator.setLatLng(\n        L.latLng([\n          CesiumMath.toDegrees(cartographic.latitude),\n          CesiumMath.toDegrees(cartographic.longitude)\n        ])\n      );\n      this._selectionIndicator.animateSelectionIndicatorAppear();\n    } else {\n      this._selectionIndicator.animateSelectionIndicatorDepart();\n    }\n  }\n\n  getClipsForSplitter(): any {\n    let clipLeft: string = \"\";\n    let clipRight: string = \"\";\n    let clipPositionWithinMap: number = 0;\n    let clipX: number = 0;\n    if (this.terria.showSplitter) {\n      const map = this.map;\n      const size = map.getSize();\n      const nw = map.containerPointToLayerPoint([0, 0]);\n      const se = map.containerPointToLayerPoint(size);\n      clipPositionWithinMap = size.x * this.terria.splitPosition;\n      clipX = Math.round(nw.x + clipPositionWithinMap);\n      clipLeft = \"rect(\" + [nw.y, clipX, se.y, nw.x].join(\"px,\") + \"px)\";\n      clipRight = \"rect(\" + [nw.y, se.x, se.y, clipX].join(\"px,\") + \"px)\";\n    }\n\n    return {\n      left: clipLeft,\n      right: clipRight,\n      clipPositionWithinMap: clipPositionWithinMap,\n      clipX: clipX\n    };\n  }\n\n  isSplitterDragThumb(element: HTMLElement): boolean | \"\" {\n    return (\n      element.className &&\n      element.className.indexOf &&\n      element.className.indexOf(\"tjs-splitter__thumb\") >= 0\n    );\n  }\n\n  captureScreenshot(): Promise<string> {\n    // Temporarily hide the map credits.\n    this._attributionControl.remove();\n\n    try {\n      // html2canvas can't handle the clip style which is used for the splitter. So if the splitter is active, we render\n      // a left image and a right image and compose them. Also remove the splitter drag thumb.\n      let promise: any;\n      if (this.terria.showSplitter) {\n        const clips = this.getClipsForSplitter();\n        const clipLeft = clips.left.replace(/ /g, \"\");\n        const clipRight = clips.right.replace(/ /g, \"\");\n        promise = html2canvas(this.map.getContainer(), {\n          useCORS: true,\n          ignoreElements: (element: HTMLElement) =>\n            (element.style.clip !== undefined &&\n              element.style.clip !== null &&\n              element.style.clip.replace(/ /g, \"\") === clipRight) ||\n            this.isSplitterDragThumb(element)\n        }).then((leftCanvas: HTMLCanvasElement) => {\n          return html2canvas(this.map.getContainer(), {\n            useCORS: true,\n            ignoreElements: (element: HTMLElement) =>\n              (element.style.clip !== undefined &&\n                element.style.clip !== null &&\n                element.style.clip.replace(/ /g, \"\") === clipLeft) ||\n              this.isSplitterDragThumb(element)\n          }).then((rightCanvas: HTMLCanvasElement) => {\n            const combined = document.createElement(\"canvas\");\n            combined.width = leftCanvas.width;\n            combined.height = leftCanvas.height;\n            const context: CanvasRenderingContext2D | null = combined.getContext(\n              \"2d\"\n            );\n            if (context === undefined || context === null) {\n              // Error\n              return null;\n            }\n\n            const split = clips.clipPositionWithinMap * window.devicePixelRatio;\n            context.drawImage(\n              leftCanvas,\n              0,\n              0,\n              split,\n              combined.height,\n              0,\n              0,\n              split,\n              combined.height\n            );\n            context.drawImage(\n              rightCanvas,\n              split,\n              0,\n              combined.width - split,\n              combined.height,\n              split,\n              0,\n              combined.width - split,\n              combined.height\n            );\n            return combined;\n          });\n        });\n      } else {\n        promise = html2canvas(this.map.getContainer(), {\n          useCORS: true\n        });\n      }\n\n      return new Promise<string>((resolve, reject) => {\n        // wrap old-style when promise with new standard library promise\n        when(promise)\n          .then((canvas: HTMLCanvasElement) => {\n            resolve(canvas.toDataURL(\"image/png\"));\n          })\n          .always(() => {\n            this._attributionControl.addTo(this.map);\n          });\n      });\n    } catch (e) {\n      this._attributionControl.addTo(this.map);\n      return Promise.reject(e);\n    }\n  }\n\n  _addVectorTileHighlight(\n    imageryProvider: MapboxVectorTileImageryProvider,\n    rectangle: Rectangle\n  ): () => void {\n    const map = this.map;\n    const options: any = {\n      opacity: 1,\n      bounds: rectangleToLatLngBounds(rectangle)\n    };\n\n    if (isDefined(map.options.maxZoom)) {\n      options.maxZoom = map.options.maxZoom;\n    }\n\n    const layer = new MapboxVectorCanvasTileLayer(\n      this,\n      imageryProvider,\n      options\n    );\n    layer.addTo(map);\n    layer.bringToFront();\n\n    return function() {\n      map.removeLayer(layer);\n    };\n  }\n}\n\nfunction isImageryLayer(someLayer: L.Layer): someLayer is CesiumTileLayer {\n  return \"imageryProvider\" in someLayer;\n}\n\nfunction isDataSource(object: MapItem): object is DataSource {\n  return \"entities\" in object;\n}\n","import defined from \"./defined.js\";\n\nvar implementation;\nif (typeof cancelAnimationFrame !== \"undefined\") {\n  implementation = cancelAnimationFrame;\n}\n\n(function () {\n  // look for vendor prefixed function\n  if (!defined(implementation) && typeof window !== \"undefined\") {\n    var vendors = [\"webkit\", \"moz\", \"ms\", \"o\"];\n    var i = 0;\n    var len = vendors.length;\n    while (i < len && !defined(implementation)) {\n      implementation = window[vendors[i] + \"CancelAnimationFrame\"];\n      if (!defined(implementation)) {\n        implementation = window[vendors[i] + \"CancelRequestAnimationFrame\"];\n      }\n      ++i;\n    }\n  }\n\n  // otherwise, assume requestAnimationFrame is based on setTimeout, so use clearTimeout\n  if (!defined(implementation)) {\n    implementation = clearTimeout;\n  }\n})();\n\n/**\n * A browser-independent function to cancel an animation frame requested using {@link requestAnimationFrame}.\n *\n * @function cancelAnimationFrame\n *\n * @param {Number} requestID The value returned by {@link requestAnimationFrame}.\n *\n * @see {@link http://www.w3.org/TR/animation-timing/#the-WindowAnimationTiming-interface|The WindowAnimationTiming interface}\n */\nfunction cancelAnimationFramePolyfill(requestID) {\n  // we need this extra wrapper function because the native cancelAnimationFrame\n  // functions must be invoked on the global scope (window), which is not the case\n  // if invoked as Cesium.cancelAnimationFrame(requestID)\n  implementation(requestID);\n}\nexport default cancelAnimationFramePolyfill;\n","'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _CanvasRenderer = require('./renderer/CanvasRenderer');\n\nvar _CanvasRenderer2 = _interopRequireDefault(_CanvasRenderer);\n\nvar _Logger = require('./Logger');\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nvar _Window = require('./Window');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar html2canvas = function html2canvas(element, conf) {\n    var config = conf || {};\n    var logger = new _Logger2.default(typeof config.logging === 'boolean' ? config.logging : true);\n    logger.log('html2canvas ' + \"$npm_package_version\");\n\n    if (process.env.NODE_ENV !== 'production' && typeof config.onrendered === 'function') {\n        logger.error('onrendered option is deprecated, html2canvas returns a Promise with the canvas as the value');\n    }\n\n    var ownerDocument = element.ownerDocument;\n    if (!ownerDocument) {\n        return Promise.reject('Provided element is not within a Document');\n    }\n    var defaultView = ownerDocument.defaultView;\n\n    var defaultOptions = {\n        async: true,\n        allowTaint: false,\n        backgroundColor: '#ffffff',\n        imageTimeout: 15000,\n        logging: true,\n        proxy: null,\n        removeContainer: true,\n        foreignObjectRendering: false,\n        scale: defaultView.devicePixelRatio || 1,\n        target: new _CanvasRenderer2.default(config.canvas),\n        useCORS: false,\n        windowWidth: defaultView.innerWidth,\n        windowHeight: defaultView.innerHeight,\n        scrollX: defaultView.pageXOffset,\n        scrollY: defaultView.pageYOffset\n    };\n\n    var result = (0, _Window.renderElement)(element, _extends({}, defaultOptions, config), logger);\n\n    if (process.env.NODE_ENV !== 'production') {\n        return result.catch(function (e) {\n            logger.error(e);\n            throw e;\n        });\n    }\n    return result;\n};\n\nhtml2canvas.CanvasRenderer = _CanvasRenderer2.default;\n\nmodule.exports = html2canvas;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.renderElement = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _Logger = require('./Logger');\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nvar _NodeParser = require('./NodeParser');\n\nvar _Renderer = require('./Renderer');\n\nvar _Renderer2 = _interopRequireDefault(_Renderer);\n\nvar _ForeignObjectRenderer = require('./renderer/ForeignObjectRenderer');\n\nvar _ForeignObjectRenderer2 = _interopRequireDefault(_ForeignObjectRenderer);\n\nvar _Feature = require('./Feature');\n\nvar _Feature2 = _interopRequireDefault(_Feature);\n\nvar _Bounds = require('./Bounds');\n\nvar _Clone = require('./Clone');\n\nvar _Font = require('./Font');\n\nvar _Color = require('./Color');\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar renderElement = exports.renderElement = function renderElement(element, options, logger) {\n    var ownerDocument = element.ownerDocument;\n\n    var windowBounds = new _Bounds.Bounds(options.scrollX, options.scrollY, options.windowWidth, options.windowHeight);\n\n    // http://www.w3.org/TR/css3-background/#special-backgrounds\n    var documentBackgroundColor = ownerDocument.documentElement ? new _Color2.default(getComputedStyle(ownerDocument.documentElement).backgroundColor) : _Color.TRANSPARENT;\n    var bodyBackgroundColor = ownerDocument.body ? new _Color2.default(getComputedStyle(ownerDocument.body).backgroundColor) : _Color.TRANSPARENT;\n\n    var backgroundColor = element === ownerDocument.documentElement ? documentBackgroundColor.isTransparent() ? bodyBackgroundColor.isTransparent() ? options.backgroundColor ? new _Color2.default(options.backgroundColor) : null : bodyBackgroundColor : documentBackgroundColor : options.backgroundColor ? new _Color2.default(options.backgroundColor) : null;\n\n    return (options.foreignObjectRendering ? // $FlowFixMe\n    _Feature2.default.SUPPORT_FOREIGNOBJECT_DRAWING : Promise.resolve(false)).then(function (supportForeignObject) {\n        return supportForeignObject ? function (cloner) {\n            if (process.env.NODE_ENV !== 'production') {\n                logger.log('Document cloned, using foreignObject rendering');\n            }\n\n            return cloner.inlineFonts(ownerDocument).then(function () {\n                return cloner.resourceLoader.ready();\n            }).then(function () {\n                var renderer = new _ForeignObjectRenderer2.default(cloner.documentElement);\n\n                var defaultView = ownerDocument.defaultView;\n                var scrollX = defaultView.pageXOffset;\n                var scrollY = defaultView.pageYOffset;\n\n                var isDocument = element.tagName === 'HTML' || element.tagName === 'BODY';\n\n                var _ref = isDocument ? (0, _Bounds.parseDocumentSize)(ownerDocument) : (0, _Bounds.parseBounds)(element, scrollX, scrollY),\n                    width = _ref.width,\n                    height = _ref.height,\n                    left = _ref.left,\n                    top = _ref.top;\n\n                return renderer.render({\n                    backgroundColor: backgroundColor,\n                    logger: logger,\n                    scale: options.scale,\n                    x: typeof options.x === 'number' ? options.x : left,\n                    y: typeof options.y === 'number' ? options.y : top,\n                    width: typeof options.width === 'number' ? options.width : Math.ceil(width),\n                    height: typeof options.height === 'number' ? options.height : Math.ceil(height),\n                    windowWidth: options.windowWidth,\n                    windowHeight: options.windowHeight,\n                    scrollX: options.scrollX,\n                    scrollY: options.scrollY\n                });\n            });\n        }(new _Clone.DocumentCloner(element, options, logger, true, renderElement)) : (0, _Clone.cloneWindow)(ownerDocument, windowBounds, element, options, logger, renderElement).then(function (_ref2) {\n            var _ref3 = _slicedToArray(_ref2, 3),\n                container = _ref3[0],\n                clonedElement = _ref3[1],\n                resourceLoader = _ref3[2];\n\n            if (process.env.NODE_ENV !== 'production') {\n                logger.log('Document cloned, using computed rendering');\n            }\n\n            var stack = (0, _NodeParser.NodeParser)(clonedElement, resourceLoader, logger);\n            var clonedDocument = clonedElement.ownerDocument;\n\n            if (backgroundColor === stack.container.style.background.backgroundColor) {\n                stack.container.style.background.backgroundColor = _Color.TRANSPARENT;\n            }\n\n            return resourceLoader.ready().then(function (imageStore) {\n                var fontMetrics = new _Font.FontMetrics(clonedDocument);\n                if (process.env.NODE_ENV !== 'production') {\n                    logger.log('Starting renderer');\n                }\n\n                var defaultView = clonedDocument.defaultView;\n                var scrollX = defaultView.pageXOffset;\n                var scrollY = defaultView.pageYOffset;\n\n                var isDocument = clonedElement.tagName === 'HTML' || clonedElement.tagName === 'BODY';\n\n                var _ref4 = isDocument ? (0, _Bounds.parseDocumentSize)(ownerDocument) : (0, _Bounds.parseBounds)(clonedElement, scrollX, scrollY),\n                    width = _ref4.width,\n                    height = _ref4.height,\n                    left = _ref4.left,\n                    top = _ref4.top;\n\n                var renderOptions = {\n                    backgroundColor: backgroundColor,\n                    fontMetrics: fontMetrics,\n                    imageStore: imageStore,\n                    logger: logger,\n                    scale: options.scale,\n                    x: typeof options.x === 'number' ? options.x : left,\n                    y: typeof options.y === 'number' ? options.y : top,\n                    width: typeof options.width === 'number' ? options.width : Math.ceil(width),\n                    height: typeof options.height === 'number' ? options.height : Math.ceil(height)\n                };\n\n                if (Array.isArray(options.target)) {\n                    return Promise.all(options.target.map(function (target) {\n                        var renderer = new _Renderer2.default(target, renderOptions);\n                        return renderer.render(stack);\n                    }));\n                } else {\n                    var renderer = new _Renderer2.default(options.target, renderOptions);\n                    var canvas = renderer.render(stack);\n                    if (options.removeContainer === true) {\n                        if (container.parentNode) {\n                            container.parentNode.removeChild(container);\n                        } else if (process.env.NODE_ENV !== 'production') {\n                            logger.log('Cannot detach cloned iframe as it is not in the DOM anymore');\n                        }\n                    }\n\n                    return canvas;\n                }\n            });\n        });\n    });\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.NodeParser = undefined;\n\nvar _StackingContext = require('./StackingContext');\n\nvar _StackingContext2 = _interopRequireDefault(_StackingContext);\n\nvar _NodeContainer = require('./NodeContainer');\n\nvar _NodeContainer2 = _interopRequireDefault(_NodeContainer);\n\nvar _TextContainer = require('./TextContainer');\n\nvar _TextContainer2 = _interopRequireDefault(_TextContainer);\n\nvar _Input = require('./Input');\n\nvar _ListItem = require('./ListItem');\n\nvar _listStyle = require('./parsing/listStyle');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NodeParser = exports.NodeParser = function NodeParser(node, resourceLoader, logger) {\n    if (process.env.NODE_ENV !== 'production') {\n        logger.log('Starting node parsing');\n    }\n\n    var index = 0;\n\n    var container = new _NodeContainer2.default(node, null, resourceLoader, index++);\n    var stack = new _StackingContext2.default(container, null, true);\n\n    parseNodeTree(node, container, stack, resourceLoader, index);\n\n    if (process.env.NODE_ENV !== 'production') {\n        logger.log('Finished parsing node tree');\n    }\n\n    return stack;\n};\n\nvar IGNORED_NODE_NAMES = ['SCRIPT', 'HEAD', 'TITLE', 'OBJECT', 'BR', 'OPTION'];\n\nvar parseNodeTree = function parseNodeTree(node, parent, stack, resourceLoader, index) {\n    if (process.env.NODE_ENV !== 'production' && index > 50000) {\n        throw new Error('Recursion error while parsing node tree');\n    }\n\n    for (var childNode = node.firstChild, nextNode; childNode; childNode = nextNode) {\n        nextNode = childNode.nextSibling;\n        var defaultView = childNode.ownerDocument.defaultView;\n        if (childNode instanceof defaultView.Text || childNode instanceof Text || defaultView.parent && childNode instanceof defaultView.parent.Text) {\n            if (childNode.data.trim().length > 0) {\n                parent.childNodes.push(_TextContainer2.default.fromTextNode(childNode, parent));\n            }\n        } else if (childNode instanceof defaultView.HTMLElement || childNode instanceof HTMLElement || defaultView.parent && childNode instanceof defaultView.parent.HTMLElement) {\n            if (IGNORED_NODE_NAMES.indexOf(childNode.nodeName) === -1) {\n                var container = new _NodeContainer2.default(childNode, parent, resourceLoader, index++);\n                if (container.isVisible()) {\n                    if (childNode.tagName === 'INPUT') {\n                        // $FlowFixMe\n                        (0, _Input.inlineInputElement)(childNode, container);\n                    } else if (childNode.tagName === 'TEXTAREA') {\n                        // $FlowFixMe\n                        (0, _Input.inlineTextAreaElement)(childNode, container);\n                    } else if (childNode.tagName === 'SELECT') {\n                        // $FlowFixMe\n                        (0, _Input.inlineSelectElement)(childNode, container);\n                    } else if (container.style.listStyle && container.style.listStyle.listStyleType !== _listStyle.LIST_STYLE_TYPE.NONE) {\n                        (0, _ListItem.inlineListItemElement)(childNode, container, resourceLoader);\n                    }\n\n                    var SHOULD_TRAVERSE_CHILDREN = childNode.tagName !== 'TEXTAREA';\n                    var treatAsRealStackingContext = createsRealStackingContext(container, childNode);\n                    if (treatAsRealStackingContext || createsStackingContext(container)) {\n                        // for treatAsRealStackingContext:false, any positioned descendants and descendants\n                        // which actually create a new stacking context should be considered part of the parent stacking context\n                        var parentStack = treatAsRealStackingContext || container.isPositioned() ? stack.getRealParentStackingContext() : stack;\n                        var childStack = new _StackingContext2.default(container, parentStack, treatAsRealStackingContext);\n                        parentStack.contexts.push(childStack);\n                        if (SHOULD_TRAVERSE_CHILDREN) {\n                            parseNodeTree(childNode, container, childStack, resourceLoader, index);\n                        }\n                    } else {\n                        stack.children.push(container);\n                        if (SHOULD_TRAVERSE_CHILDREN) {\n                            parseNodeTree(childNode, container, stack, resourceLoader, index);\n                        }\n                    }\n                }\n            }\n        } else if (childNode instanceof defaultView.SVGSVGElement || childNode instanceof SVGSVGElement || defaultView.parent && childNode instanceof defaultView.parent.SVGSVGElement) {\n            var _container = new _NodeContainer2.default(childNode, parent, resourceLoader, index++);\n            var _treatAsRealStackingContext = createsRealStackingContext(_container, childNode);\n            if (_treatAsRealStackingContext || createsStackingContext(_container)) {\n                // for treatAsRealStackingContext:false, any positioned descendants and descendants\n                // which actually create a new stacking context should be considered part of the parent stacking context\n                var _parentStack = _treatAsRealStackingContext || _container.isPositioned() ? stack.getRealParentStackingContext() : stack;\n                var _childStack = new _StackingContext2.default(_container, _parentStack, _treatAsRealStackingContext);\n                _parentStack.contexts.push(_childStack);\n            } else {\n                stack.children.push(_container);\n            }\n        }\n    }\n};\n\nvar createsRealStackingContext = function createsRealStackingContext(container, node) {\n    return container.isRootElement() || container.isPositionedWithZIndex() || container.style.opacity < 1 || container.isTransformed() || isBodyWithTransparentRoot(container, node);\n};\n\nvar createsStackingContext = function createsStackingContext(container) {\n    return container.isPositioned() || container.isFloating();\n};\n\nvar isBodyWithTransparentRoot = function isBodyWithTransparentRoot(container, node) {\n    return node.nodeName === 'BODY' && container.parent instanceof _NodeContainer2.default && container.parent.style.background.backgroundColor.isTransparent();\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _NodeContainer = require('./NodeContainer');\n\nvar _NodeContainer2 = _interopRequireDefault(_NodeContainer);\n\nvar _position = require('./parsing/position');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar StackingContext = function () {\n    function StackingContext(container, parent, treatAsRealStackingContext) {\n        _classCallCheck(this, StackingContext);\n\n        this.container = container;\n        this.parent = parent;\n        this.contexts = [];\n        this.children = [];\n        this.treatAsRealStackingContext = treatAsRealStackingContext;\n    }\n\n    _createClass(StackingContext, [{\n        key: 'getOpacity',\n        value: function getOpacity() {\n            return this.parent ? this.container.style.opacity * this.parent.getOpacity() : this.container.style.opacity;\n        }\n    }, {\n        key: 'getRealParentStackingContext',\n        value: function getRealParentStackingContext() {\n            return !this.parent || this.treatAsRealStackingContext ? this : this.parent.getRealParentStackingContext();\n        }\n    }]);\n\n    return StackingContext;\n}();\n\nexports.default = StackingContext;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Size = function Size(width, height) {\n    _classCallCheck(this, Size);\n\n    this.width = width;\n    this.height = height;\n};\n\nexports.default = Size;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Path = require('./Path');\n\nvar _Vector = require('./Vector');\n\nvar _Vector2 = _interopRequireDefault(_Vector);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar lerp = function lerp(a, b, t) {\n    return new _Vector2.default(a.x + (b.x - a.x) * t, a.y + (b.y - a.y) * t);\n};\n\nvar BezierCurve = function () {\n    function BezierCurve(start, startControl, endControl, end) {\n        _classCallCheck(this, BezierCurve);\n\n        this.type = _Path.PATH.BEZIER_CURVE;\n        this.start = start;\n        this.startControl = startControl;\n        this.endControl = endControl;\n        this.end = end;\n    }\n\n    _createClass(BezierCurve, [{\n        key: 'subdivide',\n        value: function subdivide(t, firstHalf) {\n            var ab = lerp(this.start, this.startControl, t);\n            var bc = lerp(this.startControl, this.endControl, t);\n            var cd = lerp(this.endControl, this.end, t);\n            var abbc = lerp(ab, bc, t);\n            var bccd = lerp(bc, cd, t);\n            var dest = lerp(abbc, bccd, t);\n            return firstHalf ? new BezierCurve(this.start, ab, abbc, dest) : new BezierCurve(dest, bccd, cd, this.end);\n        }\n    }, {\n        key: 'reverse',\n        value: function reverse() {\n            return new BezierCurve(this.end, this.endControl, this.startControl, this.start);\n        }\n    }]);\n\n    return BezierCurve;\n}();\n\nexports.default = BezierCurve;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parseBorderRadius = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _Length = require('../Length');\n\nvar _Length2 = _interopRequireDefault(_Length);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SIDES = ['top-left', 'top-right', 'bottom-right', 'bottom-left'];\n\nvar parseBorderRadius = exports.parseBorderRadius = function parseBorderRadius(style) {\n    return SIDES.map(function (side) {\n        var value = style.getPropertyValue('border-' + side + '-radius');\n\n        var _value$split$map = value.split(' ').map(_Length2.default.create),\n            _value$split$map2 = _slicedToArray(_value$split$map, 2),\n            horizontal = _value$split$map2[0],\n            vertical = _value$split$map2[1];\n\n        return typeof vertical === 'undefined' ? [horizontal, horizontal] : [horizontal, vertical];\n    });\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar DISPLAY = exports.DISPLAY = {\n    NONE: 1 << 0,\n    BLOCK: 1 << 1,\n    INLINE: 1 << 2,\n    RUN_IN: 1 << 3,\n    FLOW: 1 << 4,\n    FLOW_ROOT: 1 << 5,\n    TABLE: 1 << 6,\n    FLEX: 1 << 7,\n    GRID: 1 << 8,\n    RUBY: 1 << 9,\n    SUBGRID: 1 << 10,\n    LIST_ITEM: 1 << 11,\n    TABLE_ROW_GROUP: 1 << 12,\n    TABLE_HEADER_GROUP: 1 << 13,\n    TABLE_FOOTER_GROUP: 1 << 14,\n    TABLE_ROW: 1 << 15,\n    TABLE_CELL: 1 << 16,\n    TABLE_COLUMN_GROUP: 1 << 17,\n    TABLE_COLUMN: 1 << 18,\n    TABLE_CAPTION: 1 << 19,\n    RUBY_BASE: 1 << 20,\n    RUBY_TEXT: 1 << 21,\n    RUBY_BASE_CONTAINER: 1 << 22,\n    RUBY_TEXT_CONTAINER: 1 << 23,\n    CONTENTS: 1 << 24,\n    INLINE_BLOCK: 1 << 25,\n    INLINE_LIST_ITEM: 1 << 26,\n    INLINE_TABLE: 1 << 27,\n    INLINE_FLEX: 1 << 28,\n    INLINE_GRID: 1 << 29\n};\n\nvar parseDisplayValue = function parseDisplayValue(display) {\n    switch (display) {\n        case 'block':\n            return DISPLAY.BLOCK;\n        case 'inline':\n            return DISPLAY.INLINE;\n        case 'run-in':\n            return DISPLAY.RUN_IN;\n        case 'flow':\n            return DISPLAY.FLOW;\n        case 'flow-root':\n            return DISPLAY.FLOW_ROOT;\n        case 'table':\n            return DISPLAY.TABLE;\n        case 'flex':\n            return DISPLAY.FLEX;\n        case 'grid':\n            return DISPLAY.GRID;\n        case 'ruby':\n            return DISPLAY.RUBY;\n        case 'subgrid':\n            return DISPLAY.SUBGRID;\n        case 'list-item':\n            return DISPLAY.LIST_ITEM;\n        case 'table-row-group':\n            return DISPLAY.TABLE_ROW_GROUP;\n        case 'table-header-group':\n            return DISPLAY.TABLE_HEADER_GROUP;\n        case 'table-footer-group':\n            return DISPLAY.TABLE_FOOTER_GROUP;\n        case 'table-row':\n            return DISPLAY.TABLE_ROW;\n        case 'table-cell':\n            return DISPLAY.TABLE_CELL;\n        case 'table-column-group':\n            return DISPLAY.TABLE_COLUMN_GROUP;\n        case 'table-column':\n            return DISPLAY.TABLE_COLUMN;\n        case 'table-caption':\n            return DISPLAY.TABLE_CAPTION;\n        case 'ruby-base':\n            return DISPLAY.RUBY_BASE;\n        case 'ruby-text':\n            return DISPLAY.RUBY_TEXT;\n        case 'ruby-base-container':\n            return DISPLAY.RUBY_BASE_CONTAINER;\n        case 'ruby-text-container':\n            return DISPLAY.RUBY_TEXT_CONTAINER;\n        case 'contents':\n            return DISPLAY.CONTENTS;\n        case 'inline-block':\n            return DISPLAY.INLINE_BLOCK;\n        case 'inline-list-item':\n            return DISPLAY.INLINE_LIST_ITEM;\n        case 'inline-table':\n            return DISPLAY.INLINE_TABLE;\n        case 'inline-flex':\n            return DISPLAY.INLINE_FLEX;\n        case 'inline-grid':\n            return DISPLAY.INLINE_GRID;\n    }\n\n    return DISPLAY.NONE;\n};\n\nvar setDisplayBit = function setDisplayBit(bit, display) {\n    return bit | parseDisplayValue(display);\n};\n\nvar parseDisplay = exports.parseDisplay = function parseDisplay(display) {\n    return display.split(' ').reduce(setDisplayBit, 0);\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar FLOAT = exports.FLOAT = {\n    NONE: 0,\n    LEFT: 1,\n    RIGHT: 2,\n    INLINE_START: 3,\n    INLINE_END: 4\n};\n\nvar parseCSSFloat = exports.parseCSSFloat = function parseCSSFloat(float) {\n    switch (float) {\n        case 'left':\n            return FLOAT.LEFT;\n        case 'right':\n            return FLOAT.RIGHT;\n        case 'inline-start':\n            return FLOAT.INLINE_START;\n        case 'inline-end':\n            return FLOAT.INLINE_END;\n    }\n    return FLOAT.NONE;\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n\nvar parseFontWeight = function parseFontWeight(weight) {\n    switch (weight) {\n        case 'normal':\n            return 400;\n        case 'bold':\n            return 700;\n    }\n\n    var value = parseInt(weight, 10);\n    return isNaN(value) ? 400 : value;\n};\n\nvar parseFont = exports.parseFont = function parseFont(style) {\n    var fontFamily = style.fontFamily;\n    var fontSize = style.fontSize;\n    var fontStyle = style.fontStyle;\n    var fontVariant = style.fontVariant;\n    var fontWeight = parseFontWeight(style.fontWeight);\n\n    return {\n        fontFamily: fontFamily,\n        fontSize: fontSize,\n        fontStyle: fontStyle,\n        fontVariant: fontVariant,\n        fontWeight: fontWeight\n    };\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar parseLetterSpacing = exports.parseLetterSpacing = function parseLetterSpacing(letterSpacing) {\n    if (letterSpacing === 'normal') {\n        return 0;\n    }\n    var value = parseFloat(letterSpacing);\n    return isNaN(value) ? 0 : value;\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar LINE_BREAK = exports.LINE_BREAK = {\n    NORMAL: 'normal',\n    STRICT: 'strict'\n};\n\nvar parseLineBreak = exports.parseLineBreak = function parseLineBreak(wordBreak) {\n    switch (wordBreak) {\n        case 'strict':\n            return LINE_BREAK.STRICT;\n        case 'normal':\n        default:\n            return LINE_BREAK.NORMAL;\n    }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parseMargin = undefined;\n\nvar _Length = require('../Length');\n\nvar _Length2 = _interopRequireDefault(_Length);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SIDES = ['top', 'right', 'bottom', 'left'];\n\nvar parseMargin = exports.parseMargin = function parseMargin(style) {\n    return SIDES.map(function (side) {\n        return new _Length2.default(style.getPropertyValue('margin-' + side));\n    });\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar OVERFLOW = exports.OVERFLOW = {\n    VISIBLE: 0,\n    HIDDEN: 1,\n    SCROLL: 2,\n    AUTO: 3\n};\n\nvar parseOverflow = exports.parseOverflow = function parseOverflow(overflow) {\n    switch (overflow) {\n        case 'hidden':\n            return OVERFLOW.HIDDEN;\n        case 'scroll':\n            return OVERFLOW.SCROLL;\n        case 'auto':\n            return OVERFLOW.AUTO;\n        case 'visible':\n        default:\n            return OVERFLOW.VISIBLE;\n    }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parseTextShadow = undefined;\n\nvar _Color = require('../Color');\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NUMBER = /^([+-]|\\d|\\.)$/i;\n\nvar parseTextShadow = exports.parseTextShadow = function parseTextShadow(textShadow) {\n    if (textShadow === 'none' || typeof textShadow !== 'string') {\n        return null;\n    }\n\n    var currentValue = '';\n    var isLength = false;\n    var values = [];\n    var shadows = [];\n    var numParens = 0;\n    var color = null;\n\n    var appendValue = function appendValue() {\n        if (currentValue.length) {\n            if (isLength) {\n                values.push(parseFloat(currentValue));\n            } else {\n                color = new _Color2.default(currentValue);\n            }\n        }\n        isLength = false;\n        currentValue = '';\n    };\n\n    var appendShadow = function appendShadow() {\n        if (values.length && color !== null) {\n            shadows.push({\n                color: color,\n                offsetX: values[0] || 0,\n                offsetY: values[1] || 0,\n                blur: values[2] || 0\n            });\n        }\n        values.splice(0, values.length);\n        color = null;\n    };\n\n    for (var i = 0; i < textShadow.length; i++) {\n        var c = textShadow[i];\n        switch (c) {\n            case '(':\n                currentValue += c;\n                numParens++;\n                break;\n            case ')':\n                currentValue += c;\n                numParens--;\n                break;\n            case ',':\n                if (numParens === 0) {\n                    appendValue();\n                    appendShadow();\n                } else {\n                    currentValue += c;\n                }\n                break;\n            case ' ':\n                if (numParens === 0) {\n                    appendValue();\n                } else {\n                    currentValue += c;\n                }\n                break;\n            default:\n                if (currentValue.length === 0 && NUMBER.test(c)) {\n                    isLength = true;\n                }\n                currentValue += c;\n        }\n    }\n\n    appendValue();\n    appendShadow();\n\n    if (shadows.length === 0) {\n        return null;\n    }\n\n    return shadows;\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parseTransform = undefined;\n\nvar _Length = require('../Length');\n\nvar _Length2 = _interopRequireDefault(_Length);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar toFloat = function toFloat(s) {\n    return parseFloat(s.trim());\n};\n\nvar MATRIX = /(matrix|matrix3d)\\((.+)\\)/;\n\nvar parseTransform = exports.parseTransform = function parseTransform(style) {\n    var transform = parseTransformMatrix(style.transform || style.webkitTransform || style.mozTransform ||\n    // $FlowFixMe\n    style.msTransform ||\n    // $FlowFixMe\n    style.oTransform);\n    if (transform === null) {\n        return null;\n    }\n\n    return {\n        transform: transform,\n        transformOrigin: parseTransformOrigin(style.transformOrigin || style.webkitTransformOrigin || style.mozTransformOrigin ||\n        // $FlowFixMe\n        style.msTransformOrigin ||\n        // $FlowFixMe\n        style.oTransformOrigin)\n    };\n};\n\n// $FlowFixMe\nvar parseTransformOrigin = function parseTransformOrigin(origin) {\n    if (typeof origin !== 'string') {\n        var v = new _Length2.default('0');\n        return [v, v];\n    }\n    var values = origin.split(' ').map(_Length2.default.create);\n    return [values[0], values[1]];\n};\n\n// $FlowFixMe\nvar parseTransformMatrix = function parseTransformMatrix(transform) {\n    if (transform === 'none' || typeof transform !== 'string') {\n        return null;\n    }\n\n    var match = transform.match(MATRIX);\n    if (match) {\n        if (match[1] === 'matrix') {\n            var matrix = match[2].split(',').map(toFloat);\n            return [matrix[0], matrix[1], matrix[2], matrix[3], matrix[4], matrix[5]];\n        } else {\n            var matrix3d = match[2].split(',').map(toFloat);\n            return [matrix3d[0], matrix3d[1], matrix3d[4], matrix3d[5], matrix3d[12], matrix3d[13]];\n        }\n    }\n    return null;\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar VISIBILITY = exports.VISIBILITY = {\n    VISIBLE: 0,\n    HIDDEN: 1,\n    COLLAPSE: 2\n};\n\nvar parseVisibility = exports.parseVisibility = function parseVisibility(visibility) {\n    switch (visibility) {\n        case 'hidden':\n            return VISIBILITY.HIDDEN;\n        case 'collapse':\n            return VISIBILITY.COLLAPSE;\n        case 'visible':\n        default:\n            return VISIBILITY.VISIBLE;\n    }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar WORD_BREAK = exports.WORD_BREAK = {\n    NORMAL: 'normal',\n    BREAK_ALL: 'break-all',\n    KEEP_ALL: 'keep-all'\n};\n\nvar parseWordBreak = exports.parseWordBreak = function parseWordBreak(wordBreak) {\n    switch (wordBreak) {\n        case 'break-all':\n            return WORD_BREAK.BREAK_ALL;\n        case 'keep-all':\n            return WORD_BREAK.KEEP_ALL;\n        case 'normal':\n        default:\n            return WORD_BREAK.NORMAL;\n    }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar parseZIndex = exports.parseZIndex = function parseZIndex(zIndex) {\n    var auto = zIndex === 'auto';\n    return {\n        auto: auto,\n        order: auto ? 0 : parseInt(zIndex, 10)\n    };\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Util = require('./Util');\n\nObject.defineProperty(exports, 'toCodePoints', {\n  enumerable: true,\n  get: function get() {\n    return _Util.toCodePoints;\n  }\n});\nObject.defineProperty(exports, 'fromCodePoint', {\n  enumerable: true,\n  get: function get() {\n    return _Util.fromCodePoint;\n  }\n});\n\nvar _LineBreak = require('./LineBreak');\n\nObject.defineProperty(exports, 'LineBreaker', {\n  enumerable: true,\n  get: function get() {\n    return _LineBreak.LineBreaker;\n  }\n});","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.LineBreaker = exports.inlineBreakOpportunities = exports.lineBreakAtIndex = exports.codePointsToCharacterClasses = exports.UnicodeTrie = exports.BREAK_ALLOWED = exports.BREAK_NOT_ALLOWED = exports.BREAK_MANDATORY = exports.classes = exports.LETTER_NUMBER_MODIFIER = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _Trie = require('./Trie');\n\nvar _linebreakTrie = require('./linebreak-trie');\n\nvar _linebreakTrie2 = _interopRequireDefault(_linebreakTrie);\n\nvar _Util = require('./Util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar LETTER_NUMBER_MODIFIER = exports.LETTER_NUMBER_MODIFIER = 50;\n\n// Non-tailorable Line Breaking Classes\nvar BK = 1; //  Cause a line break (after)\nvar CR = 2; //  Cause a line break (after), except between CR and LF\nvar LF = 3; //  Cause a line break (after)\nvar CM = 4; //  Prohibit a line break between the character and the preceding character\nvar NL = 5; //  Cause a line break (after)\nvar SG = 6; //  Do not occur in well-formed text\nvar WJ = 7; //  Prohibit line breaks before and after\nvar ZW = 8; //  Provide a break opportunity\nvar GL = 9; //  Prohibit line breaks before and after\nvar SP = 10; // Enable indirect line breaks\nvar ZWJ = 11; // Prohibit line breaks within joiner sequences\n// Break Opportunities\nvar B2 = 12; //  Provide a line break opportunity before and after the character\nvar BA = 13; //  Generally provide a line break opportunity after the character\nvar BB = 14; //  Generally provide a line break opportunity before the character\nvar HY = 15; //  Provide a line break opportunity after the character, except in numeric context\nvar CB = 16; //   Provide a line break opportunity contingent on additional information\n// Characters Prohibiting Certain Breaks\nvar CL = 17; //  Prohibit line breaks before\nvar CP = 18; //  Prohibit line breaks before\nvar EX = 19; //  Prohibit line breaks before\nvar IN = 20; //  Allow only indirect line breaks between pairs\nvar NS = 21; //  Allow only indirect line breaks before\nvar OP = 22; //  Prohibit line breaks after\nvar QU = 23; //  Act like they are both opening and closing\n// Numeric Context\nvar IS = 24; //  Prevent breaks after any and before numeric\nvar NU = 25; //  Form numeric expressions for line breaking purposes\nvar PO = 26; //  Do not break following a numeric expression\nvar PR = 27; //  Do not break in front of a numeric expression\nvar SY = 28; //  Prevent a break before; and allow a break after\n// Other Characters\nvar AI = 29; //  Act like AL when the resolvedEAW is N; otherwise; act as ID\nvar AL = 30; //  Are alphabetic characters or symbols that are used with alphabetic characters\nvar CJ = 31; //  Treat as NS or ID for strict or normal breaking.\nvar EB = 32; //  Do not break from following Emoji Modifier\nvar EM = 33; //  Do not break from preceding Emoji Base\nvar H2 = 34; //  Form Korean syllable blocks\nvar H3 = 35; //  Form Korean syllable blocks\nvar HL = 36; //  Do not break around a following hyphen; otherwise act as Alphabetic\nvar ID = 37; //  Break before or after; except in some numeric context\nvar JL = 38; //  Form Korean syllable blocks\nvar JV = 39; //  Form Korean syllable blocks\nvar JT = 40; //  Form Korean syllable blocks\nvar RI = 41; //  Keep pairs together. For pairs; break before and after other classes\nvar SA = 42; //  Provide a line break opportunity contingent on additional, language-specific context analysis\nvar XX = 43; //  Have as yet unknown line breaking behavior or unassigned code positions\n\nvar classes = exports.classes = {\n    BK: BK,\n    CR: CR,\n    LF: LF,\n    CM: CM,\n    NL: NL,\n    SG: SG,\n    WJ: WJ,\n    ZW: ZW,\n    GL: GL,\n    SP: SP,\n    ZWJ: ZWJ,\n    B2: B2,\n    BA: BA,\n    BB: BB,\n    HY: HY,\n    CB: CB,\n    CL: CL,\n    CP: CP,\n    EX: EX,\n    IN: IN,\n    NS: NS,\n    OP: OP,\n    QU: QU,\n    IS: IS,\n    NU: NU,\n    PO: PO,\n    PR: PR,\n    SY: SY,\n    AI: AI,\n    AL: AL,\n    CJ: CJ,\n    EB: EB,\n    EM: EM,\n    H2: H2,\n    H3: H3,\n    HL: HL,\n    ID: ID,\n    JL: JL,\n    JV: JV,\n    JT: JT,\n    RI: RI,\n    SA: SA,\n    XX: XX\n};\n\nvar BREAK_MANDATORY = exports.BREAK_MANDATORY = '!';\nvar BREAK_NOT_ALLOWED = exports.BREAK_NOT_ALLOWED = '';\nvar BREAK_ALLOWED = exports.BREAK_ALLOWED = '';\nvar UnicodeTrie = exports.UnicodeTrie = (0, _Trie.createTrieFromBase64)(_linebreakTrie2.default);\n\nvar ALPHABETICS = [AL, HL];\nvar HARD_LINE_BREAKS = [BK, CR, LF, NL];\nvar SPACE = [SP, ZW];\nvar PREFIX_POSTFIX = [PR, PO];\nvar LINE_BREAKS = HARD_LINE_BREAKS.concat(SPACE);\nvar KOREAN_SYLLABLE_BLOCK = [JL, JV, JT, H2, H3];\nvar HYPHEN = [HY, BA];\n\nvar codePointsToCharacterClasses = exports.codePointsToCharacterClasses = function codePointsToCharacterClasses(codePoints) {\n    var lineBreak = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'strict';\n\n    var types = [];\n    var indicies = [];\n    var categories = [];\n    codePoints.forEach(function (codePoint, index) {\n        var classType = UnicodeTrie.get(codePoint);\n        if (classType > LETTER_NUMBER_MODIFIER) {\n            categories.push(true);\n            classType -= LETTER_NUMBER_MODIFIER;\n        } else {\n            categories.push(false);\n        }\n\n        if (['normal', 'auto', 'loose'].indexOf(lineBreak) !== -1) {\n            // U+2010,  U+2013,  U+301C,  U+30A0\n            if ([0x2010, 0x2013, 0x301c, 0x30a0].indexOf(codePoint) !== -1) {\n                indicies.push(index);\n                return types.push(CB);\n            }\n        }\n\n        if (classType === CM || classType === ZWJ) {\n            // LB10 Treat any remaining combining mark or ZWJ as AL.\n            if (index === 0) {\n                indicies.push(index);\n                return types.push(AL);\n            }\n\n            // LB9 Do not break a combining character sequence; treat it as if it has the line breaking class of\n            // the base character in all of the following rules. Treat ZWJ as if it were CM.\n            var prev = types[index - 1];\n            if (LINE_BREAKS.indexOf(prev) === -1) {\n                indicies.push(indicies[index - 1]);\n                return types.push(prev);\n            }\n            indicies.push(index);\n            return types.push(AL);\n        }\n\n        indicies.push(index);\n\n        if (classType === CJ) {\n            return types.push(lineBreak === 'strict' ? NS : ID);\n        }\n\n        if (classType === SA) {\n            return types.push(AL);\n        }\n\n        if (classType === AI) {\n            return types.push(AL);\n        }\n\n        // For supplementary characters, a useful default is to treat characters in the range 10000..1FFFD as AL\n        // and characters in the ranges 20000..2FFFD and 30000..3FFFD as ID, until the implementation can be revised\n        // to take into account the actual line breaking properties for these characters.\n        if (classType === XX) {\n            if (codePoint >= 0x20000 && codePoint <= 0x2fffd || codePoint >= 0x30000 && codePoint <= 0x3fffd) {\n                return types.push(ID);\n            } else {\n                return types.push(AL);\n            }\n        }\n\n        types.push(classType);\n    });\n\n    return [indicies, types, categories];\n};\n\nvar isAdjacentWithSpaceIgnored = function isAdjacentWithSpaceIgnored(a, b, currentIndex, classTypes) {\n    var current = classTypes[currentIndex];\n    if (Array.isArray(a) ? a.indexOf(current) !== -1 : a === current) {\n        var i = currentIndex;\n        while (i <= classTypes.length) {\n            i++;\n            var next = classTypes[i];\n\n            if (next === b) {\n                return true;\n            }\n\n            if (next !== SP) {\n                break;\n            }\n        }\n    }\n\n    if (current === SP) {\n        var _i = currentIndex;\n\n        while (_i > 0) {\n            _i--;\n            var prev = classTypes[_i];\n\n            if (Array.isArray(a) ? a.indexOf(prev) !== -1 : a === prev) {\n                var n = currentIndex;\n                while (n <= classTypes.length) {\n                    n++;\n                    var _next = classTypes[n];\n\n                    if (_next === b) {\n                        return true;\n                    }\n\n                    if (_next !== SP) {\n                        break;\n                    }\n                }\n            }\n\n            if (prev !== SP) {\n                break;\n            }\n        }\n    }\n    return false;\n};\n\nvar previousNonSpaceClassType = function previousNonSpaceClassType(currentIndex, classTypes) {\n    var i = currentIndex;\n    while (i >= 0) {\n        var type = classTypes[i];\n        if (type === SP) {\n            i--;\n        } else {\n            return type;\n        }\n    }\n    return 0;\n};\n\nvar _lineBreakAtIndex = function _lineBreakAtIndex(codePoints, classTypes, indicies, index, forbiddenBreaks) {\n    if (indicies[index] === 0) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    var currentIndex = index - 1;\n    if (Array.isArray(forbiddenBreaks) && forbiddenBreaks[currentIndex] === true) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    var beforeIndex = currentIndex - 1;\n    var afterIndex = currentIndex + 1;\n    var current = classTypes[currentIndex];\n\n    // LB4 Always break after hard line breaks.\n    // LB5 Treat CR followed by LF, as well as CR, LF, and NL as hard line breaks.\n    var before = beforeIndex >= 0 ? classTypes[beforeIndex] : 0;\n    var next = classTypes[afterIndex];\n\n    if (current === CR && next === LF) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    if (HARD_LINE_BREAKS.indexOf(current) !== -1) {\n        return BREAK_MANDATORY;\n    }\n\n    // LB6 Do not break before hard line breaks.\n    if (HARD_LINE_BREAKS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB7 Do not break before spaces or zero width space.\n    if (SPACE.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB8 Break before any character following a zero-width space, even if one or more spaces intervene.\n    if (previousNonSpaceClassType(currentIndex, classTypes) === ZW) {\n        return BREAK_ALLOWED;\n    }\n\n    // LB8a Do not break between a zero width joiner and an ideograph, emoji base or emoji modifier.\n    if (UnicodeTrie.get(codePoints[currentIndex]) === ZWJ && (next === ID || next === EB || next === EM)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB11 Do not break before or after Word joiner and related characters.\n    if (current === WJ || next === WJ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB12 Do not break after NBSP and related characters.\n    if (current === GL) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB12a Do not break before NBSP and related characters, except after spaces and hyphens.\n    if ([SP, BA, HY].indexOf(current) === -1 && next === GL) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB13 Do not break before ] or ! or ; or /, even after spaces.\n    if ([CL, CP, EX, IS, SY].indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB14 Do not break after [, even after spaces.\n    if (previousNonSpaceClassType(currentIndex, classTypes) === OP) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB15 Do not break within [, even with intervening spaces.\n    if (isAdjacentWithSpaceIgnored(QU, OP, currentIndex, classTypes)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB16 Do not break between closing punctuation and a nonstarter (lb=NS), even with intervening spaces.\n    if (isAdjacentWithSpaceIgnored([CL, CP], NS, currentIndex, classTypes)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB17 Do not break within , even with intervening spaces.\n    if (isAdjacentWithSpaceIgnored(B2, B2, currentIndex, classTypes)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB18 Break after spaces.\n    if (current === SP) {\n        return BREAK_ALLOWED;\n    }\n\n    // LB19 Do not break before or after quotation marks, such as   .\n    if (current === QU || next === QU) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB20 Break before and after unresolved CB.\n    if (next === CB || current === CB) {\n        return BREAK_ALLOWED;\n    }\n\n    // LB21 Do not break before hyphen-minus, other hyphens, fixed-width spaces, small kana, and other non-starters, or after acute accents.\n    if ([BA, HY, NS].indexOf(next) !== -1 || current === BB) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB21a Don't break after Hebrew + Hyphen.\n    if (before === HL && HYPHEN.indexOf(current) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB21b Dont break between Solidus and Hebrew letters.\n    if (current === SY && next === HL) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB22 Do not break between two ellipses, or between letters, numbers or exclamations and ellipsis.\n    if (next === IN && ALPHABETICS.concat(IN, EX, NU, ID, EB, EM).indexOf(current) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB23 Do not break between digits and letters.\n    if (ALPHABETICS.indexOf(next) !== -1 && current === NU || ALPHABETICS.indexOf(current) !== -1 && next === NU) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB23a Do not break between numeric prefixes and ideographs, or between ideographs and numeric postfixes.\n    if (current === PR && [ID, EB, EM].indexOf(next) !== -1 || [ID, EB, EM].indexOf(current) !== -1 && next === PO) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB24 Do not break between numeric prefix/postfix and letters, or between letters and prefix/postfix.\n    if (ALPHABETICS.indexOf(current) !== -1 && PREFIX_POSTFIX.indexOf(next) !== -1 || PREFIX_POSTFIX.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB25 Do not break between the following pairs of classes relevant to numbers:\n    if (\n    // (PR | PO)  ( OP | HY )? NU\n    [PR, PO].indexOf(current) !== -1 && (next === NU || [OP, HY].indexOf(next) !== -1 && classTypes[afterIndex + 1] === NU) ||\n    // ( OP | HY )  NU\n    [OP, HY].indexOf(current) !== -1 && next === NU ||\n    // NU \t(NU | SY | IS)\n    current === NU && [NU, SY, IS].indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // NU (NU | SY | IS)*  (NU | SY | IS | CL | CP)\n    if ([NU, SY, IS, CL, CP].indexOf(next) !== -1) {\n        var prevIndex = currentIndex;\n        while (prevIndex >= 0) {\n            var type = classTypes[prevIndex];\n            if (type === NU) {\n                return BREAK_NOT_ALLOWED;\n            } else if ([SY, IS].indexOf(type) !== -1) {\n                prevIndex--;\n            } else {\n                break;\n            }\n        }\n    }\n\n    // NU (NU | SY | IS)* (CL | CP)?  (PO | PR))\n    if ([PR, PO].indexOf(next) !== -1) {\n        var _prevIndex = [CL, CP].indexOf(current) !== -1 ? beforeIndex : currentIndex;\n        while (_prevIndex >= 0) {\n            var _type = classTypes[_prevIndex];\n            if (_type === NU) {\n                return BREAK_NOT_ALLOWED;\n            } else if ([SY, IS].indexOf(_type) !== -1) {\n                _prevIndex--;\n            } else {\n                break;\n            }\n        }\n    }\n\n    // LB26 Do not break a Korean syllable.\n    if (JL === current && [JL, JV, H2, H3].indexOf(next) !== -1 || [JV, H2].indexOf(current) !== -1 && [JV, JT].indexOf(next) !== -1 || [JT, H3].indexOf(current) !== -1 && next === JT) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB27 Treat a Korean Syllable Block the same as ID.\n    if (KOREAN_SYLLABLE_BLOCK.indexOf(current) !== -1 && [IN, PO].indexOf(next) !== -1 || KOREAN_SYLLABLE_BLOCK.indexOf(next) !== -1 && current === PR) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB28 Do not break between alphabetics (at).\n    if (ALPHABETICS.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB29 Do not break between numeric punctuation and alphabetics (e.g.).\n    if (current === IS && ALPHABETICS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB30 Do not break between letters, numbers, or ordinary symbols and opening or closing parentheses.\n    if (ALPHABETICS.concat(NU).indexOf(current) !== -1 && next === OP || ALPHABETICS.concat(NU).indexOf(next) !== -1 && current === CP) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB30a Break between two regional indicator symbols if and only if there are an even number of regional\n    // indicators preceding the position of the break.\n    if (current === RI && next === RI) {\n        var i = indicies[currentIndex];\n        var count = 1;\n        while (i > 0) {\n            i--;\n            if (classTypes[i] === RI) {\n                count++;\n            } else {\n                break;\n            }\n        }\n        if (count % 2 !== 0) {\n            return BREAK_NOT_ALLOWED;\n        }\n    }\n\n    // LB30b Do not break between an emoji base and an emoji modifier.\n    if (current === EB && next === EM) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    return BREAK_ALLOWED;\n};\n\nvar lineBreakAtIndex = exports.lineBreakAtIndex = function lineBreakAtIndex(codePoints, index) {\n    // LB2 Never break at the start of text.\n    if (index === 0) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB3 Always break at the end of text.\n    if (index >= codePoints.length) {\n        return BREAK_MANDATORY;\n    }\n\n    var _codePointsToCharacte = codePointsToCharacterClasses(codePoints),\n        _codePointsToCharacte2 = _slicedToArray(_codePointsToCharacte, 2),\n        indicies = _codePointsToCharacte2[0],\n        classTypes = _codePointsToCharacte2[1];\n\n    return _lineBreakAtIndex(codePoints, classTypes, indicies, index);\n};\n\nvar cssFormattedClasses = function cssFormattedClasses(codePoints, options) {\n    if (!options) {\n        options = { lineBreak: 'normal', wordBreak: 'normal' };\n    }\n\n    var _codePointsToCharacte3 = codePointsToCharacterClasses(codePoints, options.lineBreak),\n        _codePointsToCharacte4 = _slicedToArray(_codePointsToCharacte3, 3),\n        indicies = _codePointsToCharacte4[0],\n        classTypes = _codePointsToCharacte4[1],\n        isLetterNumber = _codePointsToCharacte4[2];\n\n    if (options.wordBreak === 'break-all' || options.wordBreak === 'break-word') {\n        classTypes = classTypes.map(function (type) {\n            return [NU, AL, SA].indexOf(type) !== -1 ? ID : type;\n        });\n    }\n\n    var forbiddenBreakpoints = options.wordBreak === 'keep-all' ? isLetterNumber.map(function (isLetterNumber, i) {\n        return isLetterNumber && codePoints[i] >= 0x4e00 && codePoints[i] <= 0x9fff;\n    }) : null;\n\n    return [indicies, classTypes, forbiddenBreakpoints];\n};\n\nvar inlineBreakOpportunities = exports.inlineBreakOpportunities = function inlineBreakOpportunities(str, options) {\n    var codePoints = (0, _Util.toCodePoints)(str);\n    var output = BREAK_NOT_ALLOWED;\n\n    var _cssFormattedClasses = cssFormattedClasses(codePoints, options),\n        _cssFormattedClasses2 = _slicedToArray(_cssFormattedClasses, 3),\n        indicies = _cssFormattedClasses2[0],\n        classTypes = _cssFormattedClasses2[1],\n        forbiddenBreakpoints = _cssFormattedClasses2[2];\n\n    codePoints.forEach(function (codePoint, i) {\n        output += (0, _Util.fromCodePoint)(codePoint) + (i >= codePoints.length - 1 ? BREAK_MANDATORY : _lineBreakAtIndex(codePoints, classTypes, indicies, i + 1, forbiddenBreakpoints));\n    });\n\n    return output;\n};\n\nvar Break = function () {\n    function Break(codePoints, lineBreak, start, end) {\n        _classCallCheck(this, Break);\n\n        this._codePoints = codePoints;\n        this.required = lineBreak === BREAK_MANDATORY;\n        this.start = start;\n        this.end = end;\n    }\n\n    _createClass(Break, [{\n        key: 'slice',\n        value: function slice() {\n            return _Util.fromCodePoint.apply(undefined, _toConsumableArray(this._codePoints.slice(this.start, this.end)));\n        }\n    }]);\n\n    return Break;\n}();\n\nvar LineBreaker = exports.LineBreaker = function LineBreaker(str, options) {\n    var codePoints = (0, _Util.toCodePoints)(str);\n\n    var _cssFormattedClasses3 = cssFormattedClasses(codePoints, options),\n        _cssFormattedClasses4 = _slicedToArray(_cssFormattedClasses3, 3),\n        indicies = _cssFormattedClasses4[0],\n        classTypes = _cssFormattedClasses4[1],\n        forbiddenBreakpoints = _cssFormattedClasses4[2];\n\n    var length = codePoints.length;\n    var lastEnd = 0;\n    var nextIndex = 0;\n\n    return {\n        next: function next() {\n            if (nextIndex >= length) {\n                return { done: true };\n            }\n            var lineBreak = BREAK_NOT_ALLOWED;\n            while (nextIndex < length && (lineBreak = _lineBreakAtIndex(codePoints, classTypes, indicies, ++nextIndex, forbiddenBreakpoints)) === BREAK_NOT_ALLOWED) {}\n\n            if (lineBreak !== BREAK_NOT_ALLOWED || nextIndex === length) {\n                var value = new Break(codePoints, lineBreak, lastEnd, nextIndex);\n                lastEnd = nextIndex;\n                return { value: value, done: false };\n            }\n\n            return { done: true };\n        }\n    };\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Trie = exports.createTrieFromBase64 = exports.UTRIE2_INDEX_2_MASK = exports.UTRIE2_INDEX_2_BLOCK_LENGTH = exports.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = exports.UTRIE2_INDEX_1_OFFSET = exports.UTRIE2_UTF8_2B_INDEX_2_LENGTH = exports.UTRIE2_UTF8_2B_INDEX_2_OFFSET = exports.UTRIE2_INDEX_2_BMP_LENGTH = exports.UTRIE2_LSCP_INDEX_2_LENGTH = exports.UTRIE2_DATA_MASK = exports.UTRIE2_DATA_BLOCK_LENGTH = exports.UTRIE2_LSCP_INDEX_2_OFFSET = exports.UTRIE2_SHIFT_1_2 = exports.UTRIE2_INDEX_SHIFT = exports.UTRIE2_SHIFT_1 = exports.UTRIE2_SHIFT_2 = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Util = require('./Util');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/** Shift size for getting the index-2 table offset. */\nvar UTRIE2_SHIFT_2 = exports.UTRIE2_SHIFT_2 = 5;\n\n/** Shift size for getting the index-1 table offset. */\nvar UTRIE2_SHIFT_1 = exports.UTRIE2_SHIFT_1 = 6 + 5;\n\n/**\n * Shift size for shifting left the index array values.\n * Increases possible data size with 16-bit index values at the cost\n * of compactability.\n * This requires data blocks to be aligned by UTRIE2_DATA_GRANULARITY.\n */\nvar UTRIE2_INDEX_SHIFT = exports.UTRIE2_INDEX_SHIFT = 2;\n\n/**\n * Difference between the two shift sizes,\n * for getting an index-1 offset from an index-2 offset. 6=11-5\n */\nvar UTRIE2_SHIFT_1_2 = exports.UTRIE2_SHIFT_1_2 = UTRIE2_SHIFT_1 - UTRIE2_SHIFT_2;\n\n/**\n * The part of the index-2 table for U+D800..U+DBFF stores values for\n * lead surrogate code _units_ not code _points_.\n * Values for lead surrogate code _points_ are indexed with this portion of the table.\n * Length=32=0x20=0x400>>UTRIE2_SHIFT_2. (There are 1024=0x400 lead surrogates.)\n */\nvar UTRIE2_LSCP_INDEX_2_OFFSET = exports.UTRIE2_LSCP_INDEX_2_OFFSET = 0x10000 >> UTRIE2_SHIFT_2;\n\n/** Number of entries in a data block. 32=0x20 */\nvar UTRIE2_DATA_BLOCK_LENGTH = exports.UTRIE2_DATA_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_2;\n/** Mask for getting the lower bits for the in-data-block offset. */\nvar UTRIE2_DATA_MASK = exports.UTRIE2_DATA_MASK = UTRIE2_DATA_BLOCK_LENGTH - 1;\n\nvar UTRIE2_LSCP_INDEX_2_LENGTH = exports.UTRIE2_LSCP_INDEX_2_LENGTH = 0x400 >> UTRIE2_SHIFT_2;\n/** Count the lengths of both BMP pieces. 2080=0x820 */\nvar UTRIE2_INDEX_2_BMP_LENGTH = exports.UTRIE2_INDEX_2_BMP_LENGTH = UTRIE2_LSCP_INDEX_2_OFFSET + UTRIE2_LSCP_INDEX_2_LENGTH;\n/**\n * The 2-byte UTF-8 version of the index-2 table follows at offset 2080=0x820.\n * Length 32=0x20 for lead bytes C0..DF, regardless of UTRIE2_SHIFT_2.\n */\nvar UTRIE2_UTF8_2B_INDEX_2_OFFSET = exports.UTRIE2_UTF8_2B_INDEX_2_OFFSET = UTRIE2_INDEX_2_BMP_LENGTH;\nvar UTRIE2_UTF8_2B_INDEX_2_LENGTH = exports.UTRIE2_UTF8_2B_INDEX_2_LENGTH = 0x800 >> 6; /* U+0800 is the first code point after 2-byte UTF-8 */\n/**\n * The index-1 table, only used for supplementary code points, at offset 2112=0x840.\n * Variable length, for code points up to highStart, where the last single-value range starts.\n * Maximum length 512=0x200=0x100000>>UTRIE2_SHIFT_1.\n * (For 0x100000 supplementary code points U+10000..U+10ffff.)\n *\n * The part of the index-2 table for supplementary code points starts\n * after this index-1 table.\n *\n * Both the index-1 table and the following part of the index-2 table\n * are omitted completely if there is only BMP data.\n */\nvar UTRIE2_INDEX_1_OFFSET = exports.UTRIE2_INDEX_1_OFFSET = UTRIE2_UTF8_2B_INDEX_2_OFFSET + UTRIE2_UTF8_2B_INDEX_2_LENGTH;\n\n/**\n * Number of index-1 entries for the BMP. 32=0x20\n * This part of the index-1 table is omitted from the serialized form.\n */\nvar UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = exports.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = 0x10000 >> UTRIE2_SHIFT_1;\n\n/** Number of entries in an index-2 block. 64=0x40 */\nvar UTRIE2_INDEX_2_BLOCK_LENGTH = exports.UTRIE2_INDEX_2_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_1_2;\n/** Mask for getting the lower bits for the in-index-2-block offset. */\nvar UTRIE2_INDEX_2_MASK = exports.UTRIE2_INDEX_2_MASK = UTRIE2_INDEX_2_BLOCK_LENGTH - 1;\n\nvar createTrieFromBase64 = exports.createTrieFromBase64 = function createTrieFromBase64(base64) {\n    var buffer = (0, _Util.decode)(base64);\n    var view32 = Array.isArray(buffer) ? (0, _Util.polyUint32Array)(buffer) : new Uint32Array(buffer);\n    var view16 = Array.isArray(buffer) ? (0, _Util.polyUint16Array)(buffer) : new Uint16Array(buffer);\n    var headerLength = 24;\n\n    var index = view16.slice(headerLength / 2, view32[4] / 2);\n    var data = view32[5] === 2 ? view16.slice((headerLength + view32[4]) / 2) : view32.slice(Math.ceil((headerLength + view32[4]) / 4));\n\n    return new Trie(view32[0], view32[1], view32[2], view32[3], index, data);\n};\n\nvar Trie = exports.Trie = function () {\n    function Trie(initialValue, errorValue, highStart, highValueIndex, index, data) {\n        _classCallCheck(this, Trie);\n\n        this.initialValue = initialValue;\n        this.errorValue = errorValue;\n        this.highStart = highStart;\n        this.highValueIndex = highValueIndex;\n        this.index = index;\n        this.data = data;\n    }\n\n    /**\n     * Get the value for a code point as stored in the Trie.\n     *\n     * @param codePoint the code point\n     * @return the value\n     */\n\n\n    _createClass(Trie, [{\n        key: 'get',\n        value: function get(codePoint) {\n            var ix = void 0;\n            if (codePoint >= 0) {\n                if (codePoint < 0x0d800 || codePoint > 0x0dbff && codePoint <= 0x0ffff) {\n                    // Ordinary BMP code point, excluding leading surrogates.\n                    // BMP uses a single level lookup.  BMP index starts at offset 0 in the Trie2 index.\n                    // 16 bit data is stored in the index array itself.\n                    ix = this.index[codePoint >> UTRIE2_SHIFT_2];\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                    return this.data[ix];\n                }\n\n                if (codePoint <= 0xffff) {\n                    // Lead Surrogate Code Point.  A Separate index section is stored for\n                    // lead surrogate code units and code points.\n                    //   The main index has the code unit data.\n                    //   For this function, we need the code point data.\n                    // Note: this expression could be refactored for slightly improved efficiency, but\n                    //       surrogate code points will be so rare in practice that it's not worth it.\n                    ix = this.index[UTRIE2_LSCP_INDEX_2_OFFSET + (codePoint - 0xd800 >> UTRIE2_SHIFT_2)];\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                    return this.data[ix];\n                }\n\n                if (codePoint < this.highStart) {\n                    // Supplemental code point, use two-level lookup.\n                    ix = UTRIE2_INDEX_1_OFFSET - UTRIE2_OMITTED_BMP_INDEX_1_LENGTH + (codePoint >> UTRIE2_SHIFT_1);\n                    ix = this.index[ix];\n                    ix += codePoint >> UTRIE2_SHIFT_2 & UTRIE2_INDEX_2_MASK;\n                    ix = this.index[ix];\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                    return this.data[ix];\n                }\n                if (codePoint <= 0x10ffff) {\n                    return this.data[this.highValueIndex];\n                }\n            }\n\n            // Fall through.  The code point is outside of the legal range of 0..0x10ffff.\n            return this.errorValue;\n        }\n    }]);\n\n    return Trie;\n}();","'use strict';\n\nmodule.exports = 'KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA';","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Path = require('./Path');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Circle = function Circle(x, y, radius) {\n    _classCallCheck(this, Circle);\n\n    this.type = _Path.PATH.CIRCLE;\n    this.x = x;\n    this.y = y;\n    this.radius = radius;\n    if (process.env.NODE_ENV !== 'production') {\n        if (isNaN(x)) {\n            console.error('Invalid x value given for Circle');\n        }\n        if (isNaN(y)) {\n            console.error('Invalid y value given for Circle');\n        }\n        if (isNaN(radius)) {\n            console.error('Invalid radius value given for Circle');\n        }\n    }\n};\n\nexports.default = Circle;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Bounds = require('./Bounds');\n\nvar _Font = require('./Font');\n\nvar _Gradient = require('./Gradient');\n\nvar _TextContainer = require('./TextContainer');\n\nvar _TextContainer2 = _interopRequireDefault(_TextContainer);\n\nvar _background = require('./parsing/background');\n\nvar _border = require('./parsing/border');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Renderer = function () {\n    function Renderer(target, options) {\n        _classCallCheck(this, Renderer);\n\n        this.target = target;\n        this.options = options;\n        target.render(options);\n    }\n\n    _createClass(Renderer, [{\n        key: 'renderNode',\n        value: function renderNode(container) {\n            if (container.isVisible()) {\n                this.renderNodeBackgroundAndBorders(container);\n                this.renderNodeContent(container);\n            }\n        }\n    }, {\n        key: 'renderNodeContent',\n        value: function renderNodeContent(container) {\n            var _this = this;\n\n            var callback = function callback() {\n                if (container.childNodes.length) {\n                    container.childNodes.forEach(function (child) {\n                        if (child instanceof _TextContainer2.default) {\n                            var style = child.parent.style;\n                            _this.target.renderTextNode(child.bounds, style.color, style.font, style.textDecoration, style.textShadow);\n                        } else {\n                            _this.target.drawShape(child, container.style.color);\n                        }\n                    });\n                }\n\n                if (container.image) {\n                    var _image = _this.options.imageStore.get(container.image);\n                    if (_image) {\n                        var contentBox = (0, _Bounds.calculateContentBox)(container.bounds, container.style.padding, container.style.border);\n                        var _width = typeof _image.width === 'number' && _image.width > 0 ? _image.width : contentBox.width;\n                        var _height = typeof _image.height === 'number' && _image.height > 0 ? _image.height : contentBox.height;\n                        if (_width > 0 && _height > 0) {\n                            _this.target.clip([(0, _Bounds.calculatePaddingBoxPath)(container.curvedBounds)], function () {\n                                _this.target.drawImage(_image, new _Bounds.Bounds(0, 0, _width, _height), contentBox);\n                            });\n                        }\n                    }\n                }\n            };\n            var paths = container.getClipPaths();\n            if (paths.length) {\n                this.target.clip(paths, callback);\n            } else {\n                callback();\n            }\n        }\n    }, {\n        key: 'renderNodeBackgroundAndBorders',\n        value: function renderNodeBackgroundAndBorders(container) {\n            var _this2 = this;\n\n            var HAS_BACKGROUND = !container.style.background.backgroundColor.isTransparent() || container.style.background.backgroundImage.length;\n\n            var hasRenderableBorders = container.style.border.some(function (border) {\n                return border.borderStyle !== _border.BORDER_STYLE.NONE && !border.borderColor.isTransparent();\n            });\n\n            var callback = function callback() {\n                var backgroundPaintingArea = (0, _background.calculateBackgroungPaintingArea)(container.curvedBounds, container.style.background.backgroundClip);\n\n                if (HAS_BACKGROUND) {\n                    _this2.target.clip([backgroundPaintingArea], function () {\n                        if (!container.style.background.backgroundColor.isTransparent()) {\n                            _this2.target.fill(container.style.background.backgroundColor);\n                        }\n\n                        _this2.renderBackgroundImage(container);\n                    });\n                }\n\n                container.style.border.forEach(function (border, side) {\n                    if (border.borderStyle !== _border.BORDER_STYLE.NONE && !border.borderColor.isTransparent()) {\n                        _this2.renderBorder(border, side, container.curvedBounds);\n                    }\n                });\n            };\n\n            if (HAS_BACKGROUND || hasRenderableBorders) {\n                var paths = container.parent ? container.parent.getClipPaths() : [];\n                if (paths.length) {\n                    this.target.clip(paths, callback);\n                } else {\n                    callback();\n                }\n            }\n        }\n    }, {\n        key: 'renderBackgroundImage',\n        value: function renderBackgroundImage(container) {\n            var _this3 = this;\n\n            container.style.background.backgroundImage.slice(0).reverse().forEach(function (backgroundImage) {\n                if (backgroundImage.source.method === 'url' && backgroundImage.source.args.length) {\n                    _this3.renderBackgroundRepeat(container, backgroundImage);\n                } else if (/gradient/i.test(backgroundImage.source.method)) {\n                    _this3.renderBackgroundGradient(container, backgroundImage);\n                }\n            });\n        }\n    }, {\n        key: 'renderBackgroundRepeat',\n        value: function renderBackgroundRepeat(container, background) {\n            var image = this.options.imageStore.get(background.source.args[0]);\n            if (image) {\n                var backgroundPositioningArea = (0, _background.calculateBackgroungPositioningArea)(container.style.background.backgroundOrigin, container.bounds, container.style.padding, container.style.border);\n                var backgroundImageSize = (0, _background.calculateBackgroundSize)(background, image, backgroundPositioningArea);\n                var position = (0, _background.calculateBackgroundPosition)(background.position, backgroundImageSize, backgroundPositioningArea);\n                var _path = (0, _background.calculateBackgroundRepeatPath)(background, position, backgroundImageSize, backgroundPositioningArea, container.bounds);\n\n                var _offsetX = Math.round(backgroundPositioningArea.left + position.x);\n                var _offsetY = Math.round(backgroundPositioningArea.top + position.y);\n                this.target.renderRepeat(_path, image, backgroundImageSize, _offsetX, _offsetY);\n            }\n        }\n    }, {\n        key: 'renderBackgroundGradient',\n        value: function renderBackgroundGradient(container, background) {\n            var backgroundPositioningArea = (0, _background.calculateBackgroungPositioningArea)(container.style.background.backgroundOrigin, container.bounds, container.style.padding, container.style.border);\n            var backgroundImageSize = (0, _background.calculateGradientBackgroundSize)(background, backgroundPositioningArea);\n            var position = (0, _background.calculateBackgroundPosition)(background.position, backgroundImageSize, backgroundPositioningArea);\n            var gradientBounds = new _Bounds.Bounds(Math.round(backgroundPositioningArea.left + position.x), Math.round(backgroundPositioningArea.top + position.y), backgroundImageSize.width, backgroundImageSize.height);\n\n            var gradient = (0, _Gradient.parseGradient)(container, background.source, gradientBounds);\n            if (gradient) {\n                switch (gradient.type) {\n                    case _Gradient.GRADIENT_TYPE.LINEAR_GRADIENT:\n                        // $FlowFixMe\n                        this.target.renderLinearGradient(gradientBounds, gradient);\n                        break;\n                    case _Gradient.GRADIENT_TYPE.RADIAL_GRADIENT:\n                        // $FlowFixMe\n                        this.target.renderRadialGradient(gradientBounds, gradient);\n                        break;\n                }\n            }\n        }\n    }, {\n        key: 'renderBorder',\n        value: function renderBorder(border, side, curvePoints) {\n            this.target.drawShape((0, _Bounds.parsePathForBorder)(curvePoints, side), border.borderColor);\n        }\n    }, {\n        key: 'renderStack',\n        value: function renderStack(stack) {\n            var _this4 = this;\n\n            if (stack.container.isVisible()) {\n                var _opacity = stack.getOpacity();\n                if (_opacity !== this._opacity) {\n                    this.target.setOpacity(stack.getOpacity());\n                    this._opacity = _opacity;\n                }\n\n                var _transform = stack.container.style.transform;\n                if (_transform !== null) {\n                    this.target.transform(stack.container.bounds.left + _transform.transformOrigin[0].value, stack.container.bounds.top + _transform.transformOrigin[1].value, _transform.transform, function () {\n                        return _this4.renderStackContent(stack);\n                    });\n                } else {\n                    this.renderStackContent(stack);\n                }\n            }\n        }\n    }, {\n        key: 'renderStackContent',\n        value: function renderStackContent(stack) {\n            var _splitStackingContext = splitStackingContexts(stack),\n                _splitStackingContext2 = _slicedToArray(_splitStackingContext, 5),\n                negativeZIndex = _splitStackingContext2[0],\n                zeroOrAutoZIndexOrTransformedOrOpacity = _splitStackingContext2[1],\n                positiveZIndex = _splitStackingContext2[2],\n                nonPositionedFloats = _splitStackingContext2[3],\n                nonPositionedInlineLevel = _splitStackingContext2[4];\n\n            var _splitDescendants = splitDescendants(stack),\n                _splitDescendants2 = _slicedToArray(_splitDescendants, 2),\n                inlineLevel = _splitDescendants2[0],\n                nonInlineLevel = _splitDescendants2[1];\n\n            // https://www.w3.org/TR/css-position-3/#painting-order\n            // 1. the background and borders of the element forming the stacking context.\n\n\n            this.renderNodeBackgroundAndBorders(stack.container);\n            // 2. the child stacking contexts with negative stack levels (most negative first).\n            negativeZIndex.sort(sortByZIndex).forEach(this.renderStack, this);\n            // 3. For all its in-flow, non-positioned, block-level descendants in tree order:\n            this.renderNodeContent(stack.container);\n            nonInlineLevel.forEach(this.renderNode, this);\n            // 4. All non-positioned floating descendants, in tree order. For each one of these,\n            // treat the element as if it created a new stacking context, but any positioned descendants and descendants\n            // which actually create a new stacking context should be considered part of the parent stacking context,\n            // not this new one.\n            nonPositionedFloats.forEach(this.renderStack, this);\n            // 5. the in-flow, inline-level, non-positioned descendants, including inline tables and inline blocks.\n            nonPositionedInlineLevel.forEach(this.renderStack, this);\n            inlineLevel.forEach(this.renderNode, this);\n            // 6. All positioned, opacity or transform descendants, in tree order that fall into the following categories:\n            //  All positioned descendants with 'z-index: auto' or 'z-index: 0', in tree order.\n            //  For those with 'z-index: auto', treat the element as if it created a new stacking context,\n            //  but any positioned descendants and descendants which actually create a new stacking context should be\n            //  considered part of the parent stacking context, not this new one. For those with 'z-index: 0',\n            //  treat the stacking context generated atomically.\n            //\n            //  All opacity descendants with opacity less than 1\n            //\n            //  All transform descendants with transform other than none\n            zeroOrAutoZIndexOrTransformedOrOpacity.forEach(this.renderStack, this);\n            // 7. Stacking contexts formed by positioned descendants with z-indices greater than or equal to 1 in z-index\n            // order (smallest first) then tree order.\n            positiveZIndex.sort(sortByZIndex).forEach(this.renderStack, this);\n        }\n    }, {\n        key: 'render',\n        value: function render(stack) {\n            var _this5 = this;\n\n            if (this.options.backgroundColor) {\n                this.target.rectangle(this.options.x, this.options.y, this.options.width, this.options.height, this.options.backgroundColor);\n            }\n            this.renderStack(stack);\n            var target = this.target.getTarget();\n            if (process.env.NODE_ENV !== 'production') {\n                return target.then(function (output) {\n                    _this5.options.logger.log('Render completed');\n                    return output;\n                });\n            }\n            return target;\n        }\n    }]);\n\n    return Renderer;\n}();\n\nexports.default = Renderer;\n\n\nvar splitDescendants = function splitDescendants(stack) {\n    var inlineLevel = [];\n    var nonInlineLevel = [];\n\n    var length = stack.children.length;\n    for (var i = 0; i < length; i++) {\n        var child = stack.children[i];\n        if (child.isInlineLevel()) {\n            inlineLevel.push(child);\n        } else {\n            nonInlineLevel.push(child);\n        }\n    }\n    return [inlineLevel, nonInlineLevel];\n};\n\nvar splitStackingContexts = function splitStackingContexts(stack) {\n    var negativeZIndex = [];\n    var zeroOrAutoZIndexOrTransformedOrOpacity = [];\n    var positiveZIndex = [];\n    var nonPositionedFloats = [];\n    var nonPositionedInlineLevel = [];\n    var length = stack.contexts.length;\n    for (var i = 0; i < length; i++) {\n        var child = stack.contexts[i];\n        if (child.container.isPositioned() || child.container.style.opacity < 1 || child.container.isTransformed()) {\n            if (child.container.style.zIndex.order < 0) {\n                negativeZIndex.push(child);\n            } else if (child.container.style.zIndex.order > 0) {\n                positiveZIndex.push(child);\n            } else {\n                zeroOrAutoZIndexOrTransformedOrOpacity.push(child);\n            }\n        } else {\n            if (child.container.isFloating()) {\n                nonPositionedFloats.push(child);\n            } else {\n                nonPositionedInlineLevel.push(child);\n            }\n        }\n    }\n    return [negativeZIndex, zeroOrAutoZIndexOrTransformedOrOpacity, positiveZIndex, nonPositionedFloats, nonPositionedInlineLevel];\n};\n\nvar sortByZIndex = function sortByZIndex(a, b) {\n    if (a.container.style.zIndex.order > b.container.style.zIndex.order) {\n        return 1;\n    } else if (a.container.style.zIndex.order < b.container.style.zIndex.order) {\n        return -1;\n    }\n\n    return a.container.index > b.container.index ? 1 : -1;\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.transformWebkitRadialGradientArgs = exports.parseGradient = exports.RadialGradient = exports.LinearGradient = exports.RADIAL_GRADIENT_SHAPE = exports.GRADIENT_TYPE = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _NodeContainer = require('./NodeContainer');\n\nvar _NodeContainer2 = _interopRequireDefault(_NodeContainer);\n\nvar _Angle = require('./Angle');\n\nvar _Color = require('./Color');\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nvar _Length = require('./Length');\n\nvar _Length2 = _interopRequireDefault(_Length);\n\nvar _Util = require('./Util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SIDE_OR_CORNER = /^(to )?(left|top|right|bottom)( (left|top|right|bottom))?$/i;\nvar PERCENTAGE_ANGLES = /^([+-]?\\d*\\.?\\d+)% ([+-]?\\d*\\.?\\d+)%$/i;\nvar ENDS_WITH_LENGTH = /(px)|%|( 0)$/i;\nvar FROM_TO_COLORSTOP = /^(from|to|color-stop)\\((?:([\\d.]+)(%)?,\\s*)?(.+?)\\)$/i;\nvar RADIAL_SHAPE_DEFINITION = /^\\s*(circle|ellipse)?\\s*((?:([\\d.]+)(px|r?em|%)\\s*(?:([\\d.]+)(px|r?em|%))?)|closest-side|closest-corner|farthest-side|farthest-corner)?\\s*(?:at\\s*(?:(left|center|right)|([\\d.]+)(px|r?em|%))\\s+(?:(top|center|bottom)|([\\d.]+)(px|r?em|%)))?(?:\\s|$)/i;\n\nvar GRADIENT_TYPE = exports.GRADIENT_TYPE = {\n    LINEAR_GRADIENT: 0,\n    RADIAL_GRADIENT: 1\n};\n\nvar RADIAL_GRADIENT_SHAPE = exports.RADIAL_GRADIENT_SHAPE = {\n    CIRCLE: 0,\n    ELLIPSE: 1\n};\n\nvar LENGTH_FOR_POSITION = {\n    left: new _Length2.default('0%'),\n    top: new _Length2.default('0%'),\n    center: new _Length2.default('50%'),\n    right: new _Length2.default('100%'),\n    bottom: new _Length2.default('100%')\n};\n\nvar LinearGradient = exports.LinearGradient = function LinearGradient(colorStops, direction) {\n    _classCallCheck(this, LinearGradient);\n\n    this.type = GRADIENT_TYPE.LINEAR_GRADIENT;\n    this.colorStops = colorStops;\n    this.direction = direction;\n};\n\nvar RadialGradient = exports.RadialGradient = function RadialGradient(colorStops, shape, center, radius) {\n    _classCallCheck(this, RadialGradient);\n\n    this.type = GRADIENT_TYPE.RADIAL_GRADIENT;\n    this.colorStops = colorStops;\n    this.shape = shape;\n    this.center = center;\n    this.radius = radius;\n};\n\nvar parseGradient = exports.parseGradient = function parseGradient(container, _ref, bounds) {\n    var args = _ref.args,\n        method = _ref.method,\n        prefix = _ref.prefix;\n\n    if (method === 'linear-gradient') {\n        return parseLinearGradient(args, bounds, !!prefix);\n    } else if (method === 'gradient' && args[0] === 'linear') {\n        // TODO handle correct angle\n        return parseLinearGradient(['to bottom'].concat(transformObsoleteColorStops(args.slice(3))), bounds, !!prefix);\n    } else if (method === 'radial-gradient') {\n        return parseRadialGradient(container, prefix === '-webkit-' ? transformWebkitRadialGradientArgs(args) : args, bounds);\n    } else if (method === 'gradient' && args[0] === 'radial') {\n        return parseRadialGradient(container, transformObsoleteColorStops(transformWebkitRadialGradientArgs(args.slice(1))), bounds);\n    }\n};\n\nvar parseColorStops = function parseColorStops(args, firstColorStopIndex, lineLength) {\n    var colorStops = [];\n\n    for (var i = firstColorStopIndex; i < args.length; i++) {\n        var value = args[i];\n        var HAS_LENGTH = ENDS_WITH_LENGTH.test(value);\n        var lastSpaceIndex = value.lastIndexOf(' ');\n        var _color = new _Color2.default(HAS_LENGTH ? value.substring(0, lastSpaceIndex) : value);\n        var _stop = HAS_LENGTH ? new _Length2.default(value.substring(lastSpaceIndex + 1)) : i === firstColorStopIndex ? new _Length2.default('0%') : i === args.length - 1 ? new _Length2.default('100%') : null;\n        colorStops.push({ color: _color, stop: _stop });\n    }\n\n    var absoluteValuedColorStops = colorStops.map(function (_ref2) {\n        var color = _ref2.color,\n            stop = _ref2.stop;\n\n        var absoluteStop = lineLength === 0 ? 0 : stop ? stop.getAbsoluteValue(lineLength) / lineLength : null;\n\n        return {\n            color: color,\n            // $FlowFixMe\n            stop: absoluteStop\n        };\n    });\n\n    var previousColorStop = absoluteValuedColorStops[0].stop;\n    for (var _i = 0; _i < absoluteValuedColorStops.length; _i++) {\n        if (previousColorStop !== null) {\n            var _stop2 = absoluteValuedColorStops[_i].stop;\n            if (_stop2 === null) {\n                var n = _i;\n                while (absoluteValuedColorStops[n].stop === null) {\n                    n++;\n                }\n                var steps = n - _i + 1;\n                var nextColorStep = absoluteValuedColorStops[n].stop;\n                var stepSize = (nextColorStep - previousColorStop) / steps;\n                for (; _i < n; _i++) {\n                    previousColorStop = absoluteValuedColorStops[_i].stop = previousColorStop + stepSize;\n                }\n            } else {\n                previousColorStop = _stop2;\n            }\n        }\n    }\n\n    return absoluteValuedColorStops;\n};\n\nvar parseLinearGradient = function parseLinearGradient(args, bounds, hasPrefix) {\n    var angle = (0, _Angle.parseAngle)(args[0]);\n    var HAS_SIDE_OR_CORNER = SIDE_OR_CORNER.test(args[0]);\n    var HAS_DIRECTION = HAS_SIDE_OR_CORNER || angle !== null || PERCENTAGE_ANGLES.test(args[0]);\n    var direction = HAS_DIRECTION ? angle !== null ? calculateGradientDirection(\n    // if there is a prefix, the 0 angle points due East (instead of North per W3C)\n    hasPrefix ? angle - Math.PI * 0.5 : angle, bounds) : HAS_SIDE_OR_CORNER ? parseSideOrCorner(args[0], bounds) : parsePercentageAngle(args[0], bounds) : calculateGradientDirection(Math.PI, bounds);\n    var firstColorStopIndex = HAS_DIRECTION ? 1 : 0;\n\n    // TODO: Fix some inaccuracy with color stops with px values\n    var lineLength = Math.min((0, _Util.distance)(Math.abs(direction.x0) + Math.abs(direction.x1), Math.abs(direction.y0) + Math.abs(direction.y1)), bounds.width * 2, bounds.height * 2);\n\n    return new LinearGradient(parseColorStops(args, firstColorStopIndex, lineLength), direction);\n};\n\nvar parseRadialGradient = function parseRadialGradient(container, args, bounds) {\n    var m = args[0].match(RADIAL_SHAPE_DEFINITION);\n    var shape = m && (m[1] === 'circle' || // explicit shape specification\n    m[3] !== undefined && m[5] === undefined) // only one radius coordinate\n    ? RADIAL_GRADIENT_SHAPE.CIRCLE : RADIAL_GRADIENT_SHAPE.ELLIPSE;\n    var radius = {};\n    var center = {};\n\n    if (m) {\n        // Radius\n        if (m[3] !== undefined) {\n            radius.x = (0, _Length.calculateLengthFromValueWithUnit)(container, m[3], m[4]).getAbsoluteValue(bounds.width);\n        }\n\n        if (m[5] !== undefined) {\n            radius.y = (0, _Length.calculateLengthFromValueWithUnit)(container, m[5], m[6]).getAbsoluteValue(bounds.height);\n        }\n\n        // Position\n        if (m[7]) {\n            center.x = LENGTH_FOR_POSITION[m[7].toLowerCase()];\n        } else if (m[8] !== undefined) {\n            center.x = (0, _Length.calculateLengthFromValueWithUnit)(container, m[8], m[9]);\n        }\n\n        if (m[10]) {\n            center.y = LENGTH_FOR_POSITION[m[10].toLowerCase()];\n        } else if (m[11] !== undefined) {\n            center.y = (0, _Length.calculateLengthFromValueWithUnit)(container, m[11], m[12]);\n        }\n    }\n\n    var gradientCenter = {\n        x: center.x === undefined ? bounds.width / 2 : center.x.getAbsoluteValue(bounds.width),\n        y: center.y === undefined ? bounds.height / 2 : center.y.getAbsoluteValue(bounds.height)\n    };\n    var gradientRadius = calculateRadius(m && m[2] || 'farthest-corner', shape, gradientCenter, radius, bounds);\n\n    return new RadialGradient(parseColorStops(args, m ? 1 : 0, Math.min(gradientRadius.x, gradientRadius.y)), shape, gradientCenter, gradientRadius);\n};\n\nvar calculateGradientDirection = function calculateGradientDirection(radian, bounds) {\n    var width = bounds.width;\n    var height = bounds.height;\n    var HALF_WIDTH = width * 0.5;\n    var HALF_HEIGHT = height * 0.5;\n    var lineLength = Math.abs(width * Math.sin(radian)) + Math.abs(height * Math.cos(radian));\n    var HALF_LINE_LENGTH = lineLength / 2;\n\n    var x0 = HALF_WIDTH + Math.sin(radian) * HALF_LINE_LENGTH;\n    var y0 = HALF_HEIGHT - Math.cos(radian) * HALF_LINE_LENGTH;\n    var x1 = width - x0;\n    var y1 = height - y0;\n\n    return { x0: x0, x1: x1, y0: y0, y1: y1 };\n};\n\nvar parseTopRight = function parseTopRight(bounds) {\n    return Math.acos(bounds.width / 2 / ((0, _Util.distance)(bounds.width, bounds.height) / 2));\n};\n\nvar parseSideOrCorner = function parseSideOrCorner(side, bounds) {\n    switch (side) {\n        case 'bottom':\n        case 'to top':\n            return calculateGradientDirection(0, bounds);\n        case 'left':\n        case 'to right':\n            return calculateGradientDirection(Math.PI / 2, bounds);\n        case 'right':\n        case 'to left':\n            return calculateGradientDirection(3 * Math.PI / 2, bounds);\n        case 'top right':\n        case 'right top':\n        case 'to bottom left':\n        case 'to left bottom':\n            return calculateGradientDirection(Math.PI + parseTopRight(bounds), bounds);\n        case 'top left':\n        case 'left top':\n        case 'to bottom right':\n        case 'to right bottom':\n            return calculateGradientDirection(Math.PI - parseTopRight(bounds), bounds);\n        case 'bottom left':\n        case 'left bottom':\n        case 'to top right':\n        case 'to right top':\n            return calculateGradientDirection(parseTopRight(bounds), bounds);\n        case 'bottom right':\n        case 'right bottom':\n        case 'to top left':\n        case 'to left top':\n            return calculateGradientDirection(2 * Math.PI - parseTopRight(bounds), bounds);\n        case 'top':\n        case 'to bottom':\n        default:\n            return calculateGradientDirection(Math.PI, bounds);\n    }\n};\n\nvar parsePercentageAngle = function parsePercentageAngle(angle, bounds) {\n    var _angle$split$map = angle.split(' ').map(parseFloat),\n        _angle$split$map2 = _slicedToArray(_angle$split$map, 2),\n        left = _angle$split$map2[0],\n        top = _angle$split$map2[1];\n\n    var ratio = left / 100 * bounds.width / (top / 100 * bounds.height);\n\n    return calculateGradientDirection(Math.atan(isNaN(ratio) ? 1 : ratio) + Math.PI / 2, bounds);\n};\n\nvar findCorner = function findCorner(bounds, x, y, closest) {\n    var corners = [{ x: 0, y: 0 }, { x: 0, y: bounds.height }, { x: bounds.width, y: 0 }, { x: bounds.width, y: bounds.height }];\n\n    // $FlowFixMe\n    return corners.reduce(function (stat, corner) {\n        var d = (0, _Util.distance)(x - corner.x, y - corner.y);\n        if (closest ? d < stat.optimumDistance : d > stat.optimumDistance) {\n            return {\n                optimumCorner: corner,\n                optimumDistance: d\n            };\n        }\n\n        return stat;\n    }, {\n        optimumDistance: closest ? Infinity : -Infinity,\n        optimumCorner: null\n    }).optimumCorner;\n};\n\nvar calculateRadius = function calculateRadius(extent, shape, center, radius, bounds) {\n    var x = center.x;\n    var y = center.y;\n    var rx = 0;\n    var ry = 0;\n\n    switch (extent) {\n        case 'closest-side':\n            // The ending shape is sized so that that it exactly meets the side of the gradient box closest to the gradients center.\n            // If the shape is an ellipse, it exactly meets the closest side in each dimension.\n            if (shape === RADIAL_GRADIENT_SHAPE.CIRCLE) {\n                rx = ry = Math.min(Math.abs(x), Math.abs(x - bounds.width), Math.abs(y), Math.abs(y - bounds.height));\n            } else if (shape === RADIAL_GRADIENT_SHAPE.ELLIPSE) {\n                rx = Math.min(Math.abs(x), Math.abs(x - bounds.width));\n                ry = Math.min(Math.abs(y), Math.abs(y - bounds.height));\n            }\n            break;\n\n        case 'closest-corner':\n            // The ending shape is sized so that that it passes through the corner of the gradient box closest to the gradients center.\n            // If the shape is an ellipse, the ending shape is given the same aspect-ratio it would have if closest-side were specified.\n            if (shape === RADIAL_GRADIENT_SHAPE.CIRCLE) {\n                rx = ry = Math.min((0, _Util.distance)(x, y), (0, _Util.distance)(x, y - bounds.height), (0, _Util.distance)(x - bounds.width, y), (0, _Util.distance)(x - bounds.width, y - bounds.height));\n            } else if (shape === RADIAL_GRADIENT_SHAPE.ELLIPSE) {\n                // Compute the ratio ry/rx (which is to be the same as for \"closest-side\")\n                var c = Math.min(Math.abs(y), Math.abs(y - bounds.height)) / Math.min(Math.abs(x), Math.abs(x - bounds.width));\n                var corner = findCorner(bounds, x, y, true);\n                rx = (0, _Util.distance)(corner.x - x, (corner.y - y) / c);\n                ry = c * rx;\n            }\n            break;\n\n        case 'farthest-side':\n            // Same as closest-side, except the ending shape is sized based on the farthest side(s)\n            if (shape === RADIAL_GRADIENT_SHAPE.CIRCLE) {\n                rx = ry = Math.max(Math.abs(x), Math.abs(x - bounds.width), Math.abs(y), Math.abs(y - bounds.height));\n            } else if (shape === RADIAL_GRADIENT_SHAPE.ELLIPSE) {\n                rx = Math.max(Math.abs(x), Math.abs(x - bounds.width));\n                ry = Math.max(Math.abs(y), Math.abs(y - bounds.height));\n            }\n            break;\n\n        case 'farthest-corner':\n            // Same as closest-corner, except the ending shape is sized based on the farthest corner.\n            // If the shape is an ellipse, the ending shape is given the same aspect ratio it would have if farthest-side were specified.\n            if (shape === RADIAL_GRADIENT_SHAPE.CIRCLE) {\n                rx = ry = Math.max((0, _Util.distance)(x, y), (0, _Util.distance)(x, y - bounds.height), (0, _Util.distance)(x - bounds.width, y), (0, _Util.distance)(x - bounds.width, y - bounds.height));\n            } else if (shape === RADIAL_GRADIENT_SHAPE.ELLIPSE) {\n                // Compute the ratio ry/rx (which is to be the same as for \"farthest-side\")\n                var _c = Math.max(Math.abs(y), Math.abs(y - bounds.height)) / Math.max(Math.abs(x), Math.abs(x - bounds.width));\n                var _corner = findCorner(bounds, x, y, false);\n                rx = (0, _Util.distance)(_corner.x - x, (_corner.y - y) / _c);\n                ry = _c * rx;\n            }\n            break;\n\n        default:\n            // pixel or percentage values\n            rx = radius.x || 0;\n            ry = radius.y !== undefined ? radius.y : rx;\n            break;\n    }\n\n    return {\n        x: rx,\n        y: ry\n    };\n};\n\nvar transformWebkitRadialGradientArgs = exports.transformWebkitRadialGradientArgs = function transformWebkitRadialGradientArgs(args) {\n    var shape = '';\n    var radius = '';\n    var extent = '';\n    var position = '';\n    var idx = 0;\n\n    var POSITION = /^(left|center|right|\\d+(?:px|r?em|%)?)(?:\\s+(top|center|bottom|\\d+(?:px|r?em|%)?))?$/i;\n    var SHAPE_AND_EXTENT = /^(circle|ellipse)?\\s*(closest-side|closest-corner|farthest-side|farthest-corner|contain|cover)?$/i;\n    var RADIUS = /^\\d+(px|r?em|%)?(?:\\s+\\d+(px|r?em|%)?)?$/i;\n\n    var matchStartPosition = args[idx].match(POSITION);\n    if (matchStartPosition) {\n        idx++;\n    }\n\n    var matchShapeExtent = args[idx].match(SHAPE_AND_EXTENT);\n    if (matchShapeExtent) {\n        shape = matchShapeExtent[1] || '';\n        extent = matchShapeExtent[2] || '';\n        if (extent === 'contain') {\n            extent = 'closest-side';\n        } else if (extent === 'cover') {\n            extent = 'farthest-corner';\n        }\n        idx++;\n    }\n\n    var matchStartRadius = args[idx].match(RADIUS);\n    if (matchStartRadius) {\n        idx++;\n    }\n\n    var matchEndPosition = args[idx].match(POSITION);\n    if (matchEndPosition) {\n        idx++;\n    }\n\n    var matchEndRadius = args[idx].match(RADIUS);\n    if (matchEndRadius) {\n        idx++;\n    }\n\n    var matchPosition = matchEndPosition || matchStartPosition;\n    if (matchPosition && matchPosition[1]) {\n        position = matchPosition[1] + (/^\\d+$/.test(matchPosition[1]) ? 'px' : '');\n        if (matchPosition[2]) {\n            position += ' ' + matchPosition[2] + (/^\\d+$/.test(matchPosition[2]) ? 'px' : '');\n        }\n    }\n\n    var matchRadius = matchEndRadius || matchStartRadius;\n    if (matchRadius) {\n        radius = matchRadius[0];\n        if (!matchRadius[1]) {\n            radius += 'px';\n        }\n    }\n\n    if (position && !shape && !radius && !extent) {\n        radius = position;\n        position = '';\n    }\n\n    if (position) {\n        position = 'at ' + position;\n    }\n\n    return [[shape, extent, radius, position].filter(function (s) {\n        return !!s;\n    }).join(' ')].concat(args.slice(idx));\n};\n\nvar transformObsoleteColorStops = function transformObsoleteColorStops(args) {\n    return args.map(function (color) {\n        return color.match(FROM_TO_COLORSTOP);\n    })\n    // $FlowFixMe\n    .map(function (v, index) {\n        if (!v) {\n            return args[index];\n        }\n\n        switch (v[1]) {\n            case 'from':\n                return v[4] + ' 0%';\n            case 'to':\n                return v[4] + ' 100%';\n            case 'color-stop':\n                if (v[3] === '%') {\n                    return v[4] + ' ' + v[2];\n                }\n                return v[4] + ' ' + parseFloat(v[2]) * 100 + '%';\n        }\n    });\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar ANGLE = /([+-]?\\d*\\.?\\d+)(deg|grad|rad|turn)/i;\n\nvar parseAngle = exports.parseAngle = function parseAngle(angle) {\n    var match = angle.match(ANGLE);\n\n    if (match) {\n        var value = parseFloat(match[1]);\n        switch (match[2].toLowerCase()) {\n            case 'deg':\n                return Math.PI * value / 180;\n            case 'grad':\n                return Math.PI / 200 * value;\n            case 'rad':\n                return value;\n            case 'turn':\n                return Math.PI * 2 * value;\n        }\n    }\n\n    return null;\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.cloneWindow = exports.DocumentCloner = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Bounds = require('./Bounds');\n\nvar _Proxy = require('./Proxy');\n\nvar _ResourceLoader = require('./ResourceLoader');\n\nvar _ResourceLoader2 = _interopRequireDefault(_ResourceLoader);\n\nvar _Util = require('./Util');\n\nvar _background = require('./parsing/background');\n\nvar _CanvasRenderer = require('./renderer/CanvasRenderer');\n\nvar _CanvasRenderer2 = _interopRequireDefault(_CanvasRenderer);\n\nvar _PseudoNodeContent = require('./PseudoNodeContent');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar IGNORE_ATTRIBUTE = 'data-html2canvas-ignore';\n\nvar DocumentCloner = exports.DocumentCloner = function () {\n    function DocumentCloner(element, options, logger, copyInline, renderer) {\n        _classCallCheck(this, DocumentCloner);\n\n        this.referenceElement = element;\n        this.scrolledElements = [];\n        this.copyStyles = copyInline;\n        this.inlineImages = copyInline;\n        this.logger = logger;\n        this.options = options;\n        this.renderer = renderer;\n        this.resourceLoader = new _ResourceLoader2.default(options, logger, window);\n        this.pseudoContentData = {\n            counters: {},\n            quoteDepth: 0\n        };\n        // $FlowFixMe\n        this.documentElement = this.cloneNode(element.ownerDocument.documentElement);\n    }\n\n    _createClass(DocumentCloner, [{\n        key: 'inlineAllImages',\n        value: function inlineAllImages(node) {\n            var _this = this;\n\n            if (this.inlineImages && node) {\n                var style = node.style;\n                Promise.all((0, _background.parseBackgroundImage)(style.backgroundImage).map(function (backgroundImage) {\n                    if (backgroundImage.method === 'url') {\n                        return _this.resourceLoader.inlineImage(backgroundImage.args[0]).then(function (img) {\n                            return img && typeof img.src === 'string' ? 'url(\"' + img.src + '\")' : 'none';\n                        }).catch(function (e) {\n                            if (process.env.NODE_ENV !== 'production') {\n                                _this.logger.log('Unable to load image', e);\n                            }\n                        });\n                    }\n                    return Promise.resolve('' + backgroundImage.prefix + backgroundImage.method + '(' + backgroundImage.args.join(',') + ')');\n                })).then(function (backgroundImages) {\n                    if (backgroundImages.length > 1) {\n                        // TODO Multiple backgrounds somehow broken in Chrome\n                        style.backgroundColor = '';\n                    }\n                    style.backgroundImage = backgroundImages.join(',');\n                });\n\n                if (node instanceof HTMLImageElement) {\n                    this.resourceLoader.inlineImage(node.src).then(function (img) {\n                        if (img && node instanceof HTMLImageElement && node.parentNode) {\n                            var parentNode = node.parentNode;\n                            var clonedChild = (0, _Util.copyCSSStyles)(node.style, img.cloneNode(false));\n                            parentNode.replaceChild(clonedChild, node);\n                        }\n                    }).catch(function (e) {\n                        if (process.env.NODE_ENV !== 'production') {\n                            _this.logger.log('Unable to load image', e);\n                        }\n                    });\n                }\n            }\n        }\n    }, {\n        key: 'inlineFonts',\n        value: function inlineFonts(document) {\n            var _this2 = this;\n\n            return Promise.all(Array.from(document.styleSheets).map(function (sheet) {\n                if (sheet.href) {\n                    return fetch(sheet.href).then(function (res) {\n                        return res.text();\n                    }).then(function (text) {\n                        return createStyleSheetFontsFromText(text, sheet.href);\n                    }).catch(function (e) {\n                        if (process.env.NODE_ENV !== 'production') {\n                            _this2.logger.log('Unable to load stylesheet', e);\n                        }\n                        return [];\n                    });\n                }\n                return getSheetFonts(sheet, document);\n            })).then(function (fonts) {\n                return fonts.reduce(function (acc, font) {\n                    return acc.concat(font);\n                }, []);\n            }).then(function (fonts) {\n                return Promise.all(fonts.map(function (font) {\n                    return fetch(font.formats[0].src).then(function (response) {\n                        return response.blob();\n                    }).then(function (blob) {\n                        return new Promise(function (resolve, reject) {\n                            var reader = new FileReader();\n                            reader.onerror = reject;\n                            reader.onload = function () {\n                                // $FlowFixMe\n                                var result = reader.result;\n                                resolve(result);\n                            };\n                            reader.readAsDataURL(blob);\n                        });\n                    }).then(function (dataUri) {\n                        font.fontFace.setProperty('src', 'url(\"' + dataUri + '\")');\n                        return '@font-face {' + font.fontFace.cssText + ' ';\n                    });\n                }));\n            }).then(function (fontCss) {\n                var style = document.createElement('style');\n                style.textContent = fontCss.join('\\n');\n                _this2.documentElement.appendChild(style);\n            });\n        }\n    }, {\n        key: 'createElementClone',\n        value: function createElementClone(node) {\n            var _this3 = this;\n\n            if (this.copyStyles && node instanceof HTMLCanvasElement) {\n                var img = node.ownerDocument.createElement('img');\n                try {\n                    img.src = node.toDataURL();\n                    return img;\n                } catch (e) {\n                    if (process.env.NODE_ENV !== 'production') {\n                        this.logger.log('Unable to clone canvas contents, canvas is tainted');\n                    }\n                }\n            }\n\n            if (node instanceof HTMLIFrameElement) {\n                var tempIframe = node.cloneNode(false);\n                var iframeKey = generateIframeKey();\n                tempIframe.setAttribute('data-html2canvas-internal-iframe-key', iframeKey);\n\n                var _parseBounds = (0, _Bounds.parseBounds)(node, 0, 0),\n                    width = _parseBounds.width,\n                    height = _parseBounds.height;\n\n                this.resourceLoader.cache[iframeKey] = getIframeDocumentElement(node, this.options).then(function (documentElement) {\n                    return _this3.renderer(documentElement, {\n                        async: _this3.options.async,\n                        allowTaint: _this3.options.allowTaint,\n                        backgroundColor: '#ffffff',\n                        canvas: null,\n                        imageTimeout: _this3.options.imageTimeout,\n                        logging: _this3.options.logging,\n                        proxy: _this3.options.proxy,\n                        removeContainer: _this3.options.removeContainer,\n                        scale: _this3.options.scale,\n                        foreignObjectRendering: _this3.options.foreignObjectRendering,\n                        useCORS: _this3.options.useCORS,\n                        target: new _CanvasRenderer2.default(),\n                        width: width,\n                        height: height,\n                        x: 0,\n                        y: 0,\n                        windowWidth: documentElement.ownerDocument.defaultView.innerWidth,\n                        windowHeight: documentElement.ownerDocument.defaultView.innerHeight,\n                        scrollX: documentElement.ownerDocument.defaultView.pageXOffset,\n                        scrollY: documentElement.ownerDocument.defaultView.pageYOffset\n                    }, _this3.logger.child(iframeKey));\n                }).then(function (canvas) {\n                    return new Promise(function (resolve, reject) {\n                        var iframeCanvas = document.createElement('img');\n                        iframeCanvas.onload = function () {\n                            return resolve(canvas);\n                        };\n                        iframeCanvas.onerror = reject;\n                        iframeCanvas.src = canvas.toDataURL();\n                        if (tempIframe.parentNode) {\n                            tempIframe.parentNode.replaceChild((0, _Util.copyCSSStyles)(node.ownerDocument.defaultView.getComputedStyle(node), iframeCanvas), tempIframe);\n                        }\n                    });\n                });\n                return tempIframe;\n            }\n\n            if (node instanceof HTMLStyleElement && node.sheet && node.sheet.cssRules) {\n                var css = [].slice.call(node.sheet.cssRules, 0).reduce(function (css, rule) {\n                    try {\n                        if (rule && rule.cssText) {\n                            return css + rule.cssText;\n                        }\n                        return css;\n                    } catch (err) {\n                        _this3.logger.log('Unable to access cssText property', rule.name);\n                        return css;\n                    }\n                }, '');\n                var style = node.cloneNode(false);\n                style.textContent = css;\n                return style;\n            }\n\n            return node.cloneNode(false);\n        }\n    }, {\n        key: 'cloneNode',\n        value: function cloneNode(node) {\n            var clone = node.nodeType === Node.TEXT_NODE ? document.createTextNode(node.nodeValue) : this.createElementClone(node);\n\n            var window = node.ownerDocument.defaultView;\n            var style = node instanceof window.HTMLElement ? window.getComputedStyle(node) : null;\n            var styleBefore = node instanceof window.HTMLElement ? window.getComputedStyle(node, ':before') : null;\n            var styleAfter = node instanceof window.HTMLElement ? window.getComputedStyle(node, ':after') : null;\n\n            if (this.referenceElement === node && clone instanceof window.HTMLElement) {\n                this.clonedReferenceElement = clone;\n            }\n\n            if (clone instanceof window.HTMLBodyElement) {\n                createPseudoHideStyles(clone);\n            }\n\n            var counters = (0, _PseudoNodeContent.parseCounterReset)(style, this.pseudoContentData);\n            var contentBefore = (0, _PseudoNodeContent.resolvePseudoContent)(node, styleBefore, this.pseudoContentData);\n\n            for (var child = node.firstChild; child; child = child.nextSibling) {\n                if (child.nodeType !== Node.ELEMENT_NODE || child.nodeName !== 'SCRIPT' &&\n                // $FlowFixMe\n                !child.hasAttribute(IGNORE_ATTRIBUTE) && (typeof this.options.ignoreElements !== 'function' ||\n                // $FlowFixMe\n                !this.options.ignoreElements(child))) {\n                    if (!this.copyStyles || child.nodeName !== 'STYLE') {\n                        clone.appendChild(this.cloneNode(child));\n                    }\n                }\n            }\n\n            var contentAfter = (0, _PseudoNodeContent.resolvePseudoContent)(node, styleAfter, this.pseudoContentData);\n            (0, _PseudoNodeContent.popCounters)(counters, this.pseudoContentData);\n\n            if (node instanceof window.HTMLElement && clone instanceof window.HTMLElement) {\n                if (styleBefore) {\n                    this.inlineAllImages(inlinePseudoElement(node, clone, styleBefore, contentBefore, PSEUDO_BEFORE));\n                }\n                if (styleAfter) {\n                    this.inlineAllImages(inlinePseudoElement(node, clone, styleAfter, contentAfter, PSEUDO_AFTER));\n                }\n                if (style && this.copyStyles && !(node instanceof HTMLIFrameElement)) {\n                    (0, _Util.copyCSSStyles)(style, clone);\n                }\n                this.inlineAllImages(clone);\n                if (node.scrollTop !== 0 || node.scrollLeft !== 0) {\n                    this.scrolledElements.push([clone, node.scrollLeft, node.scrollTop]);\n                }\n                switch (node.nodeName) {\n                    case 'CANVAS':\n                        if (!this.copyStyles) {\n                            cloneCanvasContents(node, clone);\n                        }\n                        break;\n                    case 'TEXTAREA':\n                    case 'SELECT':\n                        clone.value = node.value;\n                        break;\n                }\n            }\n            return clone;\n        }\n    }]);\n\n    return DocumentCloner;\n}();\n\nvar getSheetFonts = function getSheetFonts(sheet, document) {\n    // $FlowFixMe\n    return (sheet.cssRules ? Array.from(sheet.cssRules) : []).filter(function (rule) {\n        return rule.type === CSSRule.FONT_FACE_RULE;\n    }).map(function (rule) {\n        var src = (0, _background.parseBackgroundImage)(rule.style.getPropertyValue('src'));\n        var formats = [];\n        for (var i = 0; i < src.length; i++) {\n            if (src[i].method === 'url' && src[i + 1] && src[i + 1].method === 'format') {\n                var a = document.createElement('a');\n                a.href = src[i].args[0];\n                if (document.body) {\n                    document.body.appendChild(a);\n                }\n\n                var font = {\n                    src: a.href,\n                    format: src[i + 1].args[0]\n                };\n                formats.push(font);\n            }\n        }\n\n        return {\n            // TODO select correct format for browser),\n\n            formats: formats.filter(function (font) {\n                return (/^woff/i.test(font.format)\n                );\n            }),\n            fontFace: rule.style\n        };\n    }).filter(function (font) {\n        return font.formats.length;\n    });\n};\n\nvar createStyleSheetFontsFromText = function createStyleSheetFontsFromText(text, baseHref) {\n    var doc = document.implementation.createHTMLDocument('');\n    var base = document.createElement('base');\n    // $FlowFixMe\n    base.href = baseHref;\n    var style = document.createElement('style');\n\n    style.textContent = text;\n    if (doc.head) {\n        doc.head.appendChild(base);\n    }\n    if (doc.body) {\n        doc.body.appendChild(style);\n    }\n\n    return style.sheet ? getSheetFonts(style.sheet, doc) : [];\n};\n\nvar restoreOwnerScroll = function restoreOwnerScroll(ownerDocument, x, y) {\n    if (ownerDocument.defaultView && (x !== ownerDocument.defaultView.pageXOffset || y !== ownerDocument.defaultView.pageYOffset)) {\n        ownerDocument.defaultView.scrollTo(x, y);\n    }\n};\n\nvar cloneCanvasContents = function cloneCanvasContents(canvas, clonedCanvas) {\n    try {\n        if (clonedCanvas) {\n            clonedCanvas.width = canvas.width;\n            clonedCanvas.height = canvas.height;\n            var ctx = canvas.getContext('2d');\n            var clonedCtx = clonedCanvas.getContext('2d');\n            if (ctx) {\n                clonedCtx.putImageData(ctx.getImageData(0, 0, canvas.width, canvas.height), 0, 0);\n            } else {\n                clonedCtx.drawImage(canvas, 0, 0);\n            }\n        }\n    } catch (e) {}\n};\n\nvar inlinePseudoElement = function inlinePseudoElement(node, clone, style, contentItems, pseudoElt) {\n    if (!style || !style.content || style.content === 'none' || style.content === '-moz-alt-content' || style.display === 'none') {\n        return;\n    }\n\n    var anonymousReplacedElement = clone.ownerDocument.createElement('html2canvaspseudoelement');\n    (0, _Util.copyCSSStyles)(style, anonymousReplacedElement);\n\n    if (contentItems) {\n        var len = contentItems.length;\n        for (var i = 0; i < len; i++) {\n            var item = contentItems[i];\n            switch (item.type) {\n                case _PseudoNodeContent.PSEUDO_CONTENT_ITEM_TYPE.IMAGE:\n                    var img = clone.ownerDocument.createElement('img');\n                    img.src = (0, _background.parseBackgroundImage)('url(' + item.value + ')')[0].args[0];\n                    img.style.opacity = '1';\n                    anonymousReplacedElement.appendChild(img);\n                    break;\n                case _PseudoNodeContent.PSEUDO_CONTENT_ITEM_TYPE.TEXT:\n                    anonymousReplacedElement.appendChild(clone.ownerDocument.createTextNode(item.value));\n                    break;\n            }\n        }\n    }\n\n    anonymousReplacedElement.className = PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + ' ' + PSEUDO_HIDE_ELEMENT_CLASS_AFTER;\n    clone.className += pseudoElt === PSEUDO_BEFORE ? ' ' + PSEUDO_HIDE_ELEMENT_CLASS_BEFORE : ' ' + PSEUDO_HIDE_ELEMENT_CLASS_AFTER;\n    if (pseudoElt === PSEUDO_BEFORE) {\n        clone.insertBefore(anonymousReplacedElement, clone.firstChild);\n    } else {\n        clone.appendChild(anonymousReplacedElement);\n    }\n\n    return anonymousReplacedElement;\n};\n\nvar URL_REGEXP = /^url\\((.+)\\)$/i;\nvar PSEUDO_BEFORE = ':before';\nvar PSEUDO_AFTER = ':after';\nvar PSEUDO_HIDE_ELEMENT_CLASS_BEFORE = '___html2canvas___pseudoelement_before';\nvar PSEUDO_HIDE_ELEMENT_CLASS_AFTER = '___html2canvas___pseudoelement_after';\n\nvar PSEUDO_HIDE_ELEMENT_STYLE = '{\\n    content: \"\" !important;\\n    display: none !important;\\n}';\n\nvar createPseudoHideStyles = function createPseudoHideStyles(body) {\n    createStyles(body, '.' + PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + PSEUDO_BEFORE + PSEUDO_HIDE_ELEMENT_STYLE + '\\n         .' + PSEUDO_HIDE_ELEMENT_CLASS_AFTER + PSEUDO_AFTER + PSEUDO_HIDE_ELEMENT_STYLE);\n};\n\nvar createStyles = function createStyles(body, styles) {\n    var style = body.ownerDocument.createElement('style');\n    style.innerHTML = styles;\n    body.appendChild(style);\n};\n\nvar initNode = function initNode(_ref) {\n    var _ref2 = _slicedToArray(_ref, 3),\n        element = _ref2[0],\n        x = _ref2[1],\n        y = _ref2[2];\n\n    element.scrollLeft = x;\n    element.scrollTop = y;\n};\n\nvar generateIframeKey = function generateIframeKey() {\n    return Math.ceil(Date.now() + Math.random() * 10000000).toString(16);\n};\n\nvar DATA_URI_REGEXP = /^data:text\\/(.+);(base64)?,(.*)$/i;\n\nvar getIframeDocumentElement = function getIframeDocumentElement(node, options) {\n    try {\n        return Promise.resolve(node.contentWindow.document.documentElement);\n    } catch (e) {\n        return options.proxy ? (0, _Proxy.Proxy)(node.src, options).then(function (html) {\n            var match = html.match(DATA_URI_REGEXP);\n            if (!match) {\n                return Promise.reject();\n            }\n\n            return match[2] === 'base64' ? window.atob(decodeURIComponent(match[3])) : decodeURIComponent(match[3]);\n        }).then(function (html) {\n            return createIframeContainer(node.ownerDocument, (0, _Bounds.parseBounds)(node, 0, 0)).then(function (cloneIframeContainer) {\n                var cloneWindow = cloneIframeContainer.contentWindow;\n                var documentClone = cloneWindow.document;\n\n                documentClone.open();\n                documentClone.write(html);\n                var iframeLoad = iframeLoader(cloneIframeContainer).then(function () {\n                    return documentClone.documentElement;\n                });\n\n                documentClone.close();\n                return iframeLoad;\n            });\n        }) : Promise.reject();\n    }\n};\n\nvar createIframeContainer = function createIframeContainer(ownerDocument, bounds) {\n    var cloneIframeContainer = ownerDocument.createElement('iframe');\n\n    cloneIframeContainer.className = 'html2canvas-container';\n    cloneIframeContainer.style.visibility = 'hidden';\n    cloneIframeContainer.style.position = 'fixed';\n    cloneIframeContainer.style.left = '-10000px';\n    cloneIframeContainer.style.top = '0px';\n    cloneIframeContainer.style.border = '0';\n    cloneIframeContainer.width = '1'; //bounds.width.toString();\n    cloneIframeContainer.height = '1'; //bounds.height.toString();\n    cloneIframeContainer.scrolling = 'no'; // ios won't scroll without it\n    cloneIframeContainer.setAttribute(IGNORE_ATTRIBUTE, 'true');\n    if (!ownerDocument.body) {\n        return Promise.reject(process.env.NODE_ENV !== 'production' ? 'Body element not found in Document that is getting rendered' : '');\n    }\n\n    ownerDocument.body.appendChild(cloneIframeContainer);\n\n    return Promise.resolve(cloneIframeContainer);\n};\n\nvar iframeLoader = function iframeLoader(cloneIframeContainer) {\n    var cloneWindow = cloneIframeContainer.contentWindow;\n    var documentClone = cloneWindow.document;\n\n    return new Promise(function (resolve, reject) {\n        cloneWindow.onload = cloneIframeContainer.onload = documentClone.onreadystatechange = function () {\n            var interval = setInterval(function () {\n                if (documentClone.body.childNodes.length > 0 && documentClone.readyState === 'complete') {\n                    clearInterval(interval);\n                    resolve(cloneIframeContainer);\n                }\n            }, 50);\n        };\n    });\n};\n\nvar cloneWindow = exports.cloneWindow = function cloneWindow(ownerDocument, bounds, referenceElement, options, logger, renderer) {\n    var cloner = new DocumentCloner(referenceElement, options, logger, false, renderer);\n    var scrollX = ownerDocument.defaultView.pageXOffset;\n    var scrollY = ownerDocument.defaultView.pageYOffset;\n\n    return createIframeContainer(ownerDocument, bounds).then(function (cloneIframeContainer) {\n        var cloneWindow = cloneIframeContainer.contentWindow;\n        var documentClone = cloneWindow.document;\n\n        /* Chrome doesn't detect relative background-images assigned in inline <style> sheets when fetched through getComputedStyle\n             if window url is about:blank, we can assign the url to current by writing onto the document\n             */\n\n        var iframeLoad = iframeLoader(cloneIframeContainer).then(function () {\n            cloneIframeContainer.width = bounds.width.toString();\n            cloneIframeContainer.height = bounds.height.toString();\n\n            cloner.scrolledElements.forEach(initNode);\n            cloneWindow.scrollTo(bounds.left, bounds.top);\n            if (/(iPad|iPhone|iPod)/g.test(navigator.userAgent) && (cloneWindow.scrollY !== bounds.top || cloneWindow.scrollX !== bounds.left)) {\n                documentClone.documentElement.style.top = -bounds.top + 'px';\n                documentClone.documentElement.style.left = -bounds.left + 'px';\n                documentClone.documentElement.style.position = 'absolute';\n            }\n\n            var result = Promise.resolve([cloneIframeContainer, cloner.clonedReferenceElement, cloner.resourceLoader]);\n\n            var onclone = options.onclone;\n\n            return cloner.clonedReferenceElement instanceof cloneWindow.HTMLElement || cloner.clonedReferenceElement instanceof ownerDocument.defaultView.HTMLElement || cloner.clonedReferenceElement instanceof HTMLElement ? typeof onclone === 'function' ? Promise.resolve().then(function () {\n                return onclone(documentClone);\n            }).then(function () {\n                return result;\n            }) : result : Promise.reject(process.env.NODE_ENV !== 'production' ? 'Error finding the ' + referenceElement.nodeName + ' in the cloned document' : '');\n        });\n\n        documentClone.open();\n        documentClone.write(serializeDoctype(document.doctype) + '<html></html>');\n        // Chrome scrolls the parent document for some reason after the write to the cloned window???\n        restoreOwnerScroll(referenceElement.ownerDocument, scrollX, scrollY);\n        documentClone.replaceChild(documentClone.adoptNode(cloner.documentElement), documentClone.documentElement);\n        documentClone.close();\n\n        return iframeLoad;\n    });\n};\n\nvar serializeDoctype = function serializeDoctype(doctype) {\n    var str = '';\n    if (doctype) {\n        str += '<!DOCTYPE ';\n        if (doctype.name) {\n            str += doctype.name;\n        }\n\n        if (doctype.internalSubset) {\n            str += doctype.internalSubset;\n        }\n\n        if (doctype.publicId) {\n            str += '\"' + doctype.publicId + '\"';\n        }\n\n        if (doctype.systemId) {\n            str += '\"' + doctype.systemId + '\"';\n        }\n\n        str += '>';\n    }\n\n    return str;\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.ResourceStore = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Feature = require('./Feature');\n\nvar _Feature2 = _interopRequireDefault(_Feature);\n\nvar _Proxy = require('./Proxy');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ResourceLoader = function () {\n    function ResourceLoader(options, logger, window) {\n        _classCallCheck(this, ResourceLoader);\n\n        this.options = options;\n        this._window = window;\n        this.origin = this.getOrigin(window.location.href);\n        this.cache = {};\n        this.logger = logger;\n        this._index = 0;\n    }\n\n    _createClass(ResourceLoader, [{\n        key: 'loadImage',\n        value: function loadImage(src) {\n            var _this = this;\n\n            if (this.hasResourceInCache(src)) {\n                return src;\n            }\n            if (isBlobImage(src)) {\n                this.cache[src] = _loadImage(src, this.options.imageTimeout || 0);\n                return src;\n            }\n\n            if (!isSVG(src) || _Feature2.default.SUPPORT_SVG_DRAWING) {\n                if (this.options.allowTaint === true || isInlineImage(src) || this.isSameOrigin(src)) {\n                    return this.addImage(src, src, false);\n                } else if (!this.isSameOrigin(src)) {\n                    if (typeof this.options.proxy === 'string') {\n                        this.cache[src] = (0, _Proxy.Proxy)(src, this.options).then(function (src) {\n                            return _loadImage(src, _this.options.imageTimeout || 0);\n                        });\n                        return src;\n                    } else if (this.options.useCORS === true && _Feature2.default.SUPPORT_CORS_IMAGES) {\n                        return this.addImage(src, src, true);\n                    }\n                }\n            }\n        }\n    }, {\n        key: 'inlineImage',\n        value: function inlineImage(src) {\n            var _this2 = this;\n\n            if (isInlineImage(src)) {\n                return _loadImage(src, this.options.imageTimeout || 0);\n            }\n            if (this.hasResourceInCache(src)) {\n                return this.cache[src];\n            }\n            if (!this.isSameOrigin(src) && typeof this.options.proxy === 'string') {\n                return this.cache[src] = (0, _Proxy.Proxy)(src, this.options).then(function (src) {\n                    return _loadImage(src, _this2.options.imageTimeout || 0);\n                });\n            }\n\n            return this.xhrImage(src);\n        }\n    }, {\n        key: 'xhrImage',\n        value: function xhrImage(src) {\n            var _this3 = this;\n\n            this.cache[src] = new Promise(function (resolve, reject) {\n                var xhr = new XMLHttpRequest();\n                xhr.onreadystatechange = function () {\n                    if (xhr.readyState === 4) {\n                        if (xhr.status !== 200) {\n                            reject('Failed to fetch image ' + src.substring(0, 256) + ' with status code ' + xhr.status);\n                        } else {\n                            var reader = new FileReader();\n                            reader.addEventListener('load', function () {\n                                // $FlowFixMe\n                                var result = reader.result;\n                                resolve(result);\n                            }, false);\n                            reader.addEventListener('error', function (e) {\n                                return reject(e);\n                            }, false);\n                            reader.readAsDataURL(xhr.response);\n                        }\n                    }\n                };\n                xhr.responseType = 'blob';\n                if (_this3.options.imageTimeout) {\n                    var timeout = _this3.options.imageTimeout;\n                    xhr.timeout = timeout;\n                    xhr.ontimeout = function () {\n                        return reject(process.env.NODE_ENV !== 'production' ? 'Timed out (' + timeout + 'ms) fetching ' + src.substring(0, 256) : '');\n                    };\n                }\n                xhr.open('GET', src, true);\n                xhr.send();\n            }).then(function (src) {\n                return _loadImage(src, _this3.options.imageTimeout || 0);\n            });\n\n            return this.cache[src];\n        }\n    }, {\n        key: 'loadCanvas',\n        value: function loadCanvas(node) {\n            var key = String(this._index++);\n            this.cache[key] = Promise.resolve(node);\n            return key;\n        }\n    }, {\n        key: 'hasResourceInCache',\n        value: function hasResourceInCache(key) {\n            return typeof this.cache[key] !== 'undefined';\n        }\n    }, {\n        key: 'addImage',\n        value: function addImage(key, src, useCORS) {\n            var _this4 = this;\n\n            if (process.env.NODE_ENV !== 'production') {\n                this.logger.log('Added image ' + key.substring(0, 256));\n            }\n\n            var imageLoadHandler = function imageLoadHandler(supportsDataImages) {\n                return new Promise(function (resolve, reject) {\n                    var img = new Image();\n                    img.onload = function () {\n                        return resolve(img);\n                    };\n                    //ios safari 10.3 taints canvas with data urls unless crossOrigin is set to anonymous\n                    if (!supportsDataImages || useCORS) {\n                        img.crossOrigin = 'anonymous';\n                    }\n\n                    img.onerror = reject;\n                    img.src = src;\n                    if (img.complete === true) {\n                        // Inline XML images may fail to parse, throwing an Error later on\n                        setTimeout(function () {\n                            resolve(img);\n                        }, 500);\n                    }\n                    if (_this4.options.imageTimeout) {\n                        var timeout = _this4.options.imageTimeout;\n                        setTimeout(function () {\n                            return reject(process.env.NODE_ENV !== 'production' ? 'Timed out (' + timeout + 'ms) fetching ' + src.substring(0, 256) : '');\n                        }, timeout);\n                    }\n                });\n            };\n\n            this.cache[key] = isInlineBase64Image(src) && !isSVG(src) ? // $FlowFixMe\n            _Feature2.default.SUPPORT_BASE64_DRAWING(src).then(imageLoadHandler) : imageLoadHandler(true);\n            return key;\n        }\n    }, {\n        key: 'isSameOrigin',\n        value: function isSameOrigin(url) {\n            return this.getOrigin(url) === this.origin;\n        }\n    }, {\n        key: 'getOrigin',\n        value: function getOrigin(url) {\n            var link = this._link || (this._link = this._window.document.createElement('a'));\n            link.href = url;\n            link.href = link.href; // IE9, LOL! - http://jsfiddle.net/niklasvh/2e48b/\n            return link.protocol + link.hostname + link.port;\n        }\n    }, {\n        key: 'ready',\n        value: function ready() {\n            var _this5 = this;\n\n            var keys = Object.keys(this.cache);\n            var values = keys.map(function (str) {\n                return _this5.cache[str].catch(function (e) {\n                    if (process.env.NODE_ENV !== 'production') {\n                        _this5.logger.log('Unable to load image', e);\n                    }\n                    return null;\n                });\n            });\n            return Promise.all(values).then(function (images) {\n                if (process.env.NODE_ENV !== 'production') {\n                    _this5.logger.log('Finished loading ' + images.length + ' images', images);\n                }\n                return new ResourceStore(keys, images);\n            });\n        }\n    }]);\n\n    return ResourceLoader;\n}();\n\nexports.default = ResourceLoader;\n\nvar ResourceStore = exports.ResourceStore = function () {\n    function ResourceStore(keys, resources) {\n        _classCallCheck(this, ResourceStore);\n\n        this._keys = keys;\n        this._resources = resources;\n    }\n\n    _createClass(ResourceStore, [{\n        key: 'get',\n        value: function get(key) {\n            var index = this._keys.indexOf(key);\n            return index === -1 ? null : this._resources[index];\n        }\n    }]);\n\n    return ResourceStore;\n}();\n\nvar INLINE_SVG = /^data:image\\/svg\\+xml/i;\nvar INLINE_BASE64 = /^data:image\\/.*;base64,/i;\nvar INLINE_IMG = /^data:image\\/.*/i;\n\nvar isInlineImage = function isInlineImage(src) {\n    return INLINE_IMG.test(src);\n};\nvar isInlineBase64Image = function isInlineBase64Image(src) {\n    return INLINE_BASE64.test(src);\n};\nvar isBlobImage = function isBlobImage(src) {\n    return src.substr(0, 4) === 'blob';\n};\n\nvar isSVG = function isSVG(src) {\n    return src.substr(-3).toLowerCase() === 'svg' || INLINE_SVG.test(src);\n};\n\nvar _loadImage = function _loadImage(src, timeout) {\n    return new Promise(function (resolve, reject) {\n        var img = new Image();\n        img.onload = function () {\n            return resolve(img);\n        };\n        img.onerror = reject;\n        img.src = src;\n        if (img.complete === true) {\n            // Inline XML images may fail to parse, throwing an Error later on\n            setTimeout(function () {\n                resolve(img);\n            }, 500);\n        }\n        if (timeout) {\n            setTimeout(function () {\n                return reject(process.env.NODE_ENV !== 'production' ? 'Timed out (' + timeout + 'ms) loading image' : '');\n            }, timeout);\n        }\n    });\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parseContent = exports.resolvePseudoContent = exports.popCounters = exports.parseCounterReset = exports.TOKEN_TYPE = exports.PSEUDO_CONTENT_ITEM_TYPE = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _ListItem = require('./ListItem');\n\nvar _listStyle = require('./parsing/listStyle');\n\nvar PSEUDO_CONTENT_ITEM_TYPE = exports.PSEUDO_CONTENT_ITEM_TYPE = {\n    TEXT: 0,\n    IMAGE: 1\n};\n\nvar TOKEN_TYPE = exports.TOKEN_TYPE = {\n    STRING: 0,\n    ATTRIBUTE: 1,\n    URL: 2,\n    COUNTER: 3,\n    COUNTERS: 4,\n    OPENQUOTE: 5,\n    CLOSEQUOTE: 6\n};\n\nvar parseCounterReset = exports.parseCounterReset = function parseCounterReset(style, data) {\n    if (!style || !style.counterReset || style.counterReset === 'none') {\n        return [];\n    }\n\n    var counterNames = [];\n    var counterResets = style.counterReset.split(/\\s*,\\s*/);\n    var lenCounterResets = counterResets.length;\n\n    for (var i = 0; i < lenCounterResets; i++) {\n        var _counterResets$i$spli = counterResets[i].split(/\\s+/),\n            _counterResets$i$spli2 = _slicedToArray(_counterResets$i$spli, 2),\n            counterName = _counterResets$i$spli2[0],\n            initialValue = _counterResets$i$spli2[1];\n\n        counterNames.push(counterName);\n        var counter = data.counters[counterName];\n        if (!counter) {\n            counter = data.counters[counterName] = [];\n        }\n        counter.push(parseInt(initialValue || 0, 10));\n    }\n\n    return counterNames;\n};\n\nvar popCounters = exports.popCounters = function popCounters(counterNames, data) {\n    var lenCounters = counterNames.length;\n    for (var i = 0; i < lenCounters; i++) {\n        data.counters[counterNames[i]].pop();\n    }\n};\n\nvar resolvePseudoContent = exports.resolvePseudoContent = function resolvePseudoContent(node, style, data) {\n    if (!style || !style.content || style.content === 'none' || style.content === '-moz-alt-content' || style.display === 'none') {\n        return null;\n    }\n\n    var tokens = parseContent(style.content);\n\n    var len = tokens.length;\n    var contentItems = [];\n    var s = '';\n\n    // increment the counter (if there is a \"counter-increment\" declaration)\n    var counterIncrement = style.counterIncrement;\n    if (counterIncrement && counterIncrement !== 'none') {\n        var _counterIncrement$spl = counterIncrement.split(/\\s+/),\n            _counterIncrement$spl2 = _slicedToArray(_counterIncrement$spl, 2),\n            counterName = _counterIncrement$spl2[0],\n            incrementValue = _counterIncrement$spl2[1];\n\n        var counter = data.counters[counterName];\n        if (counter) {\n            counter[counter.length - 1] += incrementValue === undefined ? 1 : parseInt(incrementValue, 10);\n        }\n    }\n\n    // build the content string\n    for (var i = 0; i < len; i++) {\n        var token = tokens[i];\n        switch (token.type) {\n            case TOKEN_TYPE.STRING:\n                s += token.value || '';\n                break;\n\n            case TOKEN_TYPE.ATTRIBUTE:\n                if (node instanceof HTMLElement && token.value) {\n                    s += node.getAttribute(token.value) || '';\n                }\n                break;\n\n            case TOKEN_TYPE.COUNTER:\n                var _counter = data.counters[token.name || ''];\n                if (_counter) {\n                    s += formatCounterValue([_counter[_counter.length - 1]], '', token.format);\n                }\n                break;\n\n            case TOKEN_TYPE.COUNTERS:\n                var _counters = data.counters[token.name || ''];\n                if (_counters) {\n                    s += formatCounterValue(_counters, token.glue, token.format);\n                }\n                break;\n\n            case TOKEN_TYPE.OPENQUOTE:\n                s += getQuote(style, true, data.quoteDepth);\n                data.quoteDepth++;\n                break;\n\n            case TOKEN_TYPE.CLOSEQUOTE:\n                data.quoteDepth--;\n                s += getQuote(style, false, data.quoteDepth);\n                break;\n\n            case TOKEN_TYPE.URL:\n                if (s) {\n                    contentItems.push({ type: PSEUDO_CONTENT_ITEM_TYPE.TEXT, value: s });\n                    s = '';\n                }\n                contentItems.push({ type: PSEUDO_CONTENT_ITEM_TYPE.IMAGE, value: token.value || '' });\n                break;\n        }\n    }\n\n    if (s) {\n        contentItems.push({ type: PSEUDO_CONTENT_ITEM_TYPE.TEXT, value: s });\n    }\n\n    return contentItems;\n};\n\nvar parseContent = exports.parseContent = function parseContent(content, cache) {\n    if (cache && cache[content]) {\n        return cache[content];\n    }\n\n    var tokens = [];\n    var len = content.length;\n\n    var isString = false;\n    var isEscaped = false;\n    var isFunction = false;\n    var str = '';\n    var functionName = '';\n    var args = [];\n\n    for (var i = 0; i < len; i++) {\n        var c = content.charAt(i);\n\n        switch (c) {\n            case \"'\":\n            case '\"':\n                if (isEscaped) {\n                    str += c;\n                } else {\n                    isString = !isString;\n                    if (!isFunction && !isString) {\n                        tokens.push({ type: TOKEN_TYPE.STRING, value: str });\n                        str = '';\n                    }\n                }\n                break;\n\n            case '\\\\':\n                if (isEscaped) {\n                    str += c;\n                    isEscaped = false;\n                } else {\n                    isEscaped = true;\n                }\n                break;\n\n            case '(':\n                if (isString) {\n                    str += c;\n                } else {\n                    isFunction = true;\n                    functionName = str;\n                    str = '';\n                    args = [];\n                }\n                break;\n\n            case ')':\n                if (isString) {\n                    str += c;\n                } else if (isFunction) {\n                    if (str) {\n                        args.push(str);\n                    }\n\n                    switch (functionName) {\n                        case 'attr':\n                            if (args.length > 0) {\n                                tokens.push({ type: TOKEN_TYPE.ATTRIBUTE, value: args[0] });\n                            }\n                            break;\n\n                        case 'counter':\n                            if (args.length > 0) {\n                                var counter = {\n                                    type: TOKEN_TYPE.COUNTER,\n                                    name: args[0]\n                                };\n                                if (args.length > 1) {\n                                    counter.format = args[1];\n                                }\n                                tokens.push(counter);\n                            }\n                            break;\n\n                        case 'counters':\n                            if (args.length > 0) {\n                                var _counters2 = {\n                                    type: TOKEN_TYPE.COUNTERS,\n                                    name: args[0]\n                                };\n                                if (args.length > 1) {\n                                    _counters2.glue = args[1];\n                                }\n                                if (args.length > 2) {\n                                    _counters2.format = args[2];\n                                }\n                                tokens.push(_counters2);\n                            }\n                            break;\n\n                        case 'url':\n                            if (args.length > 0) {\n                                tokens.push({ type: TOKEN_TYPE.URL, value: args[0] });\n                            }\n                            break;\n                    }\n\n                    isFunction = false;\n                    str = '';\n                }\n                break;\n\n            case ',':\n                if (isString) {\n                    str += c;\n                } else if (isFunction) {\n                    args.push(str);\n                    str = '';\n                }\n                break;\n\n            case ' ':\n            case '\\t':\n                if (isString) {\n                    str += c;\n                } else if (str) {\n                    addOtherToken(tokens, str);\n                    str = '';\n                }\n                break;\n\n            default:\n                str += c;\n        }\n\n        if (c !== '\\\\') {\n            isEscaped = false;\n        }\n    }\n\n    if (str) {\n        addOtherToken(tokens, str);\n    }\n\n    if (cache) {\n        cache[content] = tokens;\n    }\n\n    return tokens;\n};\n\nvar addOtherToken = function addOtherToken(tokens, identifier) {\n    switch (identifier) {\n        case 'open-quote':\n            tokens.push({ type: TOKEN_TYPE.OPENQUOTE });\n            break;\n        case 'close-quote':\n            tokens.push({ type: TOKEN_TYPE.CLOSEQUOTE });\n            break;\n    }\n};\n\nvar getQuote = function getQuote(style, isOpening, quoteDepth) {\n    var quotes = style.quotes ? style.quotes.split(/\\s+/) : [\"'\\\"'\", \"'\\\"'\"];\n    var idx = quoteDepth * 2;\n    if (idx >= quotes.length) {\n        idx = quotes.length - 2;\n    }\n    if (!isOpening) {\n        ++idx;\n    }\n    return quotes[idx].replace(/^[\"']|[\"']$/g, '');\n};\n\nvar formatCounterValue = function formatCounterValue(counter, glue, format) {\n    var len = counter.length;\n    var result = '';\n\n    for (var i = 0; i < len; i++) {\n        if (i > 0) {\n            result += glue || '';\n        }\n        result += (0, _ListItem.createCounterText)(counter[i], (0, _listStyle.parseListStyleType)(format || 'decimal'), false);\n    }\n\n    return result;\n};","import i18next from \"i18next\";\nimport L, { TileEvent } from \"leaflet\";\nimport { autorun, computed, IReactionDisposer, observable } from \"mobx\";\nimport Cartesian2 from \"terriajs-cesium/Source/Core/Cartesian2\";\nimport Cartographic from \"terriajs-cesium/Source/Core/Cartographic\";\nimport CesiumCredit from \"terriajs-cesium/Source/Core/Credit\";\nimport defined from \"terriajs-cesium/Source/Core/defined\";\nimport CesiumEvent from \"terriajs-cesium/Source/Core/Event\";\nimport CesiumMath from \"terriajs-cesium/Source/Core/Math\";\nimport TileProviderError from \"terriajs-cesium/Source/Core/TileProviderError\";\nimport WebMercatorTilingScheme from \"terriajs-cesium/Source/Core/WebMercatorTilingScheme\";\nimport ImageryLayerFeatureInfo from \"terriajs-cesium/Source/Scene/ImageryLayerFeatureInfo\";\nimport ImageryProvider from \"terriajs-cesium/Source/Scene/ImageryProvider\";\nimport ImagerySplitDirection from \"terriajs-cesium/Source/Scene/ImagerySplitDirection\";\nimport isDefined from \"../Core/isDefined\";\nimport pollToPromise from \"../Core/pollToPromise\";\nimport Leaflet from \"../Models/Leaflet\";\nimport getUrlForImageryTile from \"./getUrlForImageryTile\";\n\n// We want TS to look at the type declared in lib/ThirdParty/terriajs-cesium-extra/index.d.ts\n// and import doesn't allows us to do that, so instead we use require + type casting to ensure\n// we still maintain the type checking, without TS screaming with errors\nconst FeatureDetection: FeatureDetection = require(\"terriajs-cesium/Source/Core/FeatureDetection\")\n  .default;\n\nconst swScratch = new Cartographic();\nconst neScratch = new Cartographic();\nconst swTileCoordinatesScratch = new Cartesian2();\nconst neTileCoordinatesScratch = new Cartesian2();\n\nclass Credit extends CesiumCredit {\n  _shownInLeaflet?: boolean;\n  _shownInLeafletLastUpdate?: boolean;\n}\n\nexport default class CesiumTileLayer extends L.TileLayer {\n  readonly tileSize = 256;\n  readonly errorEvent = new CesiumEvent();\n\n  private initialized = false;\n  private _usable = false;\n  private _delayedUpdate?: number;\n  private _zSubtract = 0;\n  private _requestImageError?: TileProviderError;\n  private _previousCredits: Credit[] = [];\n  private _leafletUpdateInterval: number;\n\n  @observable splitDirection = ImagerySplitDirection.NONE;\n  @observable splitPosition: number = 0.5;\n\n  constructor(\n    private leaflet: Leaflet,\n    readonly imageryProvider: ImageryProvider,\n    options: L.TileLayerOptions = {}\n  ) {\n    super(<any>undefined, {\n      ...options,\n      updateInterval: defined((imageryProvider as any)._leafletUpdateInterval)\n        ? (imageryProvider as any)._leafletUpdateInterval\n        : 100\n    });\n    this.imageryProvider = imageryProvider;\n\n    // Handle splitter rection (and disposing reaction)\n    let disposeSplitterReaction: IReactionDisposer | undefined;\n    this.on(\"add\", () => {\n      if (!disposeSplitterReaction) {\n        disposeSplitterReaction = this._reactToSplitterChange();\n      }\n    });\n    this.on(\"remove\", () => {\n      if (disposeSplitterReaction) {\n        disposeSplitterReaction();\n        disposeSplitterReaction = undefined;\n      }\n    });\n\n    this._leafletUpdateInterval = defined(\n      (imageryProvider as any)._leafletUpdateInterval\n    )\n      ? (imageryProvider as any)._leafletUpdateInterval\n      : 100;\n\n    // Hack to fix \"Space between tiles on fractional zoom levels in Webkit browsers\" (https://github.com/Leaflet/Leaflet/issues/3575#issuecomment-688644225)\n    this.on(\"tileloadstart\", (event: TileEvent) => {\n      event.tile.style.width = this.getTileSize().x + 0.5 + \"px\";\n      event.tile.style.height = this.getTileSize().y + 0.5 + \"px\";\n    });\n  }\n\n  _reactToSplitterChange() {\n    return autorun(() => {\n      const container = this.getContainer();\n      if (container === null) {\n        return;\n      }\n\n      if (this.splitDirection === ImagerySplitDirection.LEFT) {\n        const { left: clipLeft } = this._clipsForSplitter;\n        container.style.clip = clipLeft;\n      } else if (this.splitDirection === ImagerySplitDirection.RIGHT) {\n        const { right: clipRight } = this._clipsForSplitter;\n        container.style.clip = clipRight;\n      } else {\n        container.style.clip = \"auto\";\n      }\n    });\n  }\n\n  @computed\n  get _clipsForSplitter() {\n    let clipLeft = \"\";\n    let clipRight = \"\";\n    let clipPositionWithinMap;\n    let clipX;\n\n    if (this.leaflet.size && this.leaflet.nw && this.leaflet.se) {\n      clipPositionWithinMap = this.leaflet.size.x * this.splitPosition;\n      clipX = Math.round(this.leaflet.nw.x + clipPositionWithinMap);\n      clipLeft =\n        \"rect(\" +\n        [this.leaflet.nw.y, clipX, this.leaflet.se.y, this.leaflet.nw.x].join(\n          \"px,\"\n        ) +\n        \"px)\";\n      clipRight =\n        \"rect(\" +\n        [this.leaflet.nw.y, this.leaflet.se.x, this.leaflet.se.y, clipX].join(\n          \"px,\"\n        ) +\n        \"px)\";\n    }\n    return {\n      left: clipLeft,\n      right: clipRight,\n      clipPositionWithinMap: clipPositionWithinMap,\n      clipX: clipX\n    };\n  }\n\n  _tileOnError(_done: unknown, _tile: unknown, _e: unknown) {\n    // Do nothing, we'll handle tile errors separately.\n  }\n\n  createTile(coords: L.Coords, done: L.DoneCallback) {\n    // Create a tile (Image) as normal.\n    const tile = <HTMLImageElement>super.createTile(coords, done);\n\n    // By default, Leaflet handles tile load errors by setting the Image to the error URL and raising\n    // an error event.  We want to first raise an error event that optionally returns a promise and\n    // retries after the promise resolves.\n\n    const doRequest = (waitPromise?: any) => {\n      if (waitPromise) {\n        waitPromise\n          .then(function() {\n            doRequest();\n          })\n          .otherwise((e: unknown) => {\n            // The tile has failed irrecoverably, so invoke Leaflet's standard\n            // tile error handler.\n            (<any>L.TileLayer).prototype._tileOnError.call(this, done, tile, e);\n          });\n        return;\n      }\n\n      // Setting src will trigger a new load or error event, even if the\n      // new src is the same as the old one.\n      const tileUrl = this.getTileUrl(coords);\n      if (isDefined(tileUrl)) {\n        tile.src = tileUrl;\n      }\n    };\n\n    L.DomEvent.on(tile, \"error\", e => {\n      const level = (<any>this)._getLevelFromZ(coords);\n      const message = i18next.t(\"map.cesium.failedToObtain\", {\n        x: coords.x,\n        y: coords.y,\n        level: level\n      });\n      this._requestImageError = TileProviderError.handleError(\n        <any>this._requestImageError,\n        this.imageryProvider,\n        <any>this.imageryProvider.errorEvent,\n        message,\n        coords.x,\n        coords.y,\n        level,\n        doRequest,\n        <any>e\n      );\n    });\n\n    return tile;\n  }\n\n  getTileUrl(tilePoint: L.Coords): string {\n    const level = this._getLevelFromZ(tilePoint);\n    const errorTileUrl = this.options.errorTileUrl || \"\";\n    if (level < 0) {\n      return errorTileUrl;\n    }\n\n    return (\n      getUrlForImageryTile(\n        this.imageryProvider,\n        tilePoint.x,\n        tilePoint.y,\n        level\n      ) || errorTileUrl\n    );\n  }\n\n  _getLevelFromZ(tilePoint: L.Coords) {\n    return tilePoint.z - this._zSubtract;\n  }\n\n  _update() {\n    if (!this.imageryProvider.ready) {\n      if (!this._delayedUpdate) {\n        this._delayedUpdate = <any>setTimeout(() => {\n          this._delayedUpdate = undefined;\n          this._update();\n        }, this._leafletUpdateInterval);\n      }\n      return;\n    }\n\n    if (!this.initialized) {\n      this.initialized = true;\n\n      // Cancel the existing delayed update, if any.\n      if (this._delayedUpdate) {\n        clearTimeout(this._delayedUpdate);\n        this._delayedUpdate = undefined;\n      }\n\n      this._delayedUpdate = <any>setTimeout(() => {\n        this._delayedUpdate = undefined;\n\n        // If we're no longer attached to a map, do nothing.\n        if (!this._map) {\n          return;\n        }\n\n        const tilingScheme = this.imageryProvider.tilingScheme;\n        if (!(tilingScheme instanceof WebMercatorTilingScheme)) {\n          this.errorEvent.raiseEvent(\n            this,\n            i18next.t(\"map.cesium.notWebMercatorTilingScheme\")\n          );\n          return;\n        }\n\n        if (\n          tilingScheme.getNumberOfXTilesAtLevel(0) === 2 &&\n          tilingScheme.getNumberOfYTilesAtLevel(0) === 2\n        ) {\n          this._zSubtract = 1;\n        } else if (\n          tilingScheme.getNumberOfXTilesAtLevel(0) !== 1 ||\n          tilingScheme.getNumberOfYTilesAtLevel(0) !== 1\n        ) {\n          this.errorEvent.raiseEvent(\n            this,\n            i18next.t(\"map.cesium.unusalTilingScheme\")\n          );\n          return;\n        }\n\n        if (isDefined(this.imageryProvider.maximumLevel)) {\n          this.options.maxNativeZoom = this.imageryProvider.maximumLevel;\n        }\n\n        if (defined(this.imageryProvider.minimumLevel)) {\n          this.options.minNativeZoom = this.imageryProvider.minimumLevel;\n        }\n\n        if (isDefined(this.imageryProvider.credit)) {\n          (<any>this._map).attributionControl.addAttribution(\n            getCreditHtml(this.imageryProvider.credit)\n          );\n        }\n\n        this._usable = true;\n\n        this._update();\n      }, this._leafletUpdateInterval);\n    }\n\n    if (this._usable) {\n      (<any>L.TileLayer).prototype._update.apply(this, arguments);\n\n      this._updateAttribution();\n    }\n  }\n\n  _updateAttribution() {\n    if (!this._usable || !isDefined(this.imageryProvider.getTileCredits)) {\n      return;\n    }\n\n    for (let i = 0; i < this._previousCredits.length; ++i) {\n      this._previousCredits[\n        i\n      ]._shownInLeafletLastUpdate = this._previousCredits[i]._shownInLeaflet;\n      this._previousCredits[i]._shownInLeaflet = false;\n    }\n\n    const bounds = this._map.getBounds();\n    const zoom = this._map.getZoom() - this._zSubtract;\n\n    const tilingScheme = this.imageryProvider.tilingScheme;\n\n    swScratch.longitude = Math.max(\n      CesiumMath.negativePiToPi(CesiumMath.toRadians(bounds.getWest())),\n      tilingScheme.rectangle.west\n    );\n    swScratch.latitude = Math.max(\n      CesiumMath.toRadians(bounds.getSouth()),\n      tilingScheme.rectangle.south\n    );\n    let sw = tilingScheme.positionToTileXY(\n      swScratch,\n      zoom,\n      swTileCoordinatesScratch\n    );\n    if (!isDefined(sw)) {\n      sw = swTileCoordinatesScratch;\n      sw.x = 0;\n      sw.y = tilingScheme.getNumberOfYTilesAtLevel(zoom) - 1;\n    }\n\n    neScratch.longitude = Math.min(\n      CesiumMath.negativePiToPi(CesiumMath.toRadians(bounds.getEast())),\n      tilingScheme.rectangle.east\n    );\n    neScratch.latitude = Math.min(\n      CesiumMath.toRadians(bounds.getNorth()),\n      tilingScheme.rectangle.north\n    );\n    let ne = tilingScheme.positionToTileXY(\n      neScratch,\n      zoom,\n      neTileCoordinatesScratch\n    );\n    if (!isDefined(ne)) {\n      ne = neTileCoordinatesScratch;\n      ne.x = tilingScheme.getNumberOfXTilesAtLevel(zoom) - 1;\n      ne.y = 0;\n    }\n\n    const nextCredits = [];\n\n    for (let j = ne.y; j < sw.y; ++j) {\n      for (let i = sw.x; i < ne.x; ++i) {\n        const credits = <Credit[]>(\n          this.imageryProvider.getTileCredits(i, j, zoom)\n        );\n        if (!defined(credits)) {\n          continue;\n        }\n\n        for (let k = 0; k < credits.length; ++k) {\n          const credit = credits[k];\n          if (credit._shownInLeaflet) {\n            continue;\n          }\n\n          credit._shownInLeaflet = true;\n          nextCredits.push(credit);\n\n          if (!credit._shownInLeafletLastUpdate) {\n            (<any>this._map).attributionControl.addAttribution(\n              getCreditHtml(credit)\n            );\n          }\n        }\n      }\n    }\n\n    // Remove attributions that applied last update but not this one.\n    for (let i = 0; i < this._previousCredits.length; ++i) {\n      if (!this._previousCredits[i]._shownInLeaflet) {\n        (<any>this._map).attributionControl.removeAttribution(\n          getCreditHtml(this._previousCredits[i])\n        );\n        this._previousCredits[i]._shownInLeafletLastUpdate = false;\n      }\n    }\n\n    this._previousCredits = nextCredits;\n  }\n\n  getFeaturePickingCoords(\n    map: L.Map,\n    longitudeRadians: number,\n    latitudeRadians: number\n  ): Promise<{ x: number; y: number; level: number }> {\n    const ll = new Cartographic(\n      CesiumMath.negativePiToPi(longitudeRadians),\n      latitudeRadians,\n      0.0\n    );\n    const level = Math.round(map.getZoom());\n\n    return pollToPromise(() => {\n      return this.imageryProvider.ready;\n    }).then(() => {\n      const tilingScheme = this.imageryProvider.tilingScheme;\n      const coords = tilingScheme.positionToTileXY(ll, level);\n      return {\n        x: coords.x,\n        y: coords.y,\n        level: level\n      };\n    });\n  }\n\n  pickFeatures(\n    x: number,\n    y: number,\n    level: number,\n    longitudeRadians: number,\n    latitudeRadians: number\n  ): Promise<ImageryLayerFeatureInfo> {\n    return pollToPromise(() => {\n      return this.imageryProvider.ready;\n    }).then(() => {\n      return this.imageryProvider.pickFeatures(\n        x,\n        y,\n        level,\n        longitudeRadians,\n        latitudeRadians\n      );\n    });\n  }\n\n  onRemove(map: L.Map) {\n    if (this._delayedUpdate) {\n      clearTimeout(this._delayedUpdate);\n      this._delayedUpdate = undefined;\n    }\n\n    for (let i = 0; i < this._previousCredits.length; ++i) {\n      this._previousCredits[i]._shownInLeafletLastUpdate = false;\n      this._previousCredits[i]._shownInLeaflet = false;\n      (<any>map).attributionControl.removeAttribution(\n        getCreditHtml(this._previousCredits[i])\n      );\n    }\n\n    if (this._usable && defined(this.imageryProvider.credit)) {\n      (<any>map).attributionControl.removeAttribution(\n        getCreditHtml(this.imageryProvider.credit)\n      );\n    }\n\n    L.TileLayer.prototype.onRemove.apply(this, [map]);\n\n    // Check that this cancels tile requests when dragging the time slider and rapidly creating\n    // and destroying layers.  If the image requests for previous times/layers are allowed to hang\n    // around, they clog up the pipeline and it takes approximately forever for the browser\n    // to get around to downloading the tiles that are actually needed.\n    this._abortLoading();\n    return this;\n  }\n}\n\nfunction getCreditHtml(credit: Credit) {\n  return credit.element.outerHTML;\n}\n","import BoundingSphere from \"terriajs-cesium/Source/Core/BoundingSphere\";\nimport BoundingSphereState from \"terriajs-cesium/Source/DataSources/BoundingSphereState\";\nimport CustomDataSource from \"terriajs-cesium/Source/DataSources/CustomDataSource\";\nimport DataSource from \"terriajs-cesium/Source/DataSources/DataSource\";\nimport DataSourceCollection from \"terriajs-cesium/Source/DataSources/DataSourceCollection\";\nimport defaultValue from \"terriajs-cesium/Source/Core/defaultValue\";\nimport Entity from \"terriajs-cesium/Source/DataSources/Entity\";\nimport EntityCluster from \"terriajs-cesium/Source/DataSources/EntityCluster\";\nimport EventHelper from \"terriajs-cesium/Source/Core/EventHelper\";\nimport isDefined from \"../Core/isDefined\";\nimport JulianDate from \"terriajs-cesium/Source/Core/JulianDate\";\nimport L from \"leaflet\";\nimport LeafletScene from \"./LeafletScene\";\n\nconst createGuid = require(\"terriajs-cesium/Source/Core/createGuid\").default;\nconst destroyObject = require(\"terriajs-cesium/Source/Core/destroyObject\")\n  .default;\n\ninterface Visualizer {\n  update(time: JulianDate): boolean;\n  destroy(): void;\n  getLatLngBounds(): L.LatLngBounds | undefined;\n  getBoundingSphere?: (\n    entity: Entity,\n    tmp: BoundingSphere\n  ) => BoundingSphereState;\n}\n\nclass LeafletDataSource extends DataSource {\n  visualizersByDisplayID?: { [index: string]: Visualizer[] };\n  visualizers?: Visualizer[];\n}\n\ntype VisualizersCallback = (\n  scene: LeafletScene,\n  entityCluster: EntityCluster | undefined,\n  dataSource: DataSource\n) => Visualizer[];\n\ninterface LeafletDataSourceDisplayOptions {\n  scene: LeafletScene;\n  dataSourceCollection: DataSourceCollection;\n  visualizersCallback: VisualizersCallback;\n}\n\n/**\n * Visualizes a collection of {@link DataSource} instances in Leaflet.\n */\nexport default class LeafletDataSourceDisplay {\n  private readonly _displayID: string;\n\n  // Gets the scene associated with this display.\n  private readonly _scene: LeafletScene;\n\n  /**\n   * Gets the default data source instance which can be used to\n   * manually create and visualize entities not tied to\n   * a specific data source. This instance is always available\n   * and does not appear in the list dataSources collection.\n   */\n  private readonly _defaultDataSource: LeafletDataSource;\n\n  // Gets the collection of data sources to display.\n  private readonly _dataSourceCollection: DataSourceCollection;\n\n  private readonly _visualizersCallback: VisualizersCallback;\n  private readonly _eventHelper: EventHelper;\n\n  // Gets a value indicating whether or not all entities in the data source are ready\n  private _ready: boolean;\n\n  private _lastTime: JulianDate;\n\n  constructor(options: LeafletDataSourceDisplayOptions) {\n    this._displayID = createGuid();\n    this._scene = options.scene;\n    this._dataSourceCollection = options.dataSourceCollection;\n    this._visualizersCallback = defaultValue(\n      options.visualizersCallback,\n      LeafletDataSourceDisplay.defaultVisualizersCallback\n    );\n\n    this._eventHelper = new EventHelper();\n    this._eventHelper.add(\n      this._dataSourceCollection.dataSourceAdded,\n      this._onDataSourceAdded as () => void,\n      this\n    );\n    this._eventHelper.add(\n      this._dataSourceCollection.dataSourceRemoved,\n      this._onDataSourceRemoved as () => void,\n      this\n    );\n\n    for (let i = 0, len = this._dataSourceCollection.length; i < len; i++) {\n      this._onDataSourceAdded(\n        this._dataSourceCollection,\n        this._dataSourceCollection.get(i)\n      );\n    }\n\n    const defaultDataSource = new CustomDataSource();\n    this._onDataSourceAdded(undefined, defaultDataSource);\n    this._defaultDataSource = defaultDataSource;\n\n    this._ready = false;\n    this._lastTime = JulianDate.now();\n  }\n\n  /**\n   * Gets or sets the default function which creates an array of visualizers used for visualization.\n   * By default, this function uses all standard visualizers.\n   *\n   */\n  static defaultVisualizersCallback(\n    _leafletScene: LeafletScene,\n    _entityCluster: EntityCluster,\n    _dataSource: DataSource\n  ) {\n    return [];\n  }\n\n  /**\n   * Updates the display to the provided time.\n   *\n   */\n  update(time: JulianDate) {\n    let result = true;\n\n    let x;\n    let visualizers;\n    let vLength;\n    const dataSources = this._dataSourceCollection;\n    const length = dataSources.length;\n    for (let i = 0; i < length; i++) {\n      const dataSource = <LeafletDataSource>dataSources.get(i);\n      if (isDefined(dataSource.update)) {\n        result = dataSource.update(time) && result;\n      }\n\n      visualizers = this._getVisualizersForDataSource(dataSource);\n      if (isDefined(visualizers)) {\n        vLength = visualizers.length;\n        for (x = 0; x < vLength; x++) {\n          result = visualizers[x].update(time) && result;\n        }\n      }\n    }\n\n    visualizers = this._getVisualizersForDataSource(this._defaultDataSource);\n    if (isDefined(visualizers)) {\n      vLength = visualizers.length;\n      for (x = 0; x < vLength; x++) {\n        result = visualizers[x].update(time) && result;\n      }\n    }\n\n    this._ready = result;\n    this._lastTime = JulianDate.clone(time, this._lastTime);\n    return result;\n  }\n\n  destroy() {\n    this._eventHelper.removeAll();\n\n    const dataSourceCollection = this._dataSourceCollection;\n    for (let i = 0, length = dataSourceCollection.length; i < length; ++i) {\n      this._onDataSourceRemoved(\n        this._dataSourceCollection,\n        dataSourceCollection.get(i)\n      );\n    }\n    this._onDataSourceRemoved(undefined, this._defaultDataSource);\n    return destroyObject(this);\n  }\n\n  private _onDataSourceAdded(\n    _dataSourceCollection: DataSourceCollection | undefined,\n    dataSource: LeafletDataSource\n  ) {\n    const visualizers = this._visualizersCallback(\n      this._scene,\n      undefined,\n      dataSource\n    );\n\n    dataSource.visualizersByDisplayID = dataSource.visualizersByDisplayID || {};\n    dataSource.visualizersByDisplayID[this._displayID] = visualizers;\n\n    dataSource.visualizers = dataSource.visualizers || [];\n    dataSource.visualizers = dataSource.visualizers.concat(visualizers);\n  }\n\n  private _onDataSourceRemoved(\n    _dataSourceCollection: DataSourceCollection | undefined,\n    dataSource: LeafletDataSource\n  ) {\n    const visualizers = this._getVisualizersForDataSource(dataSource);\n    if (!isDefined(visualizers)) {\n      return;\n    }\n\n    const length = visualizers.length;\n    for (let i = 0; i < length; i++) {\n      const visualizer = visualizers[i];\n      visualizer.destroy();\n\n      if (isDefined(dataSource.visualizers)) {\n        const index = dataSource.visualizers.indexOf(visualizer);\n        dataSource.visualizers.splice(index, 1);\n      }\n    }\n\n    if (isDefined(dataSource.visualizersByDisplayID)) {\n      delete dataSource.visualizersByDisplayID[this._displayID];\n    }\n  }\n\n  private _getVisualizersForDataSource(dataSource: LeafletDataSource) {\n    const visualizersByDisplayID = dataSource.visualizersByDisplayID;\n    if (\n      isDefined(visualizersByDisplayID) &&\n      isDefined(visualizersByDisplayID[this._displayID])\n    ) {\n      return visualizersByDisplayID[this._displayID];\n    }\n  }\n\n  /**\n   * Computes the rectangular bounds which encloses the visualization\n   * produced for the given entities.\n   */\n  getLatLngBounds(dataSource: LeafletDataSource) {\n    this.update(this._lastTime);\n\n    const visualizers = this._getVisualizersForDataSource(dataSource);\n    if (!isDefined(visualizers)) {\n      return;\n    }\n\n    let result;\n\n    for (let j = 0, vLength = visualizers.length; j < vLength; j++) {\n      const visualizer = visualizers[j];\n      const bounds = visualizer.getLatLngBounds();\n      if (bounds === undefined) {\n        continue;\n      }\n\n      result =\n        result === undefined\n          ? L.latLngBounds(bounds.getSouthWest(), bounds.getNorthEast())\n          : result.extend(bounds);\n    }\n\n    return result;\n  }\n\n  /**\n   * Computes a bounding sphere which encloses the visualization produced for the specified entity.\n   * The bounding sphere is in the fixed frame of the scene's globe.\n   */\n  getBoundingSphere(\n    entity: Entity,\n    allowPartial: boolean,\n    result: BoundingSphere\n  ) {\n    if (!this._ready) {\n      return BoundingSphereState.PENDING;\n    }\n\n    let length;\n    let dataSource: LeafletDataSource | undefined = this._defaultDataSource;\n    if (!dataSource.entities.contains(entity)) {\n      dataSource = undefined;\n\n      const dataSources = this._dataSourceCollection;\n      length = dataSources.length;\n      for (let i = 0; i < length; i++) {\n        const d = dataSources.get(i);\n        if (d.entities.contains(entity)) {\n          dataSource = d;\n          break;\n        }\n      }\n    }\n\n    if (!isDefined(dataSource) || !isDefined(dataSource.visualizers)) {\n      return BoundingSphereState.FAILED;\n    }\n\n    const boundingSpheres: BoundingSphere[] = [];\n    const tmp = new BoundingSphere();\n\n    let count = 0;\n    let state = BoundingSphereState.DONE;\n    const visualizers = dataSource.visualizers;\n    const visualizersLength = visualizers.length;\n\n    for (let i = 0; i < visualizersLength; i++) {\n      const visualizer = visualizers[i];\n      if (isDefined(visualizer.getBoundingSphere)) {\n        state = visualizer.getBoundingSphere(entity, tmp);\n        if (!allowPartial && state === BoundingSphereState.PENDING) {\n          return BoundingSphereState.PENDING;\n        } else if (state === BoundingSphereState.DONE) {\n          boundingSpheres[count] = BoundingSphere.clone(\n            tmp,\n            boundingSpheres[count]\n          );\n          count++;\n        }\n      }\n    }\n\n    if (count === 0) {\n      return BoundingSphereState.FAILED;\n    }\n\n    boundingSpheres.length = count;\n    BoundingSphere.fromBoundingSpheres(boundingSpheres, result);\n    return BoundingSphereState.DONE;\n  }\n}\n","import CesiumEvent from \"terriajs-cesium/Source/Core/Event\";\n\nexport default class LeafletScene {\n  readonly map: L.Map;\n  readonly featureClicked = new CesiumEvent();\n  readonly featureMousedown = new CesiumEvent();\n  constructor(map: L.Map) {\n    this.map = map;\n  }\n}\n","import Cartographic from \"terriajs-cesium/Source/Core/Cartographic\";\nimport CesiumMath from \"terriajs-cesium/Source/Core/Math\";\nimport EasingFunction from \"terriajs-cesium/Source/Core/EasingFunction\";\nimport Ellipsoid from \"terriajs-cesium/Source/Core/Ellipsoid\";\nimport L from \"leaflet\";\nimport cesiumRequestAnimationFrame from \"terriajs-cesium/Source/Core/requestAnimationFrame\";\nimport isDefined from \"../Core/isDefined\";\n\nimport Leaflet from \"../Models/Leaflet\";\n\nconst TweenCollection = require(\"terriajs-cesium/Source/Scene/TweenCollection\")\n  .default;\nconst selectionIndicatorUrl = require(\"../../wwwroot/images/NM-LocationTarget.svg\");\n\ninterface Tween {\n  cancelTween(): void;\n}\n\ninterface TweenCollection {\n  length: number;\n  add(args: any): Tween;\n  update(): void;\n}\n\nconst cartographicScratch = new Cartographic();\n\nexport default class LeafletSelectionIndicator {\n  private readonly _leaflet: Leaflet;\n  private readonly _marker: L.Marker;\n  private readonly _tweens: TweenCollection = new TweenCollection();\n  private _selectionIndicatorTween?: Tween;\n  private _selectionIndicatorIsAppearing: boolean = false;\n  private readonly _selectionIndicatorDomElement: HTMLElement;\n  private _tweensAreRunning: boolean = false;\n\n  constructor(leaflet: Leaflet) {\n    this._leaflet = leaflet;\n    this._marker = L.marker([0, 0], {\n      icon: L.divIcon({\n        className: \"\",\n        html:\n          '<img src=\"' +\n          selectionIndicatorUrl +\n          '\" width=\"50\" height=\"50\" alt=\"\" />',\n        iconSize: L.point(50, 50)\n      }),\n      zIndexOffset: 1, // We increment the z index so that the selection marker appears above the item.\n      interactive: false,\n      keyboard: false\n    });\n\n    this._marker.addTo(this._leaflet.map);\n    this._selectionIndicatorDomElement = (<any>this._marker)._icon.children[0];\n  }\n\n  setLatLng(latlng: L.LatLng) {\n    this._marker.setLatLng(latlng);\n  }\n\n  animateSelectionIndicatorAppear() {\n    if (isDefined(this._selectionIndicatorTween)) {\n      if (this._selectionIndicatorIsAppearing) {\n        // Already appearing; don't restart the animation.\n        return;\n      }\n      this._selectionIndicatorTween.cancelTween();\n      this._selectionIndicatorTween = undefined;\n    }\n\n    var style = this._selectionIndicatorDomElement.style;\n\n    this._selectionIndicatorIsAppearing = true;\n\n    const that = this;\n    this._selectionIndicatorTween = this._tweens.add({\n      startObject: {\n        scale: 2.0,\n        opacity: 0.0,\n        rotate: -180\n      },\n      stopObject: {\n        scale: 1.0,\n        opacity: 1.0,\n        rotate: 0\n      },\n      duration: 0.8,\n      easingFunction: EasingFunction.EXPONENTIAL_OUT,\n      update: function(value: any) {\n        style.opacity = value.opacity;\n        style.transform =\n          \"scale(\" + value.scale + \") rotate(\" + value.rotate + \"deg)\";\n      },\n      complete: function() {\n        that._selectionIndicatorTween = undefined;\n      },\n      cancel: function() {\n        that._selectionIndicatorTween = undefined;\n      }\n    });\n\n    this._startTweens();\n  }\n\n  animateSelectionIndicatorDepart() {\n    if (isDefined(this._selectionIndicatorTween)) {\n      if (!this._selectionIndicatorIsAppearing) {\n        // Already disappearing, dont' restart the animation.\n        return;\n      }\n      this._selectionIndicatorTween.cancelTween();\n      this._selectionIndicatorTween = undefined;\n    }\n\n    var style = this._selectionIndicatorDomElement.style;\n\n    this._selectionIndicatorIsAppearing = false;\n\n    const that = this;\n    this._selectionIndicatorTween = this._tweens.add({\n      startObject: {\n        scale: 1.0,\n        opacity: 1.0\n      },\n      stopObject: {\n        scale: 1.5,\n        opacity: 0.0\n      },\n      duration: 0.8,\n      easingFunction: EasingFunction.EXPONENTIAL_OUT,\n      update: function(value: any) {\n        style.opacity = value.opacity;\n        style.transform = \"scale(\" + value.scale + \") rotate(0deg)\";\n      },\n      complete: function() {\n        that._selectionIndicatorTween = undefined;\n      },\n      cancel: function() {\n        that._selectionIndicatorTween = undefined;\n      }\n    });\n\n    this._startTweens();\n  }\n\n  private _startTweens() {\n    if (this._tweensAreRunning) {\n      return;\n    }\n\n    var feature = this._leaflet.terria.selectedFeature;\n    if (isDefined(feature) && isDefined(feature.position)) {\n      var cartographic = Ellipsoid.WGS84.cartesianToCartographic(\n        feature.position.getValue(\n          this._leaflet.terria.timelineClock.currentTime\n        ),\n        cartographicScratch\n      );\n      this._marker.setLatLng([\n        CesiumMath.toDegrees(cartographic.latitude),\n        CesiumMath.toDegrees(cartographic.longitude)\n      ]);\n    }\n\n    if (this._tweens.length > 0) {\n      this._tweens.update();\n    }\n\n    if (\n      this._tweens.length !== 0 ||\n      (isDefined(feature) && isDefined(feature.position))\n    ) {\n      cesiumRequestAnimationFrame(() => {\n        this._startTweens();\n      });\n    }\n  }\n}\n","import AssociativeArray from \"terriajs-cesium/Source/Core/AssociativeArray\";\nimport Cartesian2 from \"terriajs-cesium/Source/Core/Cartesian2\";\nimport Cartesian3 from \"terriajs-cesium/Source/Core/Cartesian3\";\nimport CesiumMath from \"terriajs-cesium/Source/Core/Math\";\nimport Color from \"terriajs-cesium/Source/Core/Color\";\nimport DataSource from \"terriajs-cesium/Source/DataSources/DataSource\";\nimport Ellipsoid from \"terriajs-cesium/Source/Core/Ellipsoid\";\nimport Entity from \"terriajs-cesium/Source/DataSources/Entity\";\nimport EntityCollection from \"terriajs-cesium/Source/DataSources/EntityCollection\";\nimport EntityCluster from \"terriajs-cesium/Source/DataSources/EntityCluster\";\nimport isDefined from \"../Core/isDefined\";\nimport JulianDate from \"terriajs-cesium/Source/Core/JulianDate\";\nimport L, { LatLngBounds, PolylineOptions, LatLngBoundsLiteral } from \"leaflet\";\nimport LeafletScene from \"./LeafletScene\";\nimport PolygonHierarchy from \"terriajs-cesium/Source/Core/PolygonHierarchy\";\nimport PolylineGlowMaterialProperty from \"terriajs-cesium/Source/DataSources/PolylineGlowMaterialProperty\";\nimport PolylineDashMaterialProperty from \"terriajs-cesium/Source/DataSources/PolylineDashMaterialProperty\";\nimport Property from \"terriajs-cesium/Source/DataSources/Property\";\nimport Rectangle from \"terriajs-cesium/Source/Core/Rectangle\";\nimport { getLineStyleLeaflet } from \"../Models/Catalog/Esri/esriLineStyle\";\n\nconst destroyObject = require(\"terriajs-cesium/Source/Core/destroyObject\")\n  .default;\nconst writeTextToCanvas = require(\"terriajs-cesium/Source/Core/writeTextToCanvas\")\n  .default;\n\ninterface PointDetails {\n  layer?: L.CircleMarker;\n  lastPosition: Cartesian3;\n  lastPixelSize: number;\n  lastColor: Color;\n  lastOutlineColor: Color;\n  lastOutlineWidth: number;\n}\n\ninterface PolygonDetails {\n  layer?: L.Polygon;\n  lastHierarchy?: PolygonHierarchy;\n  lastFill?: boolean;\n  lastFillColor: Color;\n  lastOutline?: boolean;\n  lastOutlineColor: Color;\n}\n\ninterface RectangleDetails {\n  layer?: L.Rectangle;\n  lastFill?: boolean;\n  lastFillColor: Color;\n  lastOutline?: boolean;\n  lastOutlineColor: Color;\n}\n\ninterface BillboardDetails {\n  layer?: L.Marker;\n}\n\ninterface LabelDetails {\n  layer?: L.Marker;\n}\n\ninterface PolylineDetails {\n  layer?: L.Polyline;\n}\n\ninterface EntityDetails {\n  point?: PointDetails;\n  polygon?: PolygonDetails;\n  billboard?: BillboardDetails;\n  label?: LabelDetails;\n  polyline?: PolylineDetails;\n  rectangle?: RectangleDetails;\n}\n\ninterface EntityHash {\n  [key: string]: EntityDetails;\n}\n\nconst defaultColor = Color.WHITE;\nconst defaultOutlineColor = Color.BLACK;\nconst defaultOutlineWidth = 1.0;\nconst defaultPixelSize = 5.0;\nconst defaultWidth = 5.0;\n\n//Single pixel black dot\nconst tmpImage =\n  \"data:image/gif;base64,R0lGODlhAQABAPAAAAAAAP///yH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\";\n\n//NOT IMPLEMENTED\n// Path primitive - no need identified\n// Ellipse primitive - no need identified\n// Ellipsoid primitive - 3d prim - no plans for this\n// Model primitive - 3d prim - no plans for this\n\n/**\n * A variable to store what sort of bounds our leaflet map has been looking at\n * 0 = a normal extent\n * 1 = zoomed in close to the east/left of anti-meridian\n * 2 = zoomed in close to the west/right of the anti-meridian\n * When this value changes we'll need to recompute the location of our points\n * to help them wrap around the anti-meridian\n */\nlet prevBoundsType = 0;\n\n/**\n * A {@link Visualizer} which maps {@link Entity#point} to Leaflet primitives.\n **/\nclass LeafletGeomVisualizer {\n  private readonly _featureGroup: L.FeatureGroup;\n  private readonly _entitiesToVisualize: AssociativeArray;\n  private readonly _entityHash: EntityHash;\n\n  constructor(\n    readonly leafletScene: LeafletScene,\n    readonly entityCollection: EntityCollection\n  ) {\n    entityCollection.collectionChanged.addEventListener(\n      this._onCollectionChanged,\n      this\n    );\n    this._featureGroup = L.featureGroup().addTo(leafletScene.map);\n    this._entitiesToVisualize = new AssociativeArray();\n    this._entityHash = {};\n\n    this._onCollectionChanged(\n      entityCollection,\n      entityCollection.values,\n      [],\n      []\n    );\n  }\n\n  private _onCollectionChanged(\n    _entityCollection: EntityCollection,\n    added: Entity[],\n    removed: Entity[],\n    changed: Entity[]\n  ) {\n    let entity;\n    const featureGroup = this._featureGroup;\n    const entities = this._entitiesToVisualize;\n    const entityHash = this._entityHash;\n\n    for (let i = added.length - 1; i > -1; i--) {\n      entity = added[i];\n      if (\n        ((isDefined(entity.point) ||\n          isDefined(entity.billboard) ||\n          isDefined(entity.label)) &&\n          isDefined(entity.position)) ||\n        isDefined(entity.polyline) ||\n        isDefined(entity.polygon) ||\n        isDefined(entity.rectangle)\n      ) {\n        entities.set(entity.id, entity);\n        entityHash[entity.id] = {};\n      }\n    }\n\n    for (let i = changed.length - 1; i > -1; i--) {\n      entity = changed[i];\n      if (\n        ((isDefined(entity.point) ||\n          isDefined(entity.billboard) ||\n          isDefined(entity.label)) &&\n          isDefined(entity.position)) ||\n        isDefined(entity.polyline) ||\n        isDefined(entity.polygon) ||\n        isDefined(entity.rectangle)\n      ) {\n        entities.set(entity.id, entity);\n        entityHash[entity.id] = entityHash[entity.id] || {};\n      } else {\n        cleanEntity(entity, featureGroup, entityHash);\n        entities.remove(entity.id);\n      }\n    }\n\n    for (let i = removed.length - 1; i > -1; i--) {\n      entity = removed[i];\n      cleanEntity(entity, featureGroup, entityHash);\n      entities.remove(entity.id);\n    }\n  }\n\n  /**\n   * Updates the primitives created by this visualizer to match their\n   * Entity counterpart at the given time.\n   *\n   */\n  public update(time: JulianDate): boolean {\n    const entities = this._entitiesToVisualize.values;\n    const entityHash = this._entityHash;\n\n    const bounds = this.leafletScene.map.getBounds();\n    let applyLocalisedAntiMeridianFix = false;\n    let currentBoundsType = 0;\n    if (_isCloseToEasternAntiMeridian(bounds)) {\n      applyLocalisedAntiMeridianFix = true;\n      currentBoundsType = 1;\n    } else if (_isCloseToWesternAntiMeridian(bounds)) {\n      applyLocalisedAntiMeridianFix = true;\n      currentBoundsType = 2;\n    }\n\n    for (let i = 0, len = entities.length; i < len; i++) {\n      const entity = entities[i];\n      const entityDetails = entityHash[entity.id];\n\n      if (isDefined(entity._point)) {\n        this._updatePoint(\n          entity,\n          time,\n          entityHash,\n          entityDetails,\n          applyLocalisedAntiMeridianFix === true ? bounds : undefined,\n          prevBoundsType !== currentBoundsType\n        );\n      }\n      if (isDefined(entity.billboard)) {\n        this._updateBillboard(\n          entity,\n          time,\n          entityHash,\n          entityDetails,\n          applyLocalisedAntiMeridianFix === true ? bounds : undefined\n        );\n      }\n      if (isDefined(entity.label)) {\n        this._updateLabel(entity, time, entityHash, entityDetails);\n      }\n      if (isDefined(entity.polyline)) {\n        this._updatePolyline(entity, time, entityHash, entityDetails);\n      }\n      if (isDefined(entity.polygon)) {\n        this._updatePolygon(entity, time, entityHash, entityDetails);\n      }\n      if (isDefined(entity.rectangle)) {\n        this._updateRectangle(entity, time, entityHash, entityDetails);\n      }\n    }\n    prevBoundsType = currentBoundsType;\n    return true;\n  }\n\n  private _updatePoint(\n    entity: Entity,\n    time: JulianDate,\n    _entityHash: EntityHash,\n    entityDetails: EntityDetails,\n    bounds: LatLngBounds | undefined,\n    boundsJustChanged: boolean\n  ) {\n    const featureGroup = this._featureGroup;\n    const pointGraphics = entity.point!;\n\n    const show =\n      entity.isAvailable(time) &&\n      getValueOrDefault(pointGraphics.show, time, true);\n    if (!show) {\n      cleanPoint(entity, featureGroup, entityDetails);\n      return;\n    }\n\n    let details = entityDetails.point;\n    if (!isDefined(details)) {\n      details = entityDetails.point = {\n        layer: undefined,\n        lastPosition: new Cartesian3(),\n        lastPixelSize: 1,\n        lastColor: new Color(),\n        lastOutlineColor: new Color(),\n        lastOutlineWidth: 1\n      };\n    }\n\n    const position = getValueOrUndefined(entity.position, time);\n    if (!isDefined(position)) {\n      cleanPoint(entity, featureGroup, entityDetails);\n      return;\n    }\n\n    const pixelSize = getValueOrDefault(\n      pointGraphics.pixelSize,\n      time,\n      defaultPixelSize\n    );\n    const color = getValueOrDefault(pointGraphics.color, time, defaultColor);\n    const outlineColor = getValueOrDefault(\n      pointGraphics.outlineColor,\n      time,\n      defaultOutlineColor\n    );\n    const outlineWidth = getValueOrDefault(\n      pointGraphics.outlineWidth,\n      time,\n      defaultOutlineWidth\n    );\n\n    let layer = details.layer;\n\n    if (!isDefined(layer)) {\n      const pointOptions = {\n        radius: pixelSize / 2.0,\n        fillColor: color.toCssColorString(),\n        fillOpacity: color.alpha,\n        color: outlineColor.toCssColorString(),\n        weight: outlineWidth,\n        opacity: outlineColor.alpha\n      };\n\n      layer = details.layer = L.circleMarker(\n        positionToLatLng(position, bounds),\n        pointOptions\n      );\n      layer.on(\"click\", featureClicked.bind(undefined, this, entity));\n      layer.on(\"mousedown\", featureMousedown.bind(undefined, this, entity));\n      featureGroup.addLayer(layer);\n\n      Cartesian3.clone(position, details.lastPosition);\n      details.lastPixelSize = pixelSize;\n      Color.clone(color, details.lastColor);\n      Color.clone(outlineColor, details.lastOutlineColor);\n      details.lastOutlineWidth = outlineWidth;\n\n      return layer;\n    }\n\n    if (\n      !Cartesian3.equals(position, details.lastPosition) ||\n      boundsJustChanged\n    ) {\n      layer.setLatLng(positionToLatLng(position, bounds));\n      Cartesian3.clone(position, details.lastPosition);\n    }\n\n    if (pixelSize !== details.lastPixelSize) {\n      layer.setRadius(pixelSize / 2.0);\n      details.lastPixelSize = pixelSize;\n    }\n\n    const options = layer.options;\n    let applyStyle = false;\n\n    if (!Color.equals(color, details.lastColor)) {\n      options.fillColor = color.toCssColorString();\n      options.fillOpacity = color.alpha;\n      Color.clone(color, details.lastColor);\n      applyStyle = true;\n    }\n\n    if (!Color.equals(outlineColor, details.lastOutlineColor)) {\n      options.color = outlineColor.toCssColorString();\n      options.opacity = outlineColor.alpha;\n      Color.clone(outlineColor, details.lastOutlineColor);\n      applyStyle = true;\n    }\n\n    if (outlineWidth !== details.lastOutlineWidth) {\n      options.weight = outlineWidth;\n      details.lastOutlineWidth = outlineWidth;\n      applyStyle = true;\n    }\n\n    if (applyStyle) {\n      layer.setStyle(options);\n    }\n  }\n\n  private _updateBillboard(\n    entity: Entity,\n    time: JulianDate,\n    _entityHash: EntityHash,\n    entityDetails: EntityDetails,\n    bounds: LatLngBounds | undefined\n  ) {\n    const markerGraphics = entity.billboard!;\n    const featureGroup = this._featureGroup;\n    let position;\n    let marker: L.Marker;\n\n    let details = entityDetails.billboard;\n    if (!isDefined(details)) {\n      details = entityDetails.billboard = {\n        layer: undefined\n      };\n    }\n\n    const geomLayer = details.layer;\n\n    let show =\n      entity.isAvailable(time) &&\n      getValueOrDefault(markerGraphics.show, time, true);\n    if (show) {\n      position = getValueOrUndefined(entity.position, time);\n      show = isDefined(position);\n    }\n    if (!show) {\n      cleanBillboard(entity, featureGroup, entityDetails);\n      return;\n    }\n\n    const cart = Ellipsoid.WGS84.cartesianToCartographic(position);\n    const latlng = positionToLatLng(position, bounds);\n    const image: any = getValue(markerGraphics.image, time);\n    const height: number | undefined = getValue(markerGraphics.height, time);\n    const width: number | undefined = getValue(markerGraphics.width, time);\n    const color = getValueOrDefault(markerGraphics.color, time, defaultColor);\n    const scale = getValueOrDefault(markerGraphics.scale, time, 1.0);\n    const verticalOrigin = getValueOrDefault(\n      markerGraphics.verticalOrigin,\n      time,\n      0\n    );\n    const horizontalOrigin = getValueOrDefault(\n      markerGraphics.horizontalOrigin,\n      time,\n      0\n    );\n    const pixelOffset = getValueOrDefault(\n      markerGraphics.pixelOffset,\n      time,\n      Cartesian2.ZERO\n    );\n\n    let imageUrl: string | undefined;\n    if (isDefined(image)) {\n      if (typeof image === \"string\") {\n        imageUrl = image;\n      } else if (isDefined(image.toDataURL)) {\n        imageUrl = image.toDataURL();\n      } else if (isDefined(image.url)) {\n        imageUrl = image.url;\n      } else {\n        imageUrl = image.src;\n      }\n    }\n\n    const iconOptions: any = {\n      color: color.toCssColorString(),\n      origUrl: imageUrl,\n      scale: scale,\n      horizontalOrigin: horizontalOrigin, //value: left, center, right\n      verticalOrigin: verticalOrigin //value: bottom, center, top\n    };\n\n    if (isDefined(height) || isDefined(width)) {\n      iconOptions.iconSize = [width, height];\n    }\n\n    let redrawIcon = false;\n    if (!isDefined(geomLayer)) {\n      const markerOptions = { icon: L.icon({ iconUrl: tmpImage }) };\n      marker = L.marker(latlng, markerOptions);\n      marker.on(\"click\", featureClicked.bind(undefined, this, entity));\n      marker.on(\"mousedown\", featureMousedown.bind(undefined, this, entity));\n      featureGroup.addLayer(marker);\n      details.layer = marker;\n      redrawIcon = true;\n    } else {\n      marker = geomLayer;\n      if (!marker.getLatLng().equals(latlng)) {\n        marker.setLatLng(latlng);\n      }\n      for (const prop in iconOptions) {\n        if (\n          isDefined(marker.options.icon) &&\n          iconOptions[prop] !== (<any>marker.options.icon.options)[prop]\n        ) {\n          redrawIcon = true;\n          break;\n        }\n      }\n    }\n\n    if (redrawIcon) {\n      const drawBillboard = function(\n        image: HTMLImageElement,\n        dataurl: string | undefined\n      ) {\n        iconOptions.iconUrl = dataurl || image;\n        if (!isDefined(iconOptions.iconSize)) {\n          iconOptions.iconSize = [image.width * scale, image.height * scale];\n        }\n        const w = iconOptions.iconSize[0],\n          h = iconOptions.iconSize[1];\n        const xOff = (w / 2) * (1 - horizontalOrigin) - pixelOffset.x;\n        const yOff = (h / 2) * (1 + verticalOrigin) - pixelOffset.y;\n        iconOptions.iconAnchor = [xOff, yOff];\n\n        if (!color.equals(defaultColor)) {\n          iconOptions.iconUrl = recolorBillboard(image, color);\n        }\n        marker.setIcon(L.icon(iconOptions));\n      };\n      const img = new Image();\n      img.onload = function() {\n        drawBillboard(img, imageUrl);\n      };\n      if (isDefined(imageUrl)) {\n        img.src = imageUrl;\n      }\n    }\n  }\n\n  private _updateLabel(\n    entity: Entity,\n    time: JulianDate,\n    _entityHash: EntityHash,\n    entityDetails: EntityDetails\n  ) {\n    const labelGraphics = entity.label!;\n    const featureGroup = this._featureGroup;\n    let position;\n    let marker: L.Marker;\n\n    let details = entityDetails.label;\n    if (!isDefined(details)) {\n      details = entityDetails.label = {\n        layer: undefined\n      };\n    }\n\n    const geomLayer = details.layer;\n\n    let show =\n      entity.isAvailable(time) &&\n      getValueOrDefault(labelGraphics.show, time, true);\n    if (show) {\n      position = getValueOrUndefined(entity.position, time);\n      show = isDefined(position);\n    }\n    if (!show) {\n      cleanLabel(entity, featureGroup, entityDetails);\n      return;\n    }\n\n    const cart = Ellipsoid.WGS84.cartesianToCartographic(position);\n    const latlng = L.latLng(\n      CesiumMath.toDegrees(cart.latitude),\n      CesiumMath.toDegrees(cart.longitude)\n    );\n    const text = getValue(labelGraphics.text, time);\n    const font = getValue((labelGraphics.font as unknown) as Property, time);\n    const scale = getValueOrDefault(labelGraphics.scale, time, 1.0);\n    const fillColor = getValueOrDefault(\n      (labelGraphics.fillColor as unknown) as Property,\n      time,\n      defaultColor\n    );\n    const verticalOrigin = getValueOrDefault(\n      labelGraphics.verticalOrigin,\n      time,\n      0\n    );\n    const horizontalOrigin = getValueOrDefault(\n      labelGraphics.horizontalOrigin,\n      time,\n      0\n    );\n    const pixelOffset = getValueOrDefault(\n      labelGraphics.pixelOffset,\n      time,\n      Cartesian2.ZERO\n    );\n\n    const iconOptions: any = {\n      text: text,\n      font: font,\n      color: fillColor.toCssColorString(),\n      scale: scale,\n      horizontalOrigin: horizontalOrigin, //value: left, center, right\n      verticalOrigin: verticalOrigin //value: bottom, center, top\n    };\n\n    let redrawLabel = false;\n    if (!isDefined(geomLayer)) {\n      const markerOptions = { icon: L.icon({ iconUrl: tmpImage }) };\n      marker = L.marker(latlng, markerOptions);\n      marker.on(\"click\", featureClicked.bind(undefined, this, entity));\n      marker.on(\"mousedown\", featureMousedown.bind(undefined, this, entity));\n      featureGroup.addLayer(marker);\n      details.layer = marker;\n      redrawLabel = true;\n    } else {\n      marker = geomLayer;\n      if (!marker.getLatLng().equals(latlng)) {\n        marker.setLatLng(latlng);\n      }\n      for (const prop in iconOptions) {\n        if (\n          isDefined(marker.options.icon) &&\n          iconOptions[prop] !== (<any>marker.options.icon.options)[prop]\n        ) {\n          redrawLabel = true;\n          break;\n        }\n      }\n    }\n\n    if (redrawLabel) {\n      const drawBillboard = function(image: HTMLImageElement, dataurl: string) {\n        iconOptions.iconUrl = dataurl || image;\n        if (!isDefined(iconOptions.iconSize)) {\n          iconOptions.iconSize = [image.width * scale, image.height * scale];\n        }\n        const w = iconOptions.iconSize[0],\n          h = iconOptions.iconSize[1];\n        const xOff = (w / 2) * (1 - horizontalOrigin) - pixelOffset.x;\n        const yOff = (h / 2) * (1 + verticalOrigin) - pixelOffset.y;\n        iconOptions.iconAnchor = [xOff, yOff];\n        marker.setIcon(L.icon(iconOptions));\n      };\n\n      const canvas = writeTextToCanvas(text, {\n        fillColor: fillColor,\n        font: font\n      });\n      const imageUrl = canvas.toDataURL();\n\n      const img = new Image();\n      img.onload = function() {\n        drawBillboard(img, imageUrl);\n      };\n      img.src = imageUrl;\n    }\n  }\n\n  private _updateRectangle(\n    entity: Entity,\n    time: JulianDate,\n    _entityHash: EntityHash,\n    entityDetails: EntityDetails\n  ) {\n    const featureGroup = this._featureGroup;\n    const rectangleGraphics = entity.rectangle;\n\n    if (!isDefined(rectangleGraphics)) {\n      return;\n    }\n\n    const show =\n      entity.isAvailable(time) &&\n      getValueOrDefault(rectangleGraphics.show, time, true);\n\n    const rectangleCoordinates = rectangleGraphics.coordinates?.getValue(\n      time\n    ) as Rectangle;\n\n    if (!show || !isDefined(rectangleCoordinates)) {\n      cleanRectangle(entity, featureGroup, entityDetails);\n      return;\n    }\n\n    const rectangleBounds: LatLngBoundsLiteral = [\n      [\n        CesiumMath.toDegrees(rectangleCoordinates.south),\n        CesiumMath.toDegrees(rectangleCoordinates.west)\n      ],\n      [\n        CesiumMath.toDegrees(rectangleCoordinates.north),\n        CesiumMath.toDegrees(rectangleCoordinates.east)\n      ]\n    ];\n\n    let details = entityDetails.rectangle;\n    if (!isDefined(details)) {\n      details = entityDetails.rectangle = {\n        layer: undefined,\n        lastFill: undefined,\n        lastFillColor: new Color(),\n        lastOutline: undefined,\n        lastOutlineColor: new Color()\n      };\n    }\n    const fill = getValueOrDefault(\n      (rectangleGraphics.fill as unknown) as Property,\n      time,\n      true\n    );\n    const outline = getValueOrDefault(rectangleGraphics.outline, time, true);\n    let dashArray;\n    if (rectangleGraphics.outline instanceof PolylineDashMaterialProperty) {\n      dashArray = getDashArray(rectangleGraphics.outline, time);\n    }\n\n    const outlineWidth = getValueOrDefault(\n      (rectangleGraphics.outlineWidth as unknown) as Property,\n      time,\n      defaultOutlineWidth\n    );\n\n    const outlineColor = getValueOrDefault(\n      (rectangleGraphics.outlineColor as unknown) as Property,\n      time,\n      defaultOutlineColor\n    );\n\n    const material = getValueOrUndefined(\n      (rectangleGraphics.material as unknown) as Property,\n      time\n    );\n    let fillColor;\n    if (isDefined(material) && isDefined(material.color)) {\n      fillColor = material.color;\n    } else {\n      fillColor = defaultColor;\n    }\n\n    let layer = details.layer;\n    if (!isDefined(layer)) {\n      const polygonOptions: PolylineOptions = {\n        fill: fill,\n        fillColor: fillColor.toCssColorString(),\n        fillOpacity: fillColor.alpha,\n        weight: outline ? outlineWidth : 0.0,\n        color: outlineColor.toCssColorString(),\n        opacity: outlineColor.alpha\n      };\n\n      if (outline && dashArray) {\n        polygonOptions.dashArray = dashArray\n          .map(x => x * outlineWidth)\n          .join(\",\");\n      }\n\n      layer = details.layer = L.rectangle(rectangleBounds, polygonOptions);\n\n      layer.on(\"click\", featureClicked.bind(undefined, this, entity));\n      layer.on(\"mousedown\", featureMousedown.bind(undefined, this, entity));\n      featureGroup.addLayer(layer);\n\n      details.lastFill = fill;\n      details.lastOutline = outline;\n      Color.clone(fillColor, details.lastFillColor);\n      Color.clone(outlineColor, details.lastOutlineColor);\n\n      return;\n    }\n\n    const options = layer.options;\n    let applyStyle = false;\n\n    if (fill !== details.lastFill) {\n      options.fill = fill;\n      details.lastFill = fill;\n      applyStyle = true;\n    }\n\n    if (outline !== details.lastOutline) {\n      options.weight = outline ? outlineWidth : 0.0;\n      details.lastOutline = outline;\n      applyStyle = true;\n    }\n\n    if (!Color.equals(fillColor, details.lastFillColor)) {\n      options.fillColor = fillColor.toCssColorString();\n      options.fillOpacity = fillColor.alpha;\n      Color.clone(fillColor, details.lastFillColor);\n      applyStyle = true;\n    }\n\n    if (!Color.equals(outlineColor, details.lastOutlineColor)) {\n      options.color = outlineColor.toCssColorString();\n      options.opacity = outlineColor.alpha;\n      Color.clone(outlineColor, details.lastOutlineColor);\n      applyStyle = true;\n    }\n\n    if (!layer.getBounds().equals(rectangleBounds)) {\n      layer.setBounds(rectangleBounds);\n    }\n\n    if (applyStyle) {\n      layer.setStyle(options);\n    }\n  }\n\n  private _updatePolygon(\n    entity: Entity,\n    time: JulianDate,\n    _entityHash: EntityHash,\n    entityDetails: EntityDetails\n  ) {\n    const featureGroup = this._featureGroup;\n    const polygonGraphics = entity.polygon!;\n\n    const show =\n      entity.isAvailable(time) &&\n      getValueOrDefault(polygonGraphics.show, time, true);\n    if (!show) {\n      cleanPolygon(entity, featureGroup, entityDetails);\n      return;\n    }\n\n    let details = entityDetails.polygon;\n    if (!isDefined(details)) {\n      details = entityDetails.polygon = {\n        layer: undefined,\n        lastHierarchy: undefined,\n        lastFill: undefined,\n        lastFillColor: new Color(),\n        lastOutline: undefined,\n        lastOutlineColor: new Color()\n      };\n    }\n\n    const hierarchy = getValueOrUndefined(polygonGraphics.hierarchy, time);\n    if (!isDefined(hierarchy)) {\n      cleanPolygon(entity, featureGroup, entityDetails);\n      return;\n    }\n\n    const fill = getValueOrDefault(\n      (polygonGraphics.fill as unknown) as Property,\n      time,\n      true\n    );\n    const outline = getValueOrDefault(polygonGraphics.outline, time, true);\n    let dashArray;\n    if (polygonGraphics.outline instanceof PolylineDashMaterialProperty) {\n      dashArray = getDashArray(polygonGraphics.outline, time);\n    }\n\n    const outlineWidth = getValueOrDefault(\n      (polygonGraphics.outlineWidth as unknown) as Property,\n      time,\n      defaultOutlineWidth\n    );\n\n    const outlineColor = getValueOrDefault(\n      (polygonGraphics.outlineColor as unknown) as Property,\n      time,\n      defaultOutlineColor\n    );\n\n    const material = getValueOrUndefined(\n      (polygonGraphics.material as unknown) as Property,\n      time\n    );\n    let fillColor;\n    if (isDefined(material) && isDefined(material.color)) {\n      fillColor = material.color;\n    } else {\n      fillColor = defaultColor;\n    }\n\n    let layer = details.layer;\n    if (!isDefined(layer)) {\n      const polygonOptions: PolylineOptions = {\n        fill: fill,\n        fillColor: fillColor.toCssColorString(),\n        fillOpacity: fillColor.alpha,\n        weight: outline ? outlineWidth : 0.0,\n        color: outlineColor.toCssColorString(),\n        opacity: outlineColor.alpha\n      };\n\n      if (outline && dashArray) {\n        polygonOptions.dashArray = dashArray\n          .map(x => x * outlineWidth)\n          .join(\",\");\n      }\n\n      layer = details.layer = L.polygon(\n        hierarchyToLatLngs(hierarchy),\n        polygonOptions\n      );\n      layer.on(\"click\", featureClicked.bind(undefined, this, entity));\n      layer.on(\"mousedown\", featureMousedown.bind(undefined, this, entity));\n      featureGroup.addLayer(layer);\n\n      details.lastHierarchy = hierarchy;\n      details.lastFill = fill;\n      details.lastOutline = outline;\n      Color.clone(fillColor, details.lastFillColor);\n      Color.clone(outlineColor, details.lastOutlineColor);\n\n      return;\n    }\n\n    if (hierarchy !== details.lastHierarchy) {\n      layer.setLatLngs(hierarchyToLatLngs(hierarchy));\n      details.lastHierarchy = hierarchy;\n    }\n\n    const options = layer.options;\n    let applyStyle = false;\n\n    if (fill !== details.lastFill) {\n      options.fill = fill;\n      details.lastFill = fill;\n      applyStyle = true;\n    }\n\n    if (outline !== details.lastOutline) {\n      options.weight = outline ? outlineWidth : 0.0;\n      details.lastOutline = outline;\n      applyStyle = true;\n    }\n\n    if (!Color.equals(fillColor, details.lastFillColor)) {\n      options.fillColor = fillColor.toCssColorString();\n      options.fillOpacity = fillColor.alpha;\n      Color.clone(fillColor, details.lastFillColor);\n      applyStyle = true;\n    }\n\n    if (!Color.equals(outlineColor, details.lastOutlineColor)) {\n      options.color = outlineColor.toCssColorString();\n      options.opacity = outlineColor.alpha;\n      Color.clone(outlineColor, details.lastOutlineColor);\n      applyStyle = true;\n    }\n\n    if (applyStyle) {\n      layer.setStyle(options);\n    }\n  }\n\n  private _updatePolyline(\n    entity: Entity,\n    time: JulianDate,\n    _entityHash: EntityHash,\n    entityDetails: EntityDetails\n  ) {\n    const polylineGraphics = entity.polyline!;\n    const featureGroup = this._featureGroup;\n    let positions, polyline;\n\n    let details = entityDetails.polyline;\n    if (!isDefined(details)) {\n      details = entityDetails.polyline = {\n        layer: undefined\n      };\n    }\n\n    const geomLayer = details.layer;\n\n    let show =\n      entity.isAvailable(time) &&\n      getValueOrDefault(polylineGraphics.show, time, true);\n    if (show) {\n      positions = getValueOrUndefined(polylineGraphics.positions, time);\n      show = isDefined(positions);\n    }\n    if (!show) {\n      cleanPolyline(entity, featureGroup, entityDetails);\n      return;\n    }\n\n    const carts = Ellipsoid.WGS84.cartesianArrayToCartographicArray(positions);\n    const latlngs = [];\n    for (let p = 0; p < carts.length; p++) {\n      latlngs.push(\n        L.latLng(\n          CesiumMath.toDegrees(carts[p].latitude),\n          CesiumMath.toDegrees(carts[p].longitude)\n        )\n      );\n    }\n\n    let color;\n    let dashArray: number[] | undefined;\n    let width: number;\n    if (polylineGraphics.material instanceof PolylineGlowMaterialProperty) {\n      color = defaultColor;\n      width = defaultWidth;\n    } else {\n      const material = polylineGraphics.material.getValue(time);\n      if (isDefined(material)) {\n        color = material.color;\n      }\n      color = color || defaultColor;\n      width = getValueOrDefault(\n        (polylineGraphics.width as unknown) as Property,\n        time,\n        defaultWidth\n      );\n    }\n    if (polylineGraphics.material instanceof PolylineDashMaterialProperty) {\n      dashArray = getDashArray(polylineGraphics.material, time);\n    }\n\n    const polylineOptions: PolylineOptions = {\n      color: color.toCssColorString(),\n      weight: width,\n      opacity: color.alpha\n    };\n\n    if (dashArray) {\n      polylineOptions.dashArray = dashArray.map(x => x * width).join(\",\");\n    }\n\n    if (!isDefined(geomLayer)) {\n      if (latlngs.length > 0) {\n        polyline = L.polyline(latlngs, polylineOptions);\n        polyline.on(\"click\", featureClicked.bind(undefined, this, entity));\n        polyline.on(\n          \"mousedown\",\n          featureMousedown.bind(undefined, this, entity)\n        );\n        featureGroup.addLayer(polyline);\n        details.layer = polyline;\n      }\n    } else {\n      polyline = geomLayer;\n      const curLatLngs = polyline.getLatLngs();\n      let bPosChange = latlngs.length !== curLatLngs.length;\n      for (let i = 0; i < curLatLngs.length && !bPosChange; i++) {\n        const latlng = curLatLngs[i];\n        if (latlng instanceof L.LatLng && latlng.equals(latlngs[i])) {\n          bPosChange = true;\n        }\n      }\n      if (bPosChange) {\n        polyline.setLatLngs(latlngs);\n      }\n\n      for (let prop in polylineOptions) {\n        if ((<any>polylineOptions)[prop] !== (<any>polyline.options)[prop]) {\n          polyline.setStyle(polylineOptions);\n          break;\n        }\n      }\n    }\n  }\n\n  /**\n   * Returns true if this object was destroyed; otherwise, false.\n   *\n   */\n  isDestroyed(): boolean {\n    return false;\n  }\n\n  /**\n   * Removes and destroys all primitives created by this instance.\n   */\n  destroy() {\n    const entities = this._entitiesToVisualize.values;\n    const entityHash = this._entityHash;\n\n    for (let i = entities.length - 1; i > -1; i--) {\n      cleanEntity(entities[i], this._featureGroup, entityHash);\n    }\n\n    this.entityCollection.collectionChanged.removeEventListener(\n      this._onCollectionChanged,\n      this\n    );\n    this.leafletScene.map.removeLayer(this._featureGroup);\n    return destroyObject(this);\n  }\n\n  /**\n   * Computes the rectangular bounds which encloses the collection of\n   * entities to be visualized.\n   */\n  getLatLngBounds(): LatLngBounds | undefined {\n    let result: LatLngBounds | undefined;\n\n    Object.keys(this._entityHash).forEach(entityId => {\n      const entityDetails: any = this._entityHash[entityId];\n\n      Object.keys(entityDetails).forEach(primitiveId => {\n        const primitive = entityDetails[primitiveId];\n\n        if (isDefined(primitive.layer)) {\n          if (isDefined(primitive.layer.getBounds)) {\n            const bounds = primitive.layer.getBounds();\n            if (isDefined(bounds)) {\n              result =\n                result === undefined\n                  ? L.latLngBounds(bounds.getSouthWest(), bounds.getNorthEast())\n                  : result.extend(bounds);\n            }\n          }\n          if (isDefined(primitive.layer.getLatLng)) {\n            const latLng = primitive.layer.getLatLng();\n            if (isDefined(latLng)) {\n              result =\n                result === undefined\n                  ? L.latLngBounds([latLng])\n                  : result.extend(latLng);\n            }\n          }\n        }\n      });\n    });\n\n    return result;\n  }\n}\n\nfunction getDashArray(\n  material: PolylineDashMaterialProperty,\n  time: JulianDate\n): number[] {\n  let dashArray;\n\n  const dashPattern = material.dashPattern\n    ? material.dashPattern.getValue(time)\n    : undefined;\n\n  return getLineStyleLeaflet(dashPattern);\n}\n\nfunction cleanEntity(\n  entity: Entity,\n  group: L.FeatureGroup,\n  entityHash: EntityHash\n) {\n  const details = entityHash[entity.id];\n\n  cleanPoint(entity, group, details);\n  cleanPolygon(entity, group, details);\n  cleanBillboard(entity, group, details);\n  cleanLabel(entity, group, details);\n  cleanPolyline(entity, group, details);\n\n  delete entityHash[entity.id];\n}\n\nfunction cleanPoint(\n  _entity: Entity,\n  group: L.FeatureGroup,\n  details: EntityDetails\n) {\n  if (isDefined(details.point) && isDefined(details.point.layer)) {\n    group.removeLayer(details.point.layer);\n    details.point = undefined;\n  }\n}\n\nfunction cleanPolygon(\n  _entity: Entity,\n  group: L.FeatureGroup,\n  details: EntityDetails\n) {\n  if (isDefined(details.polygon) && isDefined(details.polygon.layer)) {\n    group.removeLayer(details.polygon.layer);\n    details.polygon = undefined;\n  }\n}\n\nfunction cleanBillboard(\n  _entity: Entity,\n  group: L.FeatureGroup,\n  details: EntityDetails\n) {\n  if (isDefined(details.billboard) && isDefined(details.billboard.layer)) {\n    group.removeLayer(details.billboard.layer);\n    details.billboard = undefined;\n  }\n}\n\nfunction cleanLabel(\n  _entity: Entity,\n  group: L.FeatureGroup,\n  details: EntityDetails\n) {\n  if (isDefined(details.label) && isDefined(details.label.layer)) {\n    group.removeLayer(details.label.layer);\n    details.label = undefined;\n  }\n}\n\nfunction cleanPolyline(\n  _entity: Entity,\n  group: L.FeatureGroup,\n  details: EntityDetails\n) {\n  if (isDefined(details.polyline) && isDefined(details.polyline.layer)) {\n    group.removeLayer(details.polyline.layer);\n    details.polyline = undefined;\n  }\n}\n\nfunction cleanRectangle(\n  _entity: Entity,\n  group: L.FeatureGroup,\n  details: EntityDetails\n) {\n  if (isDefined(details.rectangle) && isDefined(details.rectangle.layer)) {\n    group.removeLayer(details.rectangle.layer);\n    details.rectangle = undefined;\n  }\n}\n\nfunction _isCloseToEasternAntiMeridian(bounds: LatLngBounds) {\n  const w = bounds.getWest();\n  const e = bounds.getEast();\n  if (w > 140 && (e < -140 || e > 180)) {\n    return true;\n  }\n  return false;\n}\n\nfunction _isCloseToWesternAntiMeridian(bounds: LatLngBounds) {\n  const w = bounds.getWest();\n  const e = bounds.getEast();\n  if ((w > 180 || w < -140) && e < -140) {\n    return true;\n  }\n  return false;\n}\n\nfunction positionToLatLng(\n  position: Cartesian3,\n  bounds: LatLngBounds | undefined\n) {\n  var cartographic = Ellipsoid.WGS84.cartesianToCartographic(position);\n  let lon = CesiumMath.toDegrees(cartographic.longitude);\n  if (bounds !== undefined) {\n    if (_isCloseToEasternAntiMeridian(bounds)) {\n      if (lon < -140) {\n        lon = lon + 360;\n      }\n    } else if (_isCloseToWesternAntiMeridian(bounds)) {\n      if (lon > 140) {\n        lon = lon - 360;\n      }\n    }\n  }\n  return L.latLng(CesiumMath.toDegrees(cartographic.latitude), lon);\n}\n\nfunction hierarchyToLatLngs(hierarchy: PolygonHierarchy) {\n  let holes: L.LatLng[][] = [];\n  const positions = Array.isArray(hierarchy) ? hierarchy : hierarchy.positions;\n  if (hierarchy.holes.length > 0) {\n    hierarchy.holes.forEach(hole => {\n      holes.push(convertEntityPositionsToLatLons(hole.positions));\n    });\n    return [convertEntityPositionsToLatLons(positions), ...holes];\n  } else {\n    return convertEntityPositionsToLatLons(positions);\n  }\n}\n\n//Recolor an image using 2d canvas\nfunction recolorBillboard(\n  img: HTMLImageElement,\n  color: Color\n): string | undefined {\n  const canvas = document.createElement(\"canvas\");\n  canvas.width = img.width;\n  canvas.height = img.height;\n\n  // Copy the image contents to the canvas\n  const context = canvas.getContext(\"2d\");\n  if (context === null) {\n    return;\n  }\n\n  context.drawImage(img, 0, 0);\n  const image = context.getImageData(0, 0, canvas.width, canvas.height);\n  const normClr = [color.red, color.green, color.blue, color.alpha];\n\n  const length = image.data.length; //pixel count * 4\n  for (let i = 0; i < length; i += 4) {\n    for (let j = 0; j < 4; j++) {\n      image.data[j + i] *= normClr[j];\n    }\n  }\n\n  context.putImageData(image, 0, 0);\n  return canvas.toDataURL();\n}\n\nfunction featureClicked(\n  visualizer: LeafletGeomVisualizer,\n  entity: Entity,\n  event: L.LeafletEvent\n) {\n  visualizer.leafletScene.featureClicked.raiseEvent(entity, event);\n}\n\nfunction featureMousedown(\n  visualizer: LeafletGeomVisualizer,\n  entity: Entity,\n  event: L.LeafletEvent\n) {\n  visualizer.leafletScene.featureMousedown.raiseEvent(entity, event);\n}\n\nfunction getValue<T>(\n  property: Property | undefined,\n  time: JulianDate\n): T | undefined {\n  if (isDefined(property)) {\n    return property.getValue(time);\n  }\n}\n\nfunction getValueOrDefault<T>(\n  property: Property | undefined,\n  time: JulianDate,\n  defaultValue: T\n): T {\n  if (isDefined(property)) {\n    const value = property.getValue(time);\n    if (isDefined(value)) {\n      return value;\n    }\n  }\n  return defaultValue;\n}\n\nfunction getValueOrUndefined(property: Property | undefined, time: JulianDate) {\n  if (isDefined(property)) {\n    return property.getValue(time);\n  }\n}\n\nfunction convertEntityPositionsToLatLons(positions: Cartesian3[]): L.LatLng[] {\n  var carts = Ellipsoid.WGS84.cartesianArrayToCartographicArray(positions);\n  var latlngs: L.LatLng[] = [];\n  let lastLongitude;\n  for (var p = 0; p < carts.length; p++) {\n    let lon = CesiumMath.toDegrees(carts[p].longitude);\n\n    if (lastLongitude !== undefined) {\n      if (lastLongitude - lon > 180) {\n        lon = lon + 360;\n      } else if (lastLongitude - lon < -180) {\n        lon = lon - 360;\n      }\n    }\n\n    latlngs.push(L.latLng(CesiumMath.toDegrees(carts[p].latitude), lon));\n    lastLongitude = lon;\n  }\n  return latlngs;\n}\n\nexport default class LeafletVisualizer {\n  visualizersCallback(\n    leafletScene: LeafletScene,\n    _entityCluster: EntityCluster,\n    dataSource: DataSource\n  ) {\n    const entities = dataSource.entities;\n    return [new LeafletGeomVisualizer(leafletScene, entities)];\n  }\n}\n","import L, { TileEvent } from \"leaflet\";\nimport { autorun, computed, IReactionDisposer, observable } from \"mobx\";\nimport Cartographic from \"terriajs-cesium/Source/Core/Cartographic\";\nimport CesiumEvent from \"terriajs-cesium/Source/Core/Event\";\nimport CesiumMath from \"terriajs-cesium/Source/Core/Math\";\nimport ImagerySplitDirection from \"terriajs-cesium/Source/Scene/ImagerySplitDirection\";\nimport Leaflet from \"../Models/Leaflet\";\nimport MapboxVectorTileImageryProvider from \"./MapboxVectorTileImageryProvider\";\n\nexport default class MapboxVectorCanvasTileLayer extends L.GridLayer {\n  readonly errorEvent: CesiumEvent = new CesiumEvent();\n  readonly initialized: boolean = false;\n  readonly _usable: boolean = false;\n  readonly _delayedUpdate: unknown = undefined;\n  readonly _zSubtract: number = 0;\n  readonly _previousCredits: unknown[] = [];\n\n  @observable splitDirection = ImagerySplitDirection.NONE;\n  @observable splitPosition: number = 0.5;\n\n  constructor(\n    private leaflet: Leaflet,\n    readonly imageryProvider: MapboxVectorTileImageryProvider,\n    options: L.GridLayerOptions\n  ) {\n    super(Object.assign(options, { async: true, tileSize: 256 }));\n\n    // Handle splitter rection (and disposing reaction)\n    let disposeSplitterReaction: IReactionDisposer | undefined;\n    this.on(\"add\", () => {\n      if (!disposeSplitterReaction) {\n        disposeSplitterReaction = this._reactToSplitterChange();\n      }\n    });\n    this.on(\"remove\", () => {\n      if (disposeSplitterReaction) {\n        disposeSplitterReaction();\n        disposeSplitterReaction = undefined;\n      }\n    });\n\n    // Hack to fix \"Space between tiles on fractional zoom levels in Webkit browsers\" (https://github.com/Leaflet/Leaflet/issues/3575#issuecomment-688644225)\n    this.on(\"tileloadstart\", (event: TileEvent) => {\n      event.tile.style.width = this.getTileSize().x + 0.5 + \"px\";\n      event.tile.style.height = this.getTileSize().y + 0.5 + \"px\";\n    });\n  }\n\n  _reactToSplitterChange() {\n    return autorun(() => {\n      const container = this.getContainer();\n      if (container === null) {\n        return;\n      }\n\n      if (this.splitDirection === ImagerySplitDirection.LEFT) {\n        const { left: clipLeft } = this._clipsForSplitter;\n        container.style.clip = clipLeft;\n      } else if (this.splitDirection === ImagerySplitDirection.RIGHT) {\n        const { right: clipRight } = this._clipsForSplitter;\n        container.style.clip = clipRight;\n      } else {\n        container.style.clip = \"auto\";\n      }\n    });\n  }\n\n  @computed\n  get _clipsForSplitter() {\n    let clipLeft = \"\";\n    let clipRight = \"\";\n    let clipPositionWithinMap;\n    let clipX;\n\n    if (this.leaflet.size && this.leaflet.nw && this.leaflet.se) {\n      clipPositionWithinMap = this.leaflet.size.x * this.splitPosition;\n      clipX = Math.round(this.leaflet.nw.x + clipPositionWithinMap);\n      clipLeft =\n        \"rect(\" +\n        [this.leaflet.nw.y, clipX, this.leaflet.se.y, this.leaflet.nw.x].join(\n          \"px,\"\n        ) +\n        \"px)\";\n      clipRight =\n        \"rect(\" +\n        [this.leaflet.nw.y, this.leaflet.se.x, this.leaflet.se.y, clipX].join(\n          \"px,\"\n        ) +\n        \"px)\";\n    }\n\n    return {\n      left: clipLeft,\n      right: clipRight,\n      clipPositionWithinMap: clipPositionWithinMap,\n      clipX: clipX\n    };\n  }\n\n  createTile(tilePoint: L.Coords, done: L.DoneCallback) {\n    const canvas = <HTMLCanvasElement>(\n      L.DomUtil.create(\"canvas\", \"leaflet-tile\")\n    );\n    const size = this.getTileSize();\n    canvas.width = size.x;\n    canvas.height = size.y;\n\n    this.imageryProvider.readyPromise\n      .then(() => {\n        const n = this.imageryProvider.tilingScheme.getNumberOfXTilesAtLevel(\n          tilePoint.z\n        );\n        return this.imageryProvider._requestImage(\n          CesiumMath.mod(tilePoint.x, n),\n          tilePoint.y,\n          tilePoint.z,\n          canvas\n        );\n      })\n      .then(function(canvas) {\n        done(undefined, canvas);\n      });\n    return canvas; // Not yet drawn on, but Leaflet requires the tile\n  }\n\n  getFeaturePickingCoords(\n    map: L.Map,\n    longitudeRadians: number,\n    latitudeRadians: number\n  ) {\n    const ll = new Cartographic(\n      CesiumMath.negativePiToPi(longitudeRadians),\n      latitudeRadians,\n      0.0\n    );\n    const level = Math.round(map.getZoom());\n\n    return this.imageryProvider.readyPromise.then(() => {\n      const tilingScheme = this.imageryProvider.tilingScheme;\n      const coords = tilingScheme.positionToTileXY(ll, level);\n      return {\n        x: coords.x,\n        y: coords.y,\n        level: level\n      };\n    });\n  }\n\n  pickFeatures(\n    x: number,\n    y: number,\n    level: number,\n    longitudeRadians: number,\n    latitudeRadians: number\n  ) {\n    return this.imageryProvider.readyPromise.then(() => {\n      return this.imageryProvider.pickFeatures(\n        x,\n        y,\n        level,\n        longitudeRadians,\n        latitudeRadians\n      );\n    });\n  }\n}\n","import L from \"leaflet\";\nimport CesiumMath from \"terriajs-cesium/Source/Core/Math\";\nimport Rectangle from \"terriajs-cesium/Source/Core/Rectangle\";\n\n/**\n * Converts a Cesium Rectangle into a Leaflet LatLngBounds.\n * @param {Rectangle} rectangle The rectangle to convert.\n * @return {L.latLngBounds} The equivalent Leaflet latLngBounds.\n */\nexport default function rectangleToLatLngBounds(rectangle: Rectangle) {\n  var west = CesiumMath.toDegrees(rectangle.west);\n  var south = CesiumMath.toDegrees(rectangle.south);\n  var east = CesiumMath.toDegrees(rectangle.east);\n  var north = CesiumMath.toDegrees(rectangle.north);\n  return L.latLngBounds([south, west], [north, east]);\n}\n","'use strict';\n\n// http://dev.w3.org/csswg/css-color/\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar HEX3 = /^#([a-f0-9]{3})$/i;\nvar hex3 = function hex3(value) {\n    var match = value.match(HEX3);\n    if (match) {\n        return [parseInt(match[1][0] + match[1][0], 16), parseInt(match[1][1] + match[1][1], 16), parseInt(match[1][2] + match[1][2], 16), null];\n    }\n    return false;\n};\n\nvar HEX6 = /^#([a-f0-9]{6})$/i;\nvar hex6 = function hex6(value) {\n    var match = value.match(HEX6);\n    if (match) {\n        return [parseInt(match[1].substring(0, 2), 16), parseInt(match[1].substring(2, 4), 16), parseInt(match[1].substring(4, 6), 16), null];\n    }\n    return false;\n};\n\nvar RGB = /^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/;\nvar rgb = function rgb(value) {\n    var match = value.match(RGB);\n    if (match) {\n        return [Number(match[1]), Number(match[2]), Number(match[3]), null];\n    }\n    return false;\n};\n\nvar RGBA = /^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d?\\.?\\d+)\\s*\\)$/;\nvar rgba = function rgba(value) {\n    var match = value.match(RGBA);\n    if (match && match.length > 4) {\n        return [Number(match[1]), Number(match[2]), Number(match[3]), Number(match[4])];\n    }\n    return false;\n};\n\nvar fromArray = function fromArray(array) {\n    return [Math.min(array[0], 255), Math.min(array[1], 255), Math.min(array[2], 255), array.length > 3 ? array[3] : null];\n};\n\nvar namedColor = function namedColor(name) {\n    var color = NAMED_COLORS[name.toLowerCase()];\n    return color ? color : false;\n};\n\nvar Color = function () {\n    function Color(value) {\n        _classCallCheck(this, Color);\n\n        var _ref = Array.isArray(value) ? fromArray(value) : hex3(value) || rgb(value) || rgba(value) || namedColor(value) || hex6(value) || [0, 0, 0, null],\n            _ref2 = _slicedToArray(_ref, 4),\n            r = _ref2[0],\n            g = _ref2[1],\n            b = _ref2[2],\n            a = _ref2[3];\n\n        this.r = r;\n        this.g = g;\n        this.b = b;\n        this.a = a;\n    }\n\n    _createClass(Color, [{\n        key: 'isTransparent',\n        value: function isTransparent() {\n            return this.a === 0;\n        }\n    }, {\n        key: 'toString',\n        value: function toString() {\n            return this.a !== null && this.a !== 1 ? 'rgba(' + this.r + ',' + this.g + ',' + this.b + ',' + this.a + ')' : 'rgb(' + this.r + ',' + this.g + ',' + this.b + ')';\n        }\n    }]);\n\n    return Color;\n}();\n\nexports.default = Color;\n\n\nvar NAMED_COLORS = {\n    transparent: [0, 0, 0, 0],\n    aliceblue: [240, 248, 255, null],\n    antiquewhite: [250, 235, 215, null],\n    aqua: [0, 255, 255, null],\n    aquamarine: [127, 255, 212, null],\n    azure: [240, 255, 255, null],\n    beige: [245, 245, 220, null],\n    bisque: [255, 228, 196, null],\n    black: [0, 0, 0, null],\n    blanchedalmond: [255, 235, 205, null],\n    blue: [0, 0, 255, null],\n    blueviolet: [138, 43, 226, null],\n    brown: [165, 42, 42, null],\n    burlywood: [222, 184, 135, null],\n    cadetblue: [95, 158, 160, null],\n    chartreuse: [127, 255, 0, null],\n    chocolate: [210, 105, 30, null],\n    coral: [255, 127, 80, null],\n    cornflowerblue: [100, 149, 237, null],\n    cornsilk: [255, 248, 220, null],\n    crimson: [220, 20, 60, null],\n    cyan: [0, 255, 255, null],\n    darkblue: [0, 0, 139, null],\n    darkcyan: [0, 139, 139, null],\n    darkgoldenrod: [184, 134, 11, null],\n    darkgray: [169, 169, 169, null],\n    darkgreen: [0, 100, 0, null],\n    darkgrey: [169, 169, 169, null],\n    darkkhaki: [189, 183, 107, null],\n    darkmagenta: [139, 0, 139, null],\n    darkolivegreen: [85, 107, 47, null],\n    darkorange: [255, 140, 0, null],\n    darkorchid: [153, 50, 204, null],\n    darkred: [139, 0, 0, null],\n    darksalmon: [233, 150, 122, null],\n    darkseagreen: [143, 188, 143, null],\n    darkslateblue: [72, 61, 139, null],\n    darkslategray: [47, 79, 79, null],\n    darkslategrey: [47, 79, 79, null],\n    darkturquoise: [0, 206, 209, null],\n    darkviolet: [148, 0, 211, null],\n    deeppink: [255, 20, 147, null],\n    deepskyblue: [0, 191, 255, null],\n    dimgray: [105, 105, 105, null],\n    dimgrey: [105, 105, 105, null],\n    dodgerblue: [30, 144, 255, null],\n    firebrick: [178, 34, 34, null],\n    floralwhite: [255, 250, 240, null],\n    forestgreen: [34, 139, 34, null],\n    fuchsia: [255, 0, 255, null],\n    gainsboro: [220, 220, 220, null],\n    ghostwhite: [248, 248, 255, null],\n    gold: [255, 215, 0, null],\n    goldenrod: [218, 165, 32, null],\n    gray: [128, 128, 128, null],\n    green: [0, 128, 0, null],\n    greenyellow: [173, 255, 47, null],\n    grey: [128, 128, 128, null],\n    honeydew: [240, 255, 240, null],\n    hotpink: [255, 105, 180, null],\n    indianred: [205, 92, 92, null],\n    indigo: [75, 0, 130, null],\n    ivory: [255, 255, 240, null],\n    khaki: [240, 230, 140, null],\n    lavender: [230, 230, 250, null],\n    lavenderblush: [255, 240, 245, null],\n    lawngreen: [124, 252, 0, null],\n    lemonchiffon: [255, 250, 205, null],\n    lightblue: [173, 216, 230, null],\n    lightcoral: [240, 128, 128, null],\n    lightcyan: [224, 255, 255, null],\n    lightgoldenrodyellow: [250, 250, 210, null],\n    lightgray: [211, 211, 211, null],\n    lightgreen: [144, 238, 144, null],\n    lightgrey: [211, 211, 211, null],\n    lightpink: [255, 182, 193, null],\n    lightsalmon: [255, 160, 122, null],\n    lightseagreen: [32, 178, 170, null],\n    lightskyblue: [135, 206, 250, null],\n    lightslategray: [119, 136, 153, null],\n    lightslategrey: [119, 136, 153, null],\n    lightsteelblue: [176, 196, 222, null],\n    lightyellow: [255, 255, 224, null],\n    lime: [0, 255, 0, null],\n    limegreen: [50, 205, 50, null],\n    linen: [250, 240, 230, null],\n    magenta: [255, 0, 255, null],\n    maroon: [128, 0, 0, null],\n    mediumaquamarine: [102, 205, 170, null],\n    mediumblue: [0, 0, 205, null],\n    mediumorchid: [186, 85, 211, null],\n    mediumpurple: [147, 112, 219, null],\n    mediumseagreen: [60, 179, 113, null],\n    mediumslateblue: [123, 104, 238, null],\n    mediumspringgreen: [0, 250, 154, null],\n    mediumturquoise: [72, 209, 204, null],\n    mediumvioletred: [199, 21, 133, null],\n    midnightblue: [25, 25, 112, null],\n    mintcream: [245, 255, 250, null],\n    mistyrose: [255, 228, 225, null],\n    moccasin: [255, 228, 181, null],\n    navajowhite: [255, 222, 173, null],\n    navy: [0, 0, 128, null],\n    oldlace: [253, 245, 230, null],\n    olive: [128, 128, 0, null],\n    olivedrab: [107, 142, 35, null],\n    orange: [255, 165, 0, null],\n    orangered: [255, 69, 0, null],\n    orchid: [218, 112, 214, null],\n    palegoldenrod: [238, 232, 170, null],\n    palegreen: [152, 251, 152, null],\n    paleturquoise: [175, 238, 238, null],\n    palevioletred: [219, 112, 147, null],\n    papayawhip: [255, 239, 213, null],\n    peachpuff: [255, 218, 185, null],\n    peru: [205, 133, 63, null],\n    pink: [255, 192, 203, null],\n    plum: [221, 160, 221, null],\n    powderblue: [176, 224, 230, null],\n    purple: [128, 0, 128, null],\n    rebeccapurple: [102, 51, 153, null],\n    red: [255, 0, 0, null],\n    rosybrown: [188, 143, 143, null],\n    royalblue: [65, 105, 225, null],\n    saddlebrown: [139, 69, 19, null],\n    salmon: [250, 128, 114, null],\n    sandybrown: [244, 164, 96, null],\n    seagreen: [46, 139, 87, null],\n    seashell: [255, 245, 238, null],\n    sienna: [160, 82, 45, null],\n    silver: [192, 192, 192, null],\n    skyblue: [135, 206, 235, null],\n    slateblue: [106, 90, 205, null],\n    slategray: [112, 128, 144, null],\n    slategrey: [112, 128, 144, null],\n    snow: [255, 250, 250, null],\n    springgreen: [0, 255, 127, null],\n    steelblue: [70, 130, 180, null],\n    tan: [210, 180, 140, null],\n    teal: [0, 128, 128, null],\n    thistle: [216, 191, 216, null],\n    tomato: [255, 99, 71, null],\n    turquoise: [64, 224, 208, null],\n    violet: [238, 130, 238, null],\n    wheat: [245, 222, 179, null],\n    white: [255, 255, 255, null],\n    whitesmoke: [245, 245, 245, null],\n    yellow: [255, 255, 0, null],\n    yellowgreen: [154, 205, 50, null]\n};\n\nvar TRANSPARENT = exports.TRANSPARENT = new Color([0, 0, 0, 0]);","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.calculateLengthFromValueWithUnit = exports.LENGTH_TYPE = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _NodeContainer = require('./NodeContainer');\n\nvar _NodeContainer2 = _interopRequireDefault(_NodeContainer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar LENGTH_WITH_UNIT = /([\\d.]+)(px|r?em|%)/i;\n\nvar LENGTH_TYPE = exports.LENGTH_TYPE = {\n    PX: 0,\n    PERCENTAGE: 1\n};\n\nvar Length = function () {\n    function Length(value) {\n        _classCallCheck(this, Length);\n\n        this.type = value.substr(value.length - 1) === '%' ? LENGTH_TYPE.PERCENTAGE : LENGTH_TYPE.PX;\n        var parsedValue = parseFloat(value);\n        if (process.env.NODE_ENV !== 'production' && isNaN(parsedValue)) {\n            console.error('Invalid value given for Length: \"' + value + '\"');\n        }\n        this.value = isNaN(parsedValue) ? 0 : parsedValue;\n    }\n\n    _createClass(Length, [{\n        key: 'isPercentage',\n        value: function isPercentage() {\n            return this.type === LENGTH_TYPE.PERCENTAGE;\n        }\n    }, {\n        key: 'getAbsoluteValue',\n        value: function getAbsoluteValue(parentLength) {\n            return this.isPercentage() ? parentLength * (this.value / 100) : this.value;\n        }\n    }], [{\n        key: 'create',\n        value: function create(v) {\n            return new Length(v);\n        }\n    }]);\n\n    return Length;\n}();\n\nexports.default = Length;\n\n\nvar getRootFontSize = function getRootFontSize(container) {\n    var parent = container.parent;\n    return parent ? getRootFontSize(parent) : parseFloat(container.style.font.fontSize);\n};\n\nvar calculateLengthFromValueWithUnit = exports.calculateLengthFromValueWithUnit = function calculateLengthFromValueWithUnit(container, value, unit) {\n    switch (unit) {\n        case 'px':\n        case '%':\n            return new Length(value + unit);\n        case 'em':\n        case 'rem':\n            var length = new Length(value);\n            length.value *= unit === 'em' ? parseFloat(container.style.font.fontSize) : getRootFontSize(container);\n            return length;\n        default:\n            // TODO: handle correctly if unknown unit is used\n            return new Length('0');\n    }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parseBoundCurves = exports.calculatePaddingBoxPath = exports.calculateBorderBoxPath = exports.parsePathForBorder = exports.parseDocumentSize = exports.calculateContentBox = exports.calculatePaddingBox = exports.parseBounds = exports.Bounds = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Vector = require('./drawing/Vector');\n\nvar _Vector2 = _interopRequireDefault(_Vector);\n\nvar _BezierCurve = require('./drawing/BezierCurve');\n\nvar _BezierCurve2 = _interopRequireDefault(_BezierCurve);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TOP = 0;\nvar RIGHT = 1;\nvar BOTTOM = 2;\nvar LEFT = 3;\n\nvar H = 0;\nvar V = 1;\n\nvar Bounds = exports.Bounds = function () {\n    function Bounds(x, y, w, h) {\n        _classCallCheck(this, Bounds);\n\n        this.left = x;\n        this.top = y;\n        this.width = w;\n        this.height = h;\n    }\n\n    _createClass(Bounds, null, [{\n        key: 'fromClientRect',\n        value: function fromClientRect(clientRect, scrollX, scrollY) {\n            return new Bounds(clientRect.left + scrollX, clientRect.top + scrollY, clientRect.width, clientRect.height);\n        }\n    }]);\n\n    return Bounds;\n}();\n\nvar parseBounds = exports.parseBounds = function parseBounds(node, scrollX, scrollY) {\n    return Bounds.fromClientRect(node.getBoundingClientRect(), scrollX, scrollY);\n};\n\nvar calculatePaddingBox = exports.calculatePaddingBox = function calculatePaddingBox(bounds, borders) {\n    return new Bounds(bounds.left + borders[LEFT].borderWidth, bounds.top + borders[TOP].borderWidth, bounds.width - (borders[RIGHT].borderWidth + borders[LEFT].borderWidth), bounds.height - (borders[TOP].borderWidth + borders[BOTTOM].borderWidth));\n};\n\nvar calculateContentBox = exports.calculateContentBox = function calculateContentBox(bounds, padding, borders) {\n    // TODO support percentage paddings\n    var paddingTop = padding[TOP].value;\n    var paddingRight = padding[RIGHT].value;\n    var paddingBottom = padding[BOTTOM].value;\n    var paddingLeft = padding[LEFT].value;\n\n    return new Bounds(bounds.left + paddingLeft + borders[LEFT].borderWidth, bounds.top + paddingTop + borders[TOP].borderWidth, bounds.width - (borders[RIGHT].borderWidth + borders[LEFT].borderWidth + paddingLeft + paddingRight), bounds.height - (borders[TOP].borderWidth + borders[BOTTOM].borderWidth + paddingTop + paddingBottom));\n};\n\nvar parseDocumentSize = exports.parseDocumentSize = function parseDocumentSize(document) {\n    var body = document.body;\n    var documentElement = document.documentElement;\n\n    if (!body || !documentElement) {\n        throw new Error(process.env.NODE_ENV !== 'production' ? 'Unable to get document size' : '');\n    }\n    var width = Math.max(Math.max(body.scrollWidth, documentElement.scrollWidth), Math.max(body.offsetWidth, documentElement.offsetWidth), Math.max(body.clientWidth, documentElement.clientWidth));\n\n    var height = Math.max(Math.max(body.scrollHeight, documentElement.scrollHeight), Math.max(body.offsetHeight, documentElement.offsetHeight), Math.max(body.clientHeight, documentElement.clientHeight));\n\n    return new Bounds(0, 0, width, height);\n};\n\nvar parsePathForBorder = exports.parsePathForBorder = function parsePathForBorder(curves, borderSide) {\n    switch (borderSide) {\n        case TOP:\n            return createPathFromCurves(curves.topLeftOuter, curves.topLeftInner, curves.topRightOuter, curves.topRightInner);\n        case RIGHT:\n            return createPathFromCurves(curves.topRightOuter, curves.topRightInner, curves.bottomRightOuter, curves.bottomRightInner);\n        case BOTTOM:\n            return createPathFromCurves(curves.bottomRightOuter, curves.bottomRightInner, curves.bottomLeftOuter, curves.bottomLeftInner);\n        case LEFT:\n        default:\n            return createPathFromCurves(curves.bottomLeftOuter, curves.bottomLeftInner, curves.topLeftOuter, curves.topLeftInner);\n    }\n};\n\nvar createPathFromCurves = function createPathFromCurves(outer1, inner1, outer2, inner2) {\n    var path = [];\n    if (outer1 instanceof _BezierCurve2.default) {\n        path.push(outer1.subdivide(0.5, false));\n    } else {\n        path.push(outer1);\n    }\n\n    if (outer2 instanceof _BezierCurve2.default) {\n        path.push(outer2.subdivide(0.5, true));\n    } else {\n        path.push(outer2);\n    }\n\n    if (inner2 instanceof _BezierCurve2.default) {\n        path.push(inner2.subdivide(0.5, true).reverse());\n    } else {\n        path.push(inner2);\n    }\n\n    if (inner1 instanceof _BezierCurve2.default) {\n        path.push(inner1.subdivide(0.5, false).reverse());\n    } else {\n        path.push(inner1);\n    }\n\n    return path;\n};\n\nvar calculateBorderBoxPath = exports.calculateBorderBoxPath = function calculateBorderBoxPath(curves) {\n    return [curves.topLeftOuter, curves.topRightOuter, curves.bottomRightOuter, curves.bottomLeftOuter];\n};\n\nvar calculatePaddingBoxPath = exports.calculatePaddingBoxPath = function calculatePaddingBoxPath(curves) {\n    return [curves.topLeftInner, curves.topRightInner, curves.bottomRightInner, curves.bottomLeftInner];\n};\n\nvar parseBoundCurves = exports.parseBoundCurves = function parseBoundCurves(bounds, borders, borderRadius) {\n    var tlh = borderRadius[CORNER.TOP_LEFT][H].getAbsoluteValue(bounds.width);\n    var tlv = borderRadius[CORNER.TOP_LEFT][V].getAbsoluteValue(bounds.height);\n    var trh = borderRadius[CORNER.TOP_RIGHT][H].getAbsoluteValue(bounds.width);\n    var trv = borderRadius[CORNER.TOP_RIGHT][V].getAbsoluteValue(bounds.height);\n    var brh = borderRadius[CORNER.BOTTOM_RIGHT][H].getAbsoluteValue(bounds.width);\n    var brv = borderRadius[CORNER.BOTTOM_RIGHT][V].getAbsoluteValue(bounds.height);\n    var blh = borderRadius[CORNER.BOTTOM_LEFT][H].getAbsoluteValue(bounds.width);\n    var blv = borderRadius[CORNER.BOTTOM_LEFT][V].getAbsoluteValue(bounds.height);\n\n    var factors = [];\n    factors.push((tlh + trh) / bounds.width);\n    factors.push((blh + brh) / bounds.width);\n    factors.push((tlv + blv) / bounds.height);\n    factors.push((trv + brv) / bounds.height);\n    var maxFactor = Math.max.apply(Math, factors);\n\n    if (maxFactor > 1) {\n        tlh /= maxFactor;\n        tlv /= maxFactor;\n        trh /= maxFactor;\n        trv /= maxFactor;\n        brh /= maxFactor;\n        brv /= maxFactor;\n        blh /= maxFactor;\n        blv /= maxFactor;\n    }\n\n    var topWidth = bounds.width - trh;\n    var rightHeight = bounds.height - brv;\n    var bottomWidth = bounds.width - brh;\n    var leftHeight = bounds.height - blv;\n\n    return {\n        topLeftOuter: tlh > 0 || tlv > 0 ? getCurvePoints(bounds.left, bounds.top, tlh, tlv, CORNER.TOP_LEFT) : new _Vector2.default(bounds.left, bounds.top),\n        topLeftInner: tlh > 0 || tlv > 0 ? getCurvePoints(bounds.left + borders[LEFT].borderWidth, bounds.top + borders[TOP].borderWidth, Math.max(0, tlh - borders[LEFT].borderWidth), Math.max(0, tlv - borders[TOP].borderWidth), CORNER.TOP_LEFT) : new _Vector2.default(bounds.left + borders[LEFT].borderWidth, bounds.top + borders[TOP].borderWidth),\n        topRightOuter: trh > 0 || trv > 0 ? getCurvePoints(bounds.left + topWidth, bounds.top, trh, trv, CORNER.TOP_RIGHT) : new _Vector2.default(bounds.left + bounds.width, bounds.top),\n        topRightInner: trh > 0 || trv > 0 ? getCurvePoints(bounds.left + Math.min(topWidth, bounds.width + borders[LEFT].borderWidth), bounds.top + borders[TOP].borderWidth, topWidth > bounds.width + borders[LEFT].borderWidth ? 0 : trh - borders[LEFT].borderWidth, trv - borders[TOP].borderWidth, CORNER.TOP_RIGHT) : new _Vector2.default(bounds.left + bounds.width - borders[RIGHT].borderWidth, bounds.top + borders[TOP].borderWidth),\n        bottomRightOuter: brh > 0 || brv > 0 ? getCurvePoints(bounds.left + bottomWidth, bounds.top + rightHeight, brh, brv, CORNER.BOTTOM_RIGHT) : new _Vector2.default(bounds.left + bounds.width, bounds.top + bounds.height),\n        bottomRightInner: brh > 0 || brv > 0 ? getCurvePoints(bounds.left + Math.min(bottomWidth, bounds.width - borders[LEFT].borderWidth), bounds.top + Math.min(rightHeight, bounds.height + borders[TOP].borderWidth), Math.max(0, brh - borders[RIGHT].borderWidth), brv - borders[BOTTOM].borderWidth, CORNER.BOTTOM_RIGHT) : new _Vector2.default(bounds.left + bounds.width - borders[RIGHT].borderWidth, bounds.top + bounds.height - borders[BOTTOM].borderWidth),\n        bottomLeftOuter: blh > 0 || blv > 0 ? getCurvePoints(bounds.left, bounds.top + leftHeight, blh, blv, CORNER.BOTTOM_LEFT) : new _Vector2.default(bounds.left, bounds.top + bounds.height),\n        bottomLeftInner: blh > 0 || blv > 0 ? getCurvePoints(bounds.left + borders[LEFT].borderWidth, bounds.top + leftHeight, Math.max(0, blh - borders[LEFT].borderWidth), blv - borders[BOTTOM].borderWidth, CORNER.BOTTOM_LEFT) : new _Vector2.default(bounds.left + borders[LEFT].borderWidth, bounds.top + bounds.height - borders[BOTTOM].borderWidth)\n    };\n};\n\nvar CORNER = {\n    TOP_LEFT: 0,\n    TOP_RIGHT: 1,\n    BOTTOM_RIGHT: 2,\n    BOTTOM_LEFT: 3\n};\n\nvar getCurvePoints = function getCurvePoints(x, y, r1, r2, position) {\n    var kappa = 4 * ((Math.sqrt(2) - 1) / 3);\n    var ox = r1 * kappa; // control point offset horizontal\n    var oy = r2 * kappa; // control point offset vertical\n    var xm = x + r1; // x-middle\n    var ym = y + r2; // y-middle\n\n    switch (position) {\n        case CORNER.TOP_LEFT:\n            return new _BezierCurve2.default(new _Vector2.default(x, ym), new _Vector2.default(x, ym - oy), new _Vector2.default(xm - ox, y), new _Vector2.default(xm, y));\n        case CORNER.TOP_RIGHT:\n            return new _BezierCurve2.default(new _Vector2.default(x, y), new _Vector2.default(x + ox, y), new _Vector2.default(xm, ym - oy), new _Vector2.default(xm, ym));\n        case CORNER.BOTTOM_RIGHT:\n            return new _BezierCurve2.default(new _Vector2.default(xm, y), new _Vector2.default(xm, y + oy), new _Vector2.default(x + ox, ym), new _Vector2.default(x, ym));\n        case CORNER.BOTTOM_LEFT:\n        default:\n            return new _BezierCurve2.default(new _Vector2.default(xm, ym), new _Vector2.default(xm - ox, ym), new _Vector2.default(x, y + oy), new _Vector2.default(x, y));\n    }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Color = require('./Color');\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nvar _Util = require('./Util');\n\nvar _background = require('./parsing/background');\n\nvar _border = require('./parsing/border');\n\nvar _borderRadius = require('./parsing/borderRadius');\n\nvar _display = require('./parsing/display');\n\nvar _float = require('./parsing/float');\n\nvar _font = require('./parsing/font');\n\nvar _letterSpacing = require('./parsing/letterSpacing');\n\nvar _lineBreak = require('./parsing/lineBreak');\n\nvar _listStyle = require('./parsing/listStyle');\n\nvar _margin = require('./parsing/margin');\n\nvar _overflow = require('./parsing/overflow');\n\nvar _overflowWrap = require('./parsing/overflowWrap');\n\nvar _padding = require('./parsing/padding');\n\nvar _position = require('./parsing/position');\n\nvar _textDecoration = require('./parsing/textDecoration');\n\nvar _textShadow = require('./parsing/textShadow');\n\nvar _textTransform = require('./parsing/textTransform');\n\nvar _transform = require('./parsing/transform');\n\nvar _visibility = require('./parsing/visibility');\n\nvar _wordBreak = require('./parsing/word-break');\n\nvar _zIndex = require('./parsing/zIndex');\n\nvar _Bounds = require('./Bounds');\n\nvar _Input = require('./Input');\n\nvar _ListItem = require('./ListItem');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar INPUT_TAGS = ['INPUT', 'TEXTAREA', 'SELECT'];\n\nvar NodeContainer = function () {\n    function NodeContainer(node, parent, resourceLoader, index) {\n        var _this = this;\n\n        _classCallCheck(this, NodeContainer);\n\n        this.parent = parent;\n        this.tagName = node.tagName;\n        this.index = index;\n        this.childNodes = [];\n        this.listItems = [];\n        if (typeof node.start === 'number') {\n            this.listStart = node.start;\n        }\n        var defaultView = node.ownerDocument.defaultView;\n        var scrollX = defaultView.pageXOffset;\n        var scrollY = defaultView.pageYOffset;\n        var style = defaultView.getComputedStyle(node, null);\n        var display = (0, _display.parseDisplay)(style.display);\n\n        var IS_INPUT = node.type === 'radio' || node.type === 'checkbox';\n\n        var position = (0, _position.parsePosition)(style.position);\n\n        this.style = {\n            background: IS_INPUT ? _Input.INPUT_BACKGROUND : (0, _background.parseBackground)(style, resourceLoader),\n            border: IS_INPUT ? _Input.INPUT_BORDERS : (0, _border.parseBorder)(style),\n            borderRadius: (node instanceof defaultView.HTMLInputElement || node instanceof HTMLInputElement) && IS_INPUT ? (0, _Input.getInputBorderRadius)(node) : (0, _borderRadius.parseBorderRadius)(style),\n            color: IS_INPUT ? _Input.INPUT_COLOR : new _Color2.default(style.color),\n            display: display,\n            float: (0, _float.parseCSSFloat)(style.float),\n            font: (0, _font.parseFont)(style),\n            letterSpacing: (0, _letterSpacing.parseLetterSpacing)(style.letterSpacing),\n            listStyle: display === _display.DISPLAY.LIST_ITEM ? (0, _listStyle.parseListStyle)(style) : null,\n            lineBreak: (0, _lineBreak.parseLineBreak)(style.lineBreak),\n            margin: (0, _margin.parseMargin)(style),\n            opacity: parseFloat(style.opacity),\n            overflow: INPUT_TAGS.indexOf(node.tagName) === -1 ? (0, _overflow.parseOverflow)(style.overflow) : _overflow.OVERFLOW.HIDDEN,\n            overflowWrap: (0, _overflowWrap.parseOverflowWrap)(style.overflowWrap ? style.overflowWrap : style.wordWrap),\n            padding: (0, _padding.parsePadding)(style),\n            position: position,\n            textDecoration: (0, _textDecoration.parseTextDecoration)(style),\n            textShadow: (0, _textShadow.parseTextShadow)(style.textShadow),\n            textTransform: (0, _textTransform.parseTextTransform)(style.textTransform),\n            transform: (0, _transform.parseTransform)(style),\n            visibility: (0, _visibility.parseVisibility)(style.visibility),\n            wordBreak: (0, _wordBreak.parseWordBreak)(style.wordBreak),\n            zIndex: (0, _zIndex.parseZIndex)(position !== _position.POSITION.STATIC ? style.zIndex : 'auto')\n        };\n\n        if (this.isTransformed()) {\n            // getBoundingClientRect provides values post-transform, we want them without the transformation\n            node.style.transform = 'matrix(1,0,0,1,0,0)';\n        }\n\n        if (display === _display.DISPLAY.LIST_ITEM) {\n            var listOwner = (0, _ListItem.getListOwner)(this);\n            if (listOwner) {\n                var listIndex = listOwner.listItems.length;\n                listOwner.listItems.push(this);\n                this.listIndex = node.hasAttribute('value') && typeof node.value === 'number' ? node.value : listIndex === 0 ? typeof listOwner.listStart === 'number' ? listOwner.listStart : 1 : listOwner.listItems[listIndex - 1].listIndex + 1;\n            }\n        }\n\n        // TODO move bound retrieval for all nodes to a later stage?\n        if (node.tagName === 'IMG') {\n            node.addEventListener('load', function () {\n                _this.bounds = (0, _Bounds.parseBounds)(node, scrollX, scrollY);\n                _this.curvedBounds = (0, _Bounds.parseBoundCurves)(_this.bounds, _this.style.border, _this.style.borderRadius);\n            });\n        }\n        this.image = getImage(node, resourceLoader);\n        this.bounds = IS_INPUT ? (0, _Input.reformatInputBounds)((0, _Bounds.parseBounds)(node, scrollX, scrollY)) : (0, _Bounds.parseBounds)(node, scrollX, scrollY);\n        this.curvedBounds = (0, _Bounds.parseBoundCurves)(this.bounds, this.style.border, this.style.borderRadius);\n\n        if (process.env.NODE_ENV !== 'production') {\n            this.name = '' + node.tagName.toLowerCase() + (node.id ? '#' + node.id : '') + node.className.toString().split(' ').map(function (s) {\n                return s.length ? '.' + s : '';\n            }).join('');\n        }\n    }\n\n    _createClass(NodeContainer, [{\n        key: 'getClipPaths',\n        value: function getClipPaths() {\n            // No need to clip to the parent if the parent is the root.\n            var hasParentAndParentIsNotRoot = this.parent && this.parent.parent;\n            var parentClips = hasParentAndParentIsNotRoot ? this.parent.getClipPaths() : [];\n            var isClipped = this.style.overflow !== _overflow.OVERFLOW.VISIBLE;\n\n            return isClipped ? parentClips.concat([(0, _Bounds.calculatePaddingBoxPath)(this.curvedBounds)]) : parentClips;\n        }\n    }, {\n        key: 'isInFlow',\n        value: function isInFlow() {\n            return this.isRootElement() && !this.isFloating() && !this.isAbsolutelyPositioned();\n        }\n    }, {\n        key: 'isVisible',\n        value: function isVisible() {\n            return !(0, _Util.contains)(this.style.display, _display.DISPLAY.NONE) && this.style.opacity > 0 && this.style.visibility === _visibility.VISIBILITY.VISIBLE;\n        }\n    }, {\n        key: 'isAbsolutelyPositioned',\n        value: function isAbsolutelyPositioned() {\n            return this.style.position !== _position.POSITION.STATIC && this.style.position !== _position.POSITION.RELATIVE;\n        }\n    }, {\n        key: 'isPositioned',\n        value: function isPositioned() {\n            return this.style.position !== _position.POSITION.STATIC;\n        }\n    }, {\n        key: 'isFloating',\n        value: function isFloating() {\n            return this.style.float !== _float.FLOAT.NONE;\n        }\n    }, {\n        key: 'isRootElement',\n        value: function isRootElement() {\n            return this.parent === null;\n        }\n    }, {\n        key: 'isTransformed',\n        value: function isTransformed() {\n            return this.style.transform !== null;\n        }\n    }, {\n        key: 'isPositionedWithZIndex',\n        value: function isPositionedWithZIndex() {\n            return this.isPositioned() && !this.style.zIndex.auto;\n        }\n    }, {\n        key: 'isInlineLevel',\n        value: function isInlineLevel() {\n            return (0, _Util.contains)(this.style.display, _display.DISPLAY.INLINE) || (0, _Util.contains)(this.style.display, _display.DISPLAY.INLINE_BLOCK) || (0, _Util.contains)(this.style.display, _display.DISPLAY.INLINE_FLEX) || (0, _Util.contains)(this.style.display, _display.DISPLAY.INLINE_GRID) || (0, _Util.contains)(this.style.display, _display.DISPLAY.INLINE_LIST_ITEM) || (0, _Util.contains)(this.style.display, _display.DISPLAY.INLINE_TABLE);\n        }\n    }, {\n        key: 'isInlineBlockOrInlineTable',\n        value: function isInlineBlockOrInlineTable() {\n            return (0, _Util.contains)(this.style.display, _display.DISPLAY.INLINE_BLOCK) || (0, _Util.contains)(this.style.display, _display.DISPLAY.INLINE_TABLE);\n        }\n    }]);\n\n    return NodeContainer;\n}();\n\nexports.default = NodeContainer;\n\n\nvar getImage = function getImage(node, resourceLoader) {\n    if (node instanceof node.ownerDocument.defaultView.SVGSVGElement || node instanceof SVGSVGElement) {\n        var s = new XMLSerializer();\n        return resourceLoader.loadImage('data:image/svg+xml,' + encodeURIComponent(s.serializeToString(node)));\n    }\n    switch (node.tagName) {\n        case 'IMG':\n            // $FlowFixMe\n            var img = node;\n            return resourceLoader.loadImage(img.currentSrc || img.src);\n        case 'CANVAS':\n            // $FlowFixMe\n            var canvas = node;\n            return resourceLoader.loadCanvas(canvas);\n        case 'IFRAME':\n            var iframeKey = node.getAttribute('data-html2canvas-internal-iframe-key');\n            if (iframeKey) {\n                return iframeKey;\n            }\n            break;\n    }\n\n    return null;\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar contains = exports.contains = function contains(bit, value) {\n    return (bit & value) !== 0;\n};\n\nvar distance = exports.distance = function distance(a, b) {\n    return Math.sqrt(a * a + b * b);\n};\n\nvar copyCSSStyles = exports.copyCSSStyles = function copyCSSStyles(style, target) {\n    // Edge does not provide value for cssText\n    for (var i = style.length - 1; i >= 0; i--) {\n        var property = style.item(i);\n        // Safari shows pseudoelements if content is set\n        if (property !== 'content') {\n            target.style.setProperty(property, style.getPropertyValue(property));\n        }\n    }\n    return target;\n};\n\nvar SMALL_IMAGE = exports.SMALL_IMAGE = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parseBackgroundImage = exports.parseBackground = exports.calculateBackgroundRepeatPath = exports.calculateBackgroundPosition = exports.calculateBackgroungPositioningArea = exports.calculateBackgroungPaintingArea = exports.calculateGradientBackgroundSize = exports.calculateBackgroundSize = exports.BACKGROUND_ORIGIN = exports.BACKGROUND_CLIP = exports.BACKGROUND_SIZE = exports.BACKGROUND_REPEAT = undefined;\n\nvar _Color = require('../Color');\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nvar _Length = require('../Length');\n\nvar _Length2 = _interopRequireDefault(_Length);\n\nvar _Size = require('../drawing/Size');\n\nvar _Size2 = _interopRequireDefault(_Size);\n\nvar _Vector = require('../drawing/Vector');\n\nvar _Vector2 = _interopRequireDefault(_Vector);\n\nvar _Bounds = require('../Bounds');\n\nvar _padding = require('./padding');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar BACKGROUND_REPEAT = exports.BACKGROUND_REPEAT = {\n    REPEAT: 0,\n    NO_REPEAT: 1,\n    REPEAT_X: 2,\n    REPEAT_Y: 3\n};\n\nvar BACKGROUND_SIZE = exports.BACKGROUND_SIZE = {\n    AUTO: 0,\n    CONTAIN: 1,\n    COVER: 2,\n    LENGTH: 3\n};\n\nvar BACKGROUND_CLIP = exports.BACKGROUND_CLIP = {\n    BORDER_BOX: 0,\n    PADDING_BOX: 1,\n    CONTENT_BOX: 2\n};\n\nvar BACKGROUND_ORIGIN = exports.BACKGROUND_ORIGIN = BACKGROUND_CLIP;\n\nvar AUTO = 'auto';\n\nvar BackgroundSize = function BackgroundSize(size) {\n    _classCallCheck(this, BackgroundSize);\n\n    switch (size) {\n        case 'contain':\n            this.size = BACKGROUND_SIZE.CONTAIN;\n            break;\n        case 'cover':\n            this.size = BACKGROUND_SIZE.COVER;\n            break;\n        case 'auto':\n            this.size = BACKGROUND_SIZE.AUTO;\n            break;\n        default:\n            this.value = new _Length2.default(size);\n    }\n};\n\nvar calculateBackgroundSize = exports.calculateBackgroundSize = function calculateBackgroundSize(backgroundImage, image, bounds) {\n    var width = 0;\n    var height = 0;\n    var size = backgroundImage.size;\n    if (size[0].size === BACKGROUND_SIZE.CONTAIN || size[0].size === BACKGROUND_SIZE.COVER) {\n        var targetRatio = bounds.width / bounds.height;\n        var currentRatio = image.width / image.height;\n        return targetRatio < currentRatio !== (size[0].size === BACKGROUND_SIZE.COVER) ? new _Size2.default(bounds.width, bounds.width / currentRatio) : new _Size2.default(bounds.height * currentRatio, bounds.height);\n    }\n\n    if (size[0].value) {\n        width = size[0].value.getAbsoluteValue(bounds.width);\n    }\n\n    if (size[0].size === BACKGROUND_SIZE.AUTO && size[1].size === BACKGROUND_SIZE.AUTO) {\n        height = image.height;\n    } else if (size[1].size === BACKGROUND_SIZE.AUTO) {\n        height = width / image.width * image.height;\n    } else if (size[1].value) {\n        height = size[1].value.getAbsoluteValue(bounds.height);\n    }\n\n    if (size[0].size === BACKGROUND_SIZE.AUTO) {\n        width = height / image.height * image.width;\n    }\n\n    return new _Size2.default(width, height);\n};\n\nvar calculateGradientBackgroundSize = exports.calculateGradientBackgroundSize = function calculateGradientBackgroundSize(backgroundImage, bounds) {\n    var size = backgroundImage.size;\n    var width = size[0].value ? size[0].value.getAbsoluteValue(bounds.width) : bounds.width;\n    var height = size[1].value ? size[1].value.getAbsoluteValue(bounds.height) : size[0].value ? width : bounds.height;\n\n    return new _Size2.default(width, height);\n};\n\nvar AUTO_SIZE = new BackgroundSize(AUTO);\n\nvar calculateBackgroungPaintingArea = exports.calculateBackgroungPaintingArea = function calculateBackgroungPaintingArea(curves, clip) {\n    switch (clip) {\n        case BACKGROUND_CLIP.BORDER_BOX:\n            return (0, _Bounds.calculateBorderBoxPath)(curves);\n        case BACKGROUND_CLIP.PADDING_BOX:\n        default:\n            return (0, _Bounds.calculatePaddingBoxPath)(curves);\n    }\n};\n\nvar calculateBackgroungPositioningArea = exports.calculateBackgroungPositioningArea = function calculateBackgroungPositioningArea(backgroundOrigin, bounds, padding, border) {\n    var paddingBox = (0, _Bounds.calculatePaddingBox)(bounds, border);\n\n    switch (backgroundOrigin) {\n        case BACKGROUND_ORIGIN.BORDER_BOX:\n            return bounds;\n        case BACKGROUND_ORIGIN.CONTENT_BOX:\n            var paddingLeft = padding[_padding.PADDING_SIDES.LEFT].getAbsoluteValue(bounds.width);\n            var paddingRight = padding[_padding.PADDING_SIDES.RIGHT].getAbsoluteValue(bounds.width);\n            var paddingTop = padding[_padding.PADDING_SIDES.TOP].getAbsoluteValue(bounds.width);\n            var paddingBottom = padding[_padding.PADDING_SIDES.BOTTOM].getAbsoluteValue(bounds.width);\n            return new _Bounds.Bounds(paddingBox.left + paddingLeft, paddingBox.top + paddingTop, paddingBox.width - paddingLeft - paddingRight, paddingBox.height - paddingTop - paddingBottom);\n        case BACKGROUND_ORIGIN.PADDING_BOX:\n        default:\n            return paddingBox;\n    }\n};\n\nvar calculateBackgroundPosition = exports.calculateBackgroundPosition = function calculateBackgroundPosition(position, size, bounds) {\n    return new _Vector2.default(position[0].getAbsoluteValue(bounds.width - size.width), position[1].getAbsoluteValue(bounds.height - size.height));\n};\n\nvar calculateBackgroundRepeatPath = exports.calculateBackgroundRepeatPath = function calculateBackgroundRepeatPath(background, position, size, backgroundPositioningArea, bounds) {\n    var repeat = background.repeat;\n    switch (repeat) {\n        case BACKGROUND_REPEAT.REPEAT_X:\n            return [new _Vector2.default(Math.round(bounds.left), Math.round(backgroundPositioningArea.top + position.y)), new _Vector2.default(Math.round(bounds.left + bounds.width), Math.round(backgroundPositioningArea.top + position.y)), new _Vector2.default(Math.round(bounds.left + bounds.width), Math.round(size.height + backgroundPositioningArea.top + position.y)), new _Vector2.default(Math.round(bounds.left), Math.round(size.height + backgroundPositioningArea.top + position.y))];\n        case BACKGROUND_REPEAT.REPEAT_Y:\n            return [new _Vector2.default(Math.round(backgroundPositioningArea.left + position.x), Math.round(bounds.top)), new _Vector2.default(Math.round(backgroundPositioningArea.left + position.x + size.width), Math.round(bounds.top)), new _Vector2.default(Math.round(backgroundPositioningArea.left + position.x + size.width), Math.round(bounds.height + bounds.top)), new _Vector2.default(Math.round(backgroundPositioningArea.left + position.x), Math.round(bounds.height + bounds.top))];\n        case BACKGROUND_REPEAT.NO_REPEAT:\n            return [new _Vector2.default(Math.round(backgroundPositioningArea.left + position.x), Math.round(backgroundPositioningArea.top + position.y)), new _Vector2.default(Math.round(backgroundPositioningArea.left + position.x + size.width), Math.round(backgroundPositioningArea.top + position.y)), new _Vector2.default(Math.round(backgroundPositioningArea.left + position.x + size.width), Math.round(backgroundPositioningArea.top + position.y + size.height)), new _Vector2.default(Math.round(backgroundPositioningArea.left + position.x), Math.round(backgroundPositioningArea.top + position.y + size.height))];\n        default:\n            return [new _Vector2.default(Math.round(bounds.left), Math.round(bounds.top)), new _Vector2.default(Math.round(bounds.left + bounds.width), Math.round(bounds.top)), new _Vector2.default(Math.round(bounds.left + bounds.width), Math.round(bounds.height + bounds.top)), new _Vector2.default(Math.round(bounds.left), Math.round(bounds.height + bounds.top))];\n    }\n};\n\nvar parseBackground = exports.parseBackground = function parseBackground(style, resourceLoader) {\n    return {\n        backgroundColor: new _Color2.default(style.backgroundColor),\n        backgroundImage: parseBackgroundImages(style, resourceLoader),\n        backgroundClip: parseBackgroundClip(style.backgroundClip),\n        backgroundOrigin: parseBackgroundOrigin(style.backgroundOrigin)\n    };\n};\n\nvar parseBackgroundClip = function parseBackgroundClip(backgroundClip) {\n    switch (backgroundClip) {\n        case 'padding-box':\n            return BACKGROUND_CLIP.PADDING_BOX;\n        case 'content-box':\n            return BACKGROUND_CLIP.CONTENT_BOX;\n    }\n    return BACKGROUND_CLIP.BORDER_BOX;\n};\n\nvar parseBackgroundOrigin = function parseBackgroundOrigin(backgroundOrigin) {\n    switch (backgroundOrigin) {\n        case 'padding-box':\n            return BACKGROUND_ORIGIN.PADDING_BOX;\n        case 'content-box':\n            return BACKGROUND_ORIGIN.CONTENT_BOX;\n    }\n    return BACKGROUND_ORIGIN.BORDER_BOX;\n};\n\nvar parseBackgroundRepeat = function parseBackgroundRepeat(backgroundRepeat) {\n    switch (backgroundRepeat.trim()) {\n        case 'no-repeat':\n            return BACKGROUND_REPEAT.NO_REPEAT;\n        case 'repeat-x':\n        case 'repeat no-repeat':\n            return BACKGROUND_REPEAT.REPEAT_X;\n        case 'repeat-y':\n        case 'no-repeat repeat':\n            return BACKGROUND_REPEAT.REPEAT_Y;\n        case 'repeat':\n            return BACKGROUND_REPEAT.REPEAT;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n        console.error('Invalid background-repeat value \"' + backgroundRepeat + '\"');\n    }\n\n    return BACKGROUND_REPEAT.REPEAT;\n};\n\nvar parseBackgroundImages = function parseBackgroundImages(style, resourceLoader) {\n    var sources = parseBackgroundImage(style.backgroundImage).map(function (backgroundImage) {\n        if (backgroundImage.method === 'url') {\n            var key = resourceLoader.loadImage(backgroundImage.args[0]);\n            backgroundImage.args = key ? [key] : [];\n        }\n        return backgroundImage;\n    });\n    var positions = style.backgroundPosition.split(',');\n    var repeats = style.backgroundRepeat.split(',');\n    var sizes = style.backgroundSize.split(',');\n\n    return sources.map(function (source, index) {\n        var size = (sizes[index] || AUTO).trim().split(' ').map(parseBackgroundSize);\n        var position = (positions[index] || AUTO).trim().split(' ').map(parseBackgoundPosition);\n\n        return {\n            source: source,\n            repeat: parseBackgroundRepeat(typeof repeats[index] === 'string' ? repeats[index] : repeats[0]),\n            size: size.length < 2 ? [size[0], AUTO_SIZE] : [size[0], size[1]],\n            position: position.length < 2 ? [position[0], position[0]] : [position[0], position[1]]\n        };\n    });\n};\n\nvar parseBackgroundSize = function parseBackgroundSize(size) {\n    return size === 'auto' ? AUTO_SIZE : new BackgroundSize(size);\n};\n\nvar parseBackgoundPosition = function parseBackgoundPosition(position) {\n    switch (position) {\n        case 'bottom':\n        case 'right':\n            return new _Length2.default('100%');\n        case 'left':\n        case 'top':\n            return new _Length2.default('0%');\n        case 'auto':\n            return new _Length2.default('0');\n    }\n    return new _Length2.default(position);\n};\n\nvar parseBackgroundImage = exports.parseBackgroundImage = function parseBackgroundImage(image) {\n    var whitespace = /^\\s$/;\n    var results = [];\n\n    var args = [];\n    var method = '';\n    var quote = null;\n    var definition = '';\n    var mode = 0;\n    var numParen = 0;\n\n    var appendResult = function appendResult() {\n        var prefix = '';\n        if (method) {\n            if (definition.substr(0, 1) === '\"') {\n                definition = definition.substr(1, definition.length - 2);\n            }\n\n            if (definition) {\n                args.push(definition.trim());\n            }\n\n            var prefix_i = method.indexOf('-', 1) + 1;\n            if (method.substr(0, 1) === '-' && prefix_i > 0) {\n                prefix = method.substr(0, prefix_i).toLowerCase();\n                method = method.substr(prefix_i);\n            }\n            method = method.toLowerCase();\n            if (method !== 'none') {\n                results.push({\n                    prefix: prefix,\n                    method: method,\n                    args: args\n                });\n            }\n        }\n        args = [];\n        method = definition = '';\n    };\n\n    image.split('').forEach(function (c) {\n        if (mode === 0 && whitespace.test(c)) {\n            return;\n        }\n        switch (c) {\n            case '\"':\n                if (!quote) {\n                    quote = c;\n                } else if (quote === c) {\n                    quote = null;\n                }\n                break;\n            case '(':\n                if (quote) {\n                    break;\n                } else if (mode === 0) {\n                    mode = 1;\n                    return;\n                } else {\n                    numParen++;\n                }\n                break;\n            case ')':\n                if (quote) {\n                    break;\n                } else if (mode === 1) {\n                    if (numParen === 0) {\n                        mode = 0;\n                        appendResult();\n                        return;\n                    } else {\n                        numParen--;\n                    }\n                }\n                break;\n\n            case ',':\n                if (quote) {\n                    break;\n                } else if (mode === 0) {\n                    appendResult();\n                    return;\n                } else if (mode === 1) {\n                    if (numParen === 0 && !method.match(/^url$/i)) {\n                        args.push(definition.trim());\n                        definition = '';\n                        return;\n                    }\n                }\n                break;\n        }\n\n        if (mode === 0) {\n            method += c;\n        } else {\n            definition += c;\n        }\n    });\n\n    appendResult();\n    return results;\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar PATH = exports.PATH = {\n    VECTOR: 0,\n    BEZIER_CURVE: 1,\n    CIRCLE: 2\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Path = require('./Path');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Vector = function Vector(x, y) {\n    _classCallCheck(this, Vector);\n\n    this.type = _Path.PATH.VECTOR;\n    this.x = x;\n    this.y = y;\n    if (process.env.NODE_ENV !== 'production') {\n        if (isNaN(x)) {\n            console.error('Invalid x value given for Vector');\n        }\n        if (isNaN(y)) {\n            console.error('Invalid y value given for Vector');\n        }\n    }\n};\n\nexports.default = Vector;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parseListStyle = exports.parseListStyleType = exports.LIST_STYLE_TYPE = exports.LIST_STYLE_POSITION = undefined;\n\nvar _background = require('./background');\n\nvar LIST_STYLE_POSITION = exports.LIST_STYLE_POSITION = {\n    INSIDE: 0,\n    OUTSIDE: 1\n};\n\nvar LIST_STYLE_TYPE = exports.LIST_STYLE_TYPE = {\n    NONE: -1,\n    DISC: 0,\n    CIRCLE: 1,\n    SQUARE: 2,\n    DECIMAL: 3,\n    CJK_DECIMAL: 4,\n    DECIMAL_LEADING_ZERO: 5,\n    LOWER_ROMAN: 6,\n    UPPER_ROMAN: 7,\n    LOWER_GREEK: 8,\n    LOWER_ALPHA: 9,\n    UPPER_ALPHA: 10,\n    ARABIC_INDIC: 11,\n    ARMENIAN: 12,\n    BENGALI: 13,\n    CAMBODIAN: 14,\n    CJK_EARTHLY_BRANCH: 15,\n    CJK_HEAVENLY_STEM: 16,\n    CJK_IDEOGRAPHIC: 17,\n    DEVANAGARI: 18,\n    ETHIOPIC_NUMERIC: 19,\n    GEORGIAN: 20,\n    GUJARATI: 21,\n    GURMUKHI: 22,\n    HEBREW: 22,\n    HIRAGANA: 23,\n    HIRAGANA_IROHA: 24,\n    JAPANESE_FORMAL: 25,\n    JAPANESE_INFORMAL: 26,\n    KANNADA: 27,\n    KATAKANA: 28,\n    KATAKANA_IROHA: 29,\n    KHMER: 30,\n    KOREAN_HANGUL_FORMAL: 31,\n    KOREAN_HANJA_FORMAL: 32,\n    KOREAN_HANJA_INFORMAL: 33,\n    LAO: 34,\n    LOWER_ARMENIAN: 35,\n    MALAYALAM: 36,\n    MONGOLIAN: 37,\n    MYANMAR: 38,\n    ORIYA: 39,\n    PERSIAN: 40,\n    SIMP_CHINESE_FORMAL: 41,\n    SIMP_CHINESE_INFORMAL: 42,\n    TAMIL: 43,\n    TELUGU: 44,\n    THAI: 45,\n    TIBETAN: 46,\n    TRAD_CHINESE_FORMAL: 47,\n    TRAD_CHINESE_INFORMAL: 48,\n    UPPER_ARMENIAN: 49,\n    DISCLOSURE_OPEN: 50,\n    DISCLOSURE_CLOSED: 51\n};\n\nvar parseListStyleType = exports.parseListStyleType = function parseListStyleType(type) {\n    switch (type) {\n        case 'disc':\n            return LIST_STYLE_TYPE.DISC;\n        case 'circle':\n            return LIST_STYLE_TYPE.CIRCLE;\n        case 'square':\n            return LIST_STYLE_TYPE.SQUARE;\n        case 'decimal':\n            return LIST_STYLE_TYPE.DECIMAL;\n        case 'cjk-decimal':\n            return LIST_STYLE_TYPE.CJK_DECIMAL;\n        case 'decimal-leading-zero':\n            return LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO;\n        case 'lower-roman':\n            return LIST_STYLE_TYPE.LOWER_ROMAN;\n        case 'upper-roman':\n            return LIST_STYLE_TYPE.UPPER_ROMAN;\n        case 'lower-greek':\n            return LIST_STYLE_TYPE.LOWER_GREEK;\n        case 'lower-alpha':\n            return LIST_STYLE_TYPE.LOWER_ALPHA;\n        case 'upper-alpha':\n            return LIST_STYLE_TYPE.UPPER_ALPHA;\n        case 'arabic-indic':\n            return LIST_STYLE_TYPE.ARABIC_INDIC;\n        case 'armenian':\n            return LIST_STYLE_TYPE.ARMENIAN;\n        case 'bengali':\n            return LIST_STYLE_TYPE.BENGALI;\n        case 'cambodian':\n            return LIST_STYLE_TYPE.CAMBODIAN;\n        case 'cjk-earthly-branch':\n            return LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH;\n        case 'cjk-heavenly-stem':\n            return LIST_STYLE_TYPE.CJK_HEAVENLY_STEM;\n        case 'cjk-ideographic':\n            return LIST_STYLE_TYPE.CJK_IDEOGRAPHIC;\n        case 'devanagari':\n            return LIST_STYLE_TYPE.DEVANAGARI;\n        case 'ethiopic-numeric':\n            return LIST_STYLE_TYPE.ETHIOPIC_NUMERIC;\n        case 'georgian':\n            return LIST_STYLE_TYPE.GEORGIAN;\n        case 'gujarati':\n            return LIST_STYLE_TYPE.GUJARATI;\n        case 'gurmukhi':\n            return LIST_STYLE_TYPE.GURMUKHI;\n        case 'hebrew':\n            return LIST_STYLE_TYPE.HEBREW;\n        case 'hiragana':\n            return LIST_STYLE_TYPE.HIRAGANA;\n        case 'hiragana-iroha':\n            return LIST_STYLE_TYPE.HIRAGANA_IROHA;\n        case 'japanese-formal':\n            return LIST_STYLE_TYPE.JAPANESE_FORMAL;\n        case 'japanese-informal':\n            return LIST_STYLE_TYPE.JAPANESE_INFORMAL;\n        case 'kannada':\n            return LIST_STYLE_TYPE.KANNADA;\n        case 'katakana':\n            return LIST_STYLE_TYPE.KATAKANA;\n        case 'katakana-iroha':\n            return LIST_STYLE_TYPE.KATAKANA_IROHA;\n        case 'khmer':\n            return LIST_STYLE_TYPE.KHMER;\n        case 'korean-hangul-formal':\n            return LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL;\n        case 'korean-hanja-formal':\n            return LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL;\n        case 'korean-hanja-informal':\n            return LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL;\n        case 'lao':\n            return LIST_STYLE_TYPE.LAO;\n        case 'lower-armenian':\n            return LIST_STYLE_TYPE.LOWER_ARMENIAN;\n        case 'malayalam':\n            return LIST_STYLE_TYPE.MALAYALAM;\n        case 'mongolian':\n            return LIST_STYLE_TYPE.MONGOLIAN;\n        case 'myanmar':\n            return LIST_STYLE_TYPE.MYANMAR;\n        case 'oriya':\n            return LIST_STYLE_TYPE.ORIYA;\n        case 'persian':\n            return LIST_STYLE_TYPE.PERSIAN;\n        case 'simp-chinese-formal':\n            return LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL;\n        case 'simp-chinese-informal':\n            return LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL;\n        case 'tamil':\n            return LIST_STYLE_TYPE.TAMIL;\n        case 'telugu':\n            return LIST_STYLE_TYPE.TELUGU;\n        case 'thai':\n            return LIST_STYLE_TYPE.THAI;\n        case 'tibetan':\n            return LIST_STYLE_TYPE.TIBETAN;\n        case 'trad-chinese-formal':\n            return LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL;\n        case 'trad-chinese-informal':\n            return LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL;\n        case 'upper-armenian':\n            return LIST_STYLE_TYPE.UPPER_ARMENIAN;\n        case 'disclosure-open':\n            return LIST_STYLE_TYPE.DISCLOSURE_OPEN;\n        case 'disclosure-closed':\n            return LIST_STYLE_TYPE.DISCLOSURE_CLOSED;\n        case 'none':\n        default:\n            return LIST_STYLE_TYPE.NONE;\n    }\n};\n\nvar parseListStyle = exports.parseListStyle = function parseListStyle(style) {\n    var listStyleImage = (0, _background.parseBackgroundImage)(style.getPropertyValue('list-style-image'));\n    return {\n        listStyleType: parseListStyleType(style.getPropertyValue('list-style-type')),\n        listStyleImage: listStyleImage.length ? listStyleImage[0] : null,\n        listStylePosition: parseListStylePosition(style.getPropertyValue('list-style-position'))\n    };\n};\n\nvar parseListStylePosition = function parseListStylePosition(position) {\n    switch (position) {\n        case 'inside':\n            return LIST_STYLE_POSITION.INSIDE;\n        case 'outside':\n        default:\n            return LIST_STYLE_POSITION.OUTSIDE;\n    }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _textTransform = require('./parsing/textTransform');\n\nvar _TextBounds = require('./TextBounds');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TextContainer = function () {\n    function TextContainer(text, parent, bounds) {\n        _classCallCheck(this, TextContainer);\n\n        this.text = text;\n        this.parent = parent;\n        this.bounds = bounds;\n    }\n\n    _createClass(TextContainer, null, [{\n        key: 'fromTextNode',\n        value: function fromTextNode(node, parent) {\n            var text = transform(node.data, parent.style.textTransform);\n            return new TextContainer(text, parent, (0, _TextBounds.parseTextBounds)(text, parent, node));\n        }\n    }]);\n\n    return TextContainer;\n}();\n\nexports.default = TextContainer;\n\n\nvar CAPITALIZE = /(^|\\s|:|-|\\(|\\))([a-z])/g;\n\nvar transform = function transform(text, _transform) {\n    switch (_transform) {\n        case _textTransform.TEXT_TRANSFORM.LOWERCASE:\n            return text.toLowerCase();\n        case _textTransform.TEXT_TRANSFORM.CAPITALIZE:\n            return text.replace(CAPITALIZE, capitalize);\n        case _textTransform.TEXT_TRANSFORM.UPPERCASE:\n            return text.toUpperCase();\n        default:\n            return text;\n    }\n};\n\nfunction capitalize(m, p1, p2) {\n    if (m.length > 0) {\n        return p1 + p2.toUpperCase();\n    }\n\n    return m;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _ForeignObjectRenderer = require('./renderer/ForeignObjectRenderer');\n\nvar testRangeBounds = function testRangeBounds(document) {\n    var TEST_HEIGHT = 123;\n\n    if (document.createRange) {\n        var range = document.createRange();\n        if (range.getBoundingClientRect) {\n            var testElement = document.createElement('boundtest');\n            testElement.style.height = TEST_HEIGHT + 'px';\n            testElement.style.display = 'block';\n            document.body.appendChild(testElement);\n\n            range.selectNode(testElement);\n            var rangeBounds = range.getBoundingClientRect();\n            var rangeHeight = Math.round(rangeBounds.height);\n            document.body.removeChild(testElement);\n            if (rangeHeight === TEST_HEIGHT) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n};\n\n// iOS 10.3 taints canvas with base64 images unless crossOrigin = 'anonymous'\nvar testBase64 = function testBase64(document, src) {\n    var img = new Image();\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext('2d');\n\n    return new Promise(function (resolve) {\n        // Single pixel base64 image renders fine on iOS 10.3???\n        img.src = src;\n\n        var onload = function onload() {\n            try {\n                ctx.drawImage(img, 0, 0);\n                canvas.toDataURL();\n            } catch (e) {\n                return resolve(false);\n            }\n\n            return resolve(true);\n        };\n\n        img.onload = onload;\n        img.onerror = function () {\n            return resolve(false);\n        };\n\n        if (img.complete === true) {\n            setTimeout(function () {\n                onload();\n            }, 500);\n        }\n    });\n};\n\nvar testCORS = function testCORS() {\n    return typeof new Image().crossOrigin !== 'undefined';\n};\n\nvar testResponseType = function testResponseType() {\n    return typeof new XMLHttpRequest().responseType === 'string';\n};\n\nvar testSVG = function testSVG(document) {\n    var img = new Image();\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext('2d');\n    img.src = 'data:image/svg+xml,<svg xmlns=\\'http://www.w3.org/2000/svg\\'></svg>';\n\n    try {\n        ctx.drawImage(img, 0, 0);\n        canvas.toDataURL();\n    } catch (e) {\n        return false;\n    }\n    return true;\n};\n\nvar isGreenPixel = function isGreenPixel(data) {\n    return data[0] === 0 && data[1] === 255 && data[2] === 0 && data[3] === 255;\n};\n\nvar testForeignObject = function testForeignObject(document) {\n    var canvas = document.createElement('canvas');\n    var size = 100;\n    canvas.width = size;\n    canvas.height = size;\n    var ctx = canvas.getContext('2d');\n    ctx.fillStyle = 'rgb(0, 255, 0)';\n    ctx.fillRect(0, 0, size, size);\n\n    var img = new Image();\n    var greenImageSrc = canvas.toDataURL();\n    img.src = greenImageSrc;\n    var svg = (0, _ForeignObjectRenderer.createForeignObjectSVG)(size, size, 0, 0, img);\n    ctx.fillStyle = 'red';\n    ctx.fillRect(0, 0, size, size);\n\n    return (0, _ForeignObjectRenderer.loadSerializedSVG)(svg).then(function (img) {\n        ctx.drawImage(img, 0, 0);\n        var data = ctx.getImageData(0, 0, size, size).data;\n        ctx.fillStyle = 'red';\n        ctx.fillRect(0, 0, size, size);\n\n        var node = document.createElement('div');\n        node.style.backgroundImage = 'url(' + greenImageSrc + ')';\n        node.style.height = size + 'px';\n        // Firefox 55 does not render inline <img /> tags\n        return isGreenPixel(data) ? (0, _ForeignObjectRenderer.loadSerializedSVG)((0, _ForeignObjectRenderer.createForeignObjectSVG)(size, size, 0, 0, node)) : Promise.reject(false);\n    }).then(function (img) {\n        ctx.drawImage(img, 0, 0);\n        // Edge does not render background-images\n        return isGreenPixel(ctx.getImageData(0, 0, size, size).data);\n    }).catch(function (e) {\n        return false;\n    });\n};\n\nvar FEATURES = {\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_RANGE_BOUNDS() {\n        'use strict';\n\n        var value = testRangeBounds(document);\n        Object.defineProperty(FEATURES, 'SUPPORT_RANGE_BOUNDS', { value: value });\n        return value;\n    },\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_SVG_DRAWING() {\n        'use strict';\n\n        var value = testSVG(document);\n        Object.defineProperty(FEATURES, 'SUPPORT_SVG_DRAWING', { value: value });\n        return value;\n    },\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_BASE64_DRAWING() {\n        'use strict';\n\n        return function (src) {\n            var _value = testBase64(document, src);\n            Object.defineProperty(FEATURES, 'SUPPORT_BASE64_DRAWING', { value: function value() {\n                    return _value;\n                } });\n            return _value;\n        };\n    },\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_FOREIGNOBJECT_DRAWING() {\n        'use strict';\n\n        var value = typeof Array.from === 'function' && typeof window.fetch === 'function' ? testForeignObject(document) : Promise.resolve(false);\n        Object.defineProperty(FEATURES, 'SUPPORT_FOREIGNOBJECT_DRAWING', { value: value });\n        return value;\n    },\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_CORS_IMAGES() {\n        'use strict';\n\n        var value = testCORS();\n        Object.defineProperty(FEATURES, 'SUPPORT_CORS_IMAGES', { value: value });\n        return value;\n    },\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_RESPONSE_TYPE() {\n        'use strict';\n\n        var value = testResponseType();\n        Object.defineProperty(FEATURES, 'SUPPORT_RESPONSE_TYPE', { value: value });\n        return value;\n    },\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_CORS_XHR() {\n        'use strict';\n\n        var value = 'withCredentials' in new XMLHttpRequest();\n        Object.defineProperty(FEATURES, 'SUPPORT_CORS_XHR', { value: value });\n        return value;\n    }\n};\n\nexports.default = FEATURES;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parseTextDecoration = exports.TEXT_DECORATION_LINE = exports.TEXT_DECORATION = exports.TEXT_DECORATION_STYLE = undefined;\n\nvar _Color = require('../Color');\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TEXT_DECORATION_STYLE = exports.TEXT_DECORATION_STYLE = {\n    SOLID: 0,\n    DOUBLE: 1,\n    DOTTED: 2,\n    DASHED: 3,\n    WAVY: 4\n};\n\nvar TEXT_DECORATION = exports.TEXT_DECORATION = {\n    NONE: null\n};\n\nvar TEXT_DECORATION_LINE = exports.TEXT_DECORATION_LINE = {\n    UNDERLINE: 1,\n    OVERLINE: 2,\n    LINE_THROUGH: 3,\n    BLINK: 4\n};\n\nvar parseLine = function parseLine(line) {\n    switch (line) {\n        case 'underline':\n            return TEXT_DECORATION_LINE.UNDERLINE;\n        case 'overline':\n            return TEXT_DECORATION_LINE.OVERLINE;\n        case 'line-through':\n            return TEXT_DECORATION_LINE.LINE_THROUGH;\n    }\n    return TEXT_DECORATION_LINE.BLINK;\n};\n\nvar parseTextDecorationLine = function parseTextDecorationLine(line) {\n    if (line === 'none') {\n        return null;\n    }\n\n    return line.split(' ').map(parseLine);\n};\n\nvar parseTextDecorationStyle = function parseTextDecorationStyle(style) {\n    switch (style) {\n        case 'double':\n            return TEXT_DECORATION_STYLE.DOUBLE;\n        case 'dotted':\n            return TEXT_DECORATION_STYLE.DOTTED;\n        case 'dashed':\n            return TEXT_DECORATION_STYLE.DASHED;\n        case 'wavy':\n            return TEXT_DECORATION_STYLE.WAVY;\n    }\n    return TEXT_DECORATION_STYLE.SOLID;\n};\n\nvar parseTextDecoration = exports.parseTextDecoration = function parseTextDecoration(style) {\n    var textDecorationLine = parseTextDecorationLine(style.textDecorationLine ? style.textDecorationLine : style.textDecoration);\n    if (textDecorationLine === null) {\n        return TEXT_DECORATION.NONE;\n    }\n\n    var textDecorationColor = style.textDecorationColor ? new _Color2.default(style.textDecorationColor) : null;\n    var textDecorationStyle = parseTextDecorationStyle(style.textDecorationStyle);\n\n    return {\n        textDecorationLine: textDecorationLine,\n        textDecorationColor: textDecorationColor,\n        textDecorationStyle: textDecorationStyle\n    };\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parseBorder = exports.BORDER_SIDES = exports.BORDER_STYLE = undefined;\n\nvar _Color = require('../Color');\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar BORDER_STYLE = exports.BORDER_STYLE = {\n    NONE: 0,\n    SOLID: 1\n};\n\nvar BORDER_SIDES = exports.BORDER_SIDES = {\n    TOP: 0,\n    RIGHT: 1,\n    BOTTOM: 2,\n    LEFT: 3\n};\n\nvar SIDES = Object.keys(BORDER_SIDES).map(function (s) {\n    return s.toLowerCase();\n});\n\nvar parseBorderStyle = function parseBorderStyle(style) {\n    switch (style) {\n        case 'none':\n            return BORDER_STYLE.NONE;\n    }\n    return BORDER_STYLE.SOLID;\n};\n\nvar parseBorder = exports.parseBorder = function parseBorder(style) {\n    return SIDES.map(function (side) {\n        var borderColor = new _Color2.default(style.getPropertyValue('border-' + side + '-color'));\n        var borderStyle = parseBorderStyle(style.getPropertyValue('border-' + side + '-style'));\n        var borderWidth = parseFloat(style.getPropertyValue('border-' + side + '-width'));\n        return {\n            borderColor: borderColor,\n            borderStyle: borderStyle,\n            borderWidth: isNaN(borderWidth) ? 0 : borderWidth\n        };\n    });\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar toCodePoints = exports.toCodePoints = function toCodePoints(str) {\n    var codePoints = [];\n    var i = 0;\n    var length = str.length;\n    while (i < length) {\n        var value = str.charCodeAt(i++);\n        if (value >= 0xd800 && value <= 0xdbff && i < length) {\n            var extra = str.charCodeAt(i++);\n            if ((extra & 0xfc00) === 0xdc00) {\n                codePoints.push(((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000);\n            } else {\n                codePoints.push(value);\n                i--;\n            }\n        } else {\n            codePoints.push(value);\n        }\n    }\n    return codePoints;\n};\n\nvar fromCodePoint = exports.fromCodePoint = function fromCodePoint() {\n    if (String.fromCodePoint) {\n        return String.fromCodePoint.apply(String, arguments);\n    }\n\n    var length = arguments.length;\n    if (!length) {\n        return '';\n    }\n\n    var codeUnits = [];\n\n    var index = -1;\n    var result = '';\n    while (++index < length) {\n        var codePoint = arguments.length <= index ? undefined : arguments[index];\n        if (codePoint <= 0xffff) {\n            codeUnits.push(codePoint);\n        } else {\n            codePoint -= 0x10000;\n            codeUnits.push((codePoint >> 10) + 0xd800, codePoint % 0x400 + 0xdc00);\n        }\n        if (index + 1 === length || codeUnits.length > 0x4000) {\n            result += String.fromCharCode.apply(String, codeUnits);\n            codeUnits.length = 0;\n        }\n    }\n    return result;\n};\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n// Use a lookup table to find the index.\nvar lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (var i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\n\nvar decode = exports.decode = function decode(base64) {\n    var bufferLength = base64.length * 0.75,\n        len = base64.length,\n        i = void 0,\n        p = 0,\n        encoded1 = void 0,\n        encoded2 = void 0,\n        encoded3 = void 0,\n        encoded4 = void 0;\n\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    var buffer = typeof ArrayBuffer !== 'undefined' && typeof Uint8Array !== 'undefined' && typeof Uint8Array.prototype.slice !== 'undefined' ? new ArrayBuffer(bufferLength) : new Array(bufferLength);\n    var bytes = Array.isArray(buffer) ? buffer : new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n        bytes[p++] = encoded1 << 2 | encoded2 >> 4;\n        bytes[p++] = (encoded2 & 15) << 4 | encoded3 >> 2;\n        bytes[p++] = (encoded3 & 3) << 6 | encoded4 & 63;\n    }\n\n    return buffer;\n};\n\nvar polyUint16Array = exports.polyUint16Array = function polyUint16Array(buffer) {\n    var length = buffer.length;\n    var bytes = [];\n    for (var _i = 0; _i < length; _i += 2) {\n        bytes.push(buffer[_i + 1] << 8 | buffer[_i]);\n    }\n    return bytes;\n};\n\nvar polyUint32Array = exports.polyUint32Array = function polyUint32Array(buffer) {\n    var length = buffer.length;\n    var bytes = [];\n    for (var _i2 = 0; _i2 < length; _i2 += 4) {\n        bytes.push(buffer[_i2 + 3] << 24 | buffer[_i2 + 2] << 16 | buffer[_i2 + 1] << 8 | buffer[_i2]);\n    }\n    return bytes;\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.createCounterText = exports.inlineListItemElement = exports.getListOwner = undefined;\n\nvar _Util = require('./Util');\n\nvar _NodeContainer = require('./NodeContainer');\n\nvar _NodeContainer2 = _interopRequireDefault(_NodeContainer);\n\nvar _TextContainer = require('./TextContainer');\n\nvar _TextContainer2 = _interopRequireDefault(_TextContainer);\n\nvar _listStyle = require('./parsing/listStyle');\n\nvar _Unicode = require('./Unicode');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Margin between the enumeration and the list item content\nvar MARGIN_RIGHT = 7;\n\nvar ancestorTypes = ['OL', 'UL', 'MENU'];\n\nvar getListOwner = exports.getListOwner = function getListOwner(container) {\n    var parent = container.parent;\n    if (!parent) {\n        return null;\n    }\n\n    do {\n        var isAncestor = ancestorTypes.indexOf(parent.tagName) !== -1;\n        if (isAncestor) {\n            return parent;\n        }\n        parent = parent.parent;\n    } while (parent);\n\n    return container.parent;\n};\n\nvar inlineListItemElement = exports.inlineListItemElement = function inlineListItemElement(node, container, resourceLoader) {\n    var listStyle = container.style.listStyle;\n\n    if (!listStyle) {\n        return;\n    }\n\n    var style = node.ownerDocument.defaultView.getComputedStyle(node, null);\n    var wrapper = node.ownerDocument.createElement('html2canvaswrapper');\n    (0, _Util.copyCSSStyles)(style, wrapper);\n\n    wrapper.style.position = 'absolute';\n    wrapper.style.bottom = 'auto';\n    wrapper.style.display = 'block';\n    wrapper.style.letterSpacing = 'normal';\n\n    switch (listStyle.listStylePosition) {\n        case _listStyle.LIST_STYLE_POSITION.OUTSIDE:\n            wrapper.style.left = 'auto';\n            wrapper.style.right = node.ownerDocument.defaultView.innerWidth - container.bounds.left - container.style.margin[1].getAbsoluteValue(container.bounds.width) + MARGIN_RIGHT + 'px';\n            wrapper.style.textAlign = 'right';\n            break;\n        case _listStyle.LIST_STYLE_POSITION.INSIDE:\n            wrapper.style.left = container.bounds.left - container.style.margin[3].getAbsoluteValue(container.bounds.width) + 'px';\n            wrapper.style.right = 'auto';\n            wrapper.style.textAlign = 'left';\n            break;\n    }\n\n    var text = void 0;\n    var MARGIN_TOP = container.style.margin[0].getAbsoluteValue(container.bounds.width);\n    var styleImage = listStyle.listStyleImage;\n    if (styleImage) {\n        if (styleImage.method === 'url') {\n            var image = node.ownerDocument.createElement('img');\n            image.src = styleImage.args[0];\n            wrapper.style.top = container.bounds.top - MARGIN_TOP + 'px';\n            wrapper.style.width = 'auto';\n            wrapper.style.height = 'auto';\n            wrapper.appendChild(image);\n        } else {\n            var size = parseFloat(container.style.font.fontSize) * 0.5;\n            wrapper.style.top = container.bounds.top - MARGIN_TOP + container.bounds.height - 1.5 * size + 'px';\n            wrapper.style.width = size + 'px';\n            wrapper.style.height = size + 'px';\n            wrapper.style.backgroundImage = style.listStyleImage;\n        }\n    } else if (typeof container.listIndex === 'number') {\n        text = node.ownerDocument.createTextNode(createCounterText(container.listIndex, listStyle.listStyleType, true));\n        wrapper.appendChild(text);\n        wrapper.style.top = container.bounds.top - MARGIN_TOP + 'px';\n    }\n\n    // $FlowFixMe\n    var body = node.ownerDocument.body;\n    body.appendChild(wrapper);\n\n    if (text) {\n        container.childNodes.push(_TextContainer2.default.fromTextNode(text, container));\n        body.removeChild(wrapper);\n    } else {\n        // $FlowFixMe\n        container.childNodes.push(new _NodeContainer2.default(wrapper, container, resourceLoader, 0));\n    }\n};\n\nvar ROMAN_UPPER = {\n    integers: [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1],\n    values: ['M', 'CM', 'D', 'CD', 'C', 'XC', 'L', 'XL', 'X', 'IX', 'V', 'IV', 'I']\n};\n\nvar ARMENIAN = {\n    integers: [9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 900, 800, 700, 600, 500, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1],\n    values: ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '']\n};\n\nvar HEBREW = {\n    integers: [10000, 9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 19, 18, 17, 16, 15, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1],\n    values: ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '']\n};\n\nvar GEORGIAN = {\n    integers: [10000, 9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 900, 800, 700, 600, 500, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1],\n    values: ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '']\n};\n\nvar createAdditiveCounter = function createAdditiveCounter(value, min, max, symbols, fallback, suffix) {\n    if (value < min || value > max) {\n        return createCounterText(value, fallback, suffix.length > 0);\n    }\n\n    return symbols.integers.reduce(function (string, integer, index) {\n        while (value >= integer) {\n            value -= integer;\n            string += symbols.values[index];\n        }\n        return string;\n    }, '') + suffix;\n};\n\nvar createCounterStyleWithSymbolResolver = function createCounterStyleWithSymbolResolver(value, codePointRangeLength, isNumeric, resolver) {\n    var string = '';\n\n    do {\n        if (!isNumeric) {\n            value--;\n        }\n        string = resolver(value) + string;\n        value /= codePointRangeLength;\n    } while (value * codePointRangeLength >= codePointRangeLength);\n\n    return string;\n};\n\nvar createCounterStyleFromRange = function createCounterStyleFromRange(value, codePointRangeStart, codePointRangeEnd, isNumeric, suffix) {\n    var codePointRangeLength = codePointRangeEnd - codePointRangeStart + 1;\n\n    return (value < 0 ? '-' : '') + (createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, isNumeric, function (codePoint) {\n        return (0, _Unicode.fromCodePoint)(Math.floor(codePoint % codePointRangeLength) + codePointRangeStart);\n    }) + suffix);\n};\n\nvar createCounterStyleFromSymbols = function createCounterStyleFromSymbols(value, symbols) {\n    var suffix = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '. ';\n\n    var codePointRangeLength = symbols.length;\n    return createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, false, function (codePoint) {\n        return symbols[Math.floor(codePoint % codePointRangeLength)];\n    }) + suffix;\n};\n\nvar CJK_ZEROS = 1 << 0;\nvar CJK_TEN_COEFFICIENTS = 1 << 1;\nvar CJK_TEN_HIGH_COEFFICIENTS = 1 << 2;\nvar CJK_HUNDRED_COEFFICIENTS = 1 << 3;\n\nvar createCJKCounter = function createCJKCounter(value, numbers, multipliers, negativeSign, suffix, flags) {\n    if (value < -9999 || value > 9999) {\n        return createCounterText(value, _listStyle.LIST_STYLE_TYPE.CJK_DECIMAL, suffix.length > 0);\n    }\n    var tmp = Math.abs(value);\n    var string = suffix;\n\n    if (tmp === 0) {\n        return numbers[0] + string;\n    }\n\n    for (var digit = 0; tmp > 0 && digit <= 4; digit++) {\n        var coefficient = tmp % 10;\n\n        if (coefficient === 0 && (0, _Util.contains)(flags, CJK_ZEROS) && string !== '') {\n            string = numbers[coefficient] + string;\n        } else if (coefficient > 1 || coefficient === 1 && digit === 0 || coefficient === 1 && digit === 1 && (0, _Util.contains)(flags, CJK_TEN_COEFFICIENTS) || coefficient === 1 && digit === 1 && (0, _Util.contains)(flags, CJK_TEN_HIGH_COEFFICIENTS) && value > 100 || coefficient === 1 && digit > 1 && (0, _Util.contains)(flags, CJK_HUNDRED_COEFFICIENTS)) {\n            string = numbers[coefficient] + (digit > 0 ? multipliers[digit - 1] : '') + string;\n        } else if (coefficient === 1 && digit > 0) {\n            string = multipliers[digit - 1] + string;\n        }\n        tmp = Math.floor(tmp / 10);\n    }\n\n    return (value < 0 ? negativeSign : '') + string;\n};\n\nvar CHINESE_INFORMAL_MULTIPLIERS = '';\nvar CHINESE_FORMAL_MULTIPLIERS = '';\nvar JAPANESE_NEGATIVE = '';\nvar KOREAN_NEGATIVE = ' ';\n\nvar createCounterText = exports.createCounterText = function createCounterText(value, type, appendSuffix) {\n    var defaultSuffix = appendSuffix ? '. ' : '';\n    var cjkSuffix = appendSuffix ? '' : '';\n    var koreanSuffix = appendSuffix ? ', ' : '';\n    switch (type) {\n        case _listStyle.LIST_STYLE_TYPE.DISC:\n            return '';\n        case _listStyle.LIST_STYLE_TYPE.CIRCLE:\n            return '';\n        case _listStyle.LIST_STYLE_TYPE.SQUARE:\n            return '';\n        case _listStyle.LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO:\n            var string = createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\n            return string.length < 4 ? '0' + string : string;\n        case _listStyle.LIST_STYLE_TYPE.CJK_DECIMAL:\n            return createCounterStyleFromSymbols(value, '', cjkSuffix);\n        case _listStyle.LIST_STYLE_TYPE.LOWER_ROMAN:\n            return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, _listStyle.LIST_STYLE_TYPE.DECIMAL, defaultSuffix).toLowerCase();\n        case _listStyle.LIST_STYLE_TYPE.UPPER_ROMAN:\n            return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, _listStyle.LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.LOWER_GREEK:\n            return createCounterStyleFromRange(value, 945, 969, false, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.LOWER_ALPHA:\n            return createCounterStyleFromRange(value, 97, 122, false, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.UPPER_ALPHA:\n            return createCounterStyleFromRange(value, 65, 90, false, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.ARABIC_INDIC:\n            return createCounterStyleFromRange(value, 1632, 1641, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.ARMENIAN:\n        case _listStyle.LIST_STYLE_TYPE.UPPER_ARMENIAN:\n            return createAdditiveCounter(value, 1, 9999, ARMENIAN, _listStyle.LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.LOWER_ARMENIAN:\n            return createAdditiveCounter(value, 1, 9999, ARMENIAN, _listStyle.LIST_STYLE_TYPE.DECIMAL, defaultSuffix).toLowerCase();\n        case _listStyle.LIST_STYLE_TYPE.BENGALI:\n            return createCounterStyleFromRange(value, 2534, 2543, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.CAMBODIAN:\n        case _listStyle.LIST_STYLE_TYPE.KHMER:\n            return createCounterStyleFromRange(value, 6112, 6121, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH:\n            return createCounterStyleFromSymbols(value, '', cjkSuffix);\n        case _listStyle.LIST_STYLE_TYPE.CJK_HEAVENLY_STEM:\n            return createCounterStyleFromSymbols(value, '', cjkSuffix);\n        case _listStyle.LIST_STYLE_TYPE.CJK_IDEOGRAPHIC:\n        case _listStyle.LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL:\n            return createCJKCounter(value, '', CHINESE_INFORMAL_MULTIPLIERS, '', cjkSuffix, CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\n        case _listStyle.LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL:\n            return createCJKCounter(value, '', CHINESE_FORMAL_MULTIPLIERS, '', cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\n        case _listStyle.LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL:\n            return createCJKCounter(value, '', CHINESE_INFORMAL_MULTIPLIERS, '', cjkSuffix, CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\n        case _listStyle.LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL:\n            return createCJKCounter(value, '', CHINESE_FORMAL_MULTIPLIERS, '', cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\n        case _listStyle.LIST_STYLE_TYPE.JAPANESE_INFORMAL:\n            return createCJKCounter(value, '', '', JAPANESE_NEGATIVE, cjkSuffix, 0);\n        case _listStyle.LIST_STYLE_TYPE.JAPANESE_FORMAL:\n            return createCJKCounter(value, '', '', JAPANESE_NEGATIVE, cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\n        case _listStyle.LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL:\n            return createCJKCounter(value, '', '', KOREAN_NEGATIVE, koreanSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\n        case _listStyle.LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL:\n            return createCJKCounter(value, '', '', KOREAN_NEGATIVE, koreanSuffix, 0);\n        case _listStyle.LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL:\n            return createCJKCounter(value, '', '', KOREAN_NEGATIVE, koreanSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\n        case _listStyle.LIST_STYLE_TYPE.DEVANAGARI:\n            return createCounterStyleFromRange(value, 0x966, 0x96f, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.GEORGIAN:\n            return createAdditiveCounter(value, 1, 19999, GEORGIAN, _listStyle.LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.GUJARATI:\n            return createCounterStyleFromRange(value, 0xae6, 0xaef, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.GURMUKHI:\n            return createCounterStyleFromRange(value, 0xa66, 0xa6f, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.HEBREW:\n            return createAdditiveCounter(value, 1, 10999, HEBREW, _listStyle.LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.HIRAGANA:\n            return createCounterStyleFromSymbols(value, '');\n        case _listStyle.LIST_STYLE_TYPE.HIRAGANA_IROHA:\n            return createCounterStyleFromSymbols(value, '');\n        case _listStyle.LIST_STYLE_TYPE.KANNADA:\n            return createCounterStyleFromRange(value, 0xce6, 0xcef, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.KATAKANA:\n            return createCounterStyleFromSymbols(value, '', cjkSuffix);\n        case _listStyle.LIST_STYLE_TYPE.KATAKANA_IROHA:\n            return createCounterStyleFromSymbols(value, '', cjkSuffix);\n        case _listStyle.LIST_STYLE_TYPE.LAO:\n            return createCounterStyleFromRange(value, 0xed0, 0xed9, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.MONGOLIAN:\n            return createCounterStyleFromRange(value, 0x1810, 0x1819, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.MYANMAR:\n            return createCounterStyleFromRange(value, 0x1040, 0x1049, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.ORIYA:\n            return createCounterStyleFromRange(value, 0xb66, 0xb6f, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.PERSIAN:\n            return createCounterStyleFromRange(value, 0x6f0, 0x6f9, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.TAMIL:\n            return createCounterStyleFromRange(value, 0xbe6, 0xbef, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.TELUGU:\n            return createCounterStyleFromRange(value, 0xc66, 0xc6f, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.THAI:\n            return createCounterStyleFromRange(value, 0xe50, 0xe59, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.TIBETAN:\n            return createCounterStyleFromRange(value, 0xf20, 0xf29, true, defaultSuffix);\n        case _listStyle.LIST_STYLE_TYPE.DECIMAL:\n        default:\n            return createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\n    }\n};"],"sourceRoot":""}